{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-spa-router/Router.svelte","../../node_modules/svelte-spa-router/node_modules/regexparam/dist/regexparam.mjs","../../node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/variable.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/@rdfjs/dataset/isMatch.js","../../node_modules/@rdfjs/dataset/DatasetCore.js","../../node_modules/@rdfjs/dataset/index.js","../../node_modules/n3/src/IRIs.js","../../node_modules/n3/src/N3DataFactory.js","../../node_modules/n3/src/N3Lexer.js","../../node_modules/n3/src/N3Parser.js","../../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../../node_modules/process-es6/browser.js","../../node_modules/rollup-plugin-node-builtins/src/es6/inherits.js","../../node_modules/rollup-plugin-node-builtins/src/es6/util.js","../../node_modules/buffer-es6/base64.js","../../node_modules/buffer-es6/ieee754.js","../../node_modules/buffer-es6/isArray.js","../../node_modules/buffer-es6/index.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/buffer-list.js","../../node_modules/rollup-plugin-node-builtins/src/es6/string-decoder.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/readable.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/writable.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/duplex.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/transform.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/passthrough.js","../../node_modules/rollup-plugin-node-builtins/src/es6/stream.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/rdfjs-svelte/src/valueEditors/SimpleLiteralEditor.svelte","../../node_modules/rdfjs-svelte/node_modules/cl-editor/dist/index.js","../../node_modules/rdfjs-svelte/src/valueEditors/HtmlEditor.svelte","../../node_modules/rdfjs-svelte/src/valueEditors/BlankNodeEditor.svelte","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/awesomplete/awesomplete.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/IRIs.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3DataFactory.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Lexer.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Parser.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Writer.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Store.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Util.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3StreamParser.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3StreamWriter.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/node-fetch/browser.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/lib/SparqlEndpoint.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/lib/prefixplete.js","../../node_modules/rdfjs-svelte/src/valueEditors/NamedNodeEditor.svelte","../../node_modules/rdfjs-svelte/src/ExistingTermEditor.svelte","../../node_modules/rdfjs-svelte/src/TermEditor.svelte","../../node_modules/rdfjs-svelte/src/QuadEditor.svelte","../../node_modules/rdfjs-svelte/src/DatasetUtils.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/variable.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/isMatch.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/DatasetCore.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/index.js","../../node_modules/rdfjs-svelte/src/DatasetEditor.svelte","../../node_modules/rdfjs-svelte/src/images/SubjExpand.svelte","../../node_modules/rdfjs-svelte/src/images/ObjExpand.svelte","../../node_modules/rdfjs-svelte/src/ResourceNavigator.svelte","../../node_modules/rdfjs-svelte/src/BrowserRow.svelte","../../node_modules/rdfjs-svelte/src/DatasetBrowser.svelte","../../src/Entry.svelte","../../src/Components.svelte","../../src/routes.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.24.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","<script context=\"module\">\nimport {readable, derived} from 'svelte/store'\nimport {tick} from 'svelte'\n\n/**\n * Wraps a route to add route pre-conditions.\n * \n * @param {SvelteComponent} route - Svelte component for the route\n * @param {Object} [userData] - Optional object that will be passed to each `conditionsFailed` event\n * @param {...Function} conditions - Route pre-conditions to add, which will be executed in order\n * @returns {Object} Wrapped route\n */\nexport function wrap(route, userData, ...conditions) {\n    // Check if we don't have userData\n    if (userData && typeof userData == 'function') {\n        conditions = (conditions && conditions.length) ? conditions : []\n        conditions.unshift(userData)\n        userData = undefined\n    }\n\n    // Parameter route and each item of conditions must be functions\n    if (!route || typeof route != 'function') {\n        throw Error('Invalid parameter route')\n    }\n    if (conditions && conditions.length) {\n        for (let i = 0; i < conditions.length; i++) {\n            if (!conditions[i] || typeof conditions[i] != 'function') {\n                throw Error('Invalid parameter conditions[' + i + ']')\n            }\n        }\n    }\n\n    // Returns an object that contains all the functions to execute too\n    const obj = {route, userData}\n    if (conditions && conditions.length) {\n        obj.conditions = conditions\n    }\n\n    // The _sveltesparouter flag is to confirm the object was created by this router\n    Object.defineProperty(obj, '_sveltesparouter', {\n        value: true\n    })\n\n    return obj\n}\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    null,\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        set(getLocation())\n\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    return tick().then(() => {\n        window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n    })\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n * \n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function pop() {\n    // Execute this code when the current call stack is complete\n    return tick().then(() => {\n        window.history.back()\n    })\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    return tick().then(() => {\n        const dest = (location.charAt(0) == '#' ? '' : '#') + location\n        try {\n            window.history.replaceState(undefined, undefined, dest)\n        }\n        catch (e) {\n            // eslint-disable-next-line no-console\n            console.warn('Caught exception while replacing the current page. If you\\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.')\n        }\n\n        // The method above doesn't trigger the hashchange event, so let's do that manually\n        window.dispatchEvent(new Event('hashchange'))\n    })\n}\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n * @param {string} hrefVar - A string to use in place of the link's href attribute. Using this allows for updating link's targets reactively.\n */\nexport function link(node, hrefVar) {\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    updateLink(node, hrefVar || node.getAttribute('href'))\n\n    return {\n        update(updated) {\n            updateLink(node, updated)\n        }\n    }\n}\n\n// Internal function used by the link function\nfunction updateLink(node, href) {\n    // Destination must start with '/'\n    if (!href || href.length < 1 || href.charAt(0) != '/') {\n        throw Error('Invalid value for \"href\" attribute')\n    }\n\n    // Add # to the href attribute\n    node.setAttribute('href', '#' + href)\n}\n\n/**\n * Performs a callback in the next tick and returns a Promise that resolves once that's done\n *\n * @param {Function} cb - Callback to invoke\n * @returns {Promise} Promise that resolves after the callback has been invoked, with the return value of the callback (if any)\n * @deprecated Deprecated since version 2.2 and will be removed in version 3. Use `tick` from the Svelte runtime instead (`import {tick} from 'svelte'`).\n */\nexport function nextTickPromise(cb) {\n    // eslint-disable-next-line no-console\n    console.warn('nextTickPromise from \\'svelte-spa-router\\' is deprecated and will be removed in version 3; use the \\'tick\\' method from the Svelte runtime instead')\n    return tick().then(cb)\n}\n</script>\n\n{#if componentParams}\n  <svelte:component this=\"{component}\" params=\"{componentParams}\" on:routeEvent />\n{:else}\n  <svelte:component this=\"{component}\" on:routeEvent />\n{/if}\n\n<script>\nimport {createEventDispatcher} from 'svelte'\nimport regexparam from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent} component - Svelte component for the route\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument')\n        }\n\n        const {pattern, keys} = regexparam(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.route\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n        }\n        else {\n            this.component = component\n            this.conditions = []\n            this.userData = undefined\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, remove it before we run the matching\n        if (prefix && path.startsWith(prefix)) {\n            path = path.substr(prefix.length) || '/'\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            out[this._keys[i]] = matches[++i] || null\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {SvelteComponent} component - Svelte component\n     * @property {string} name - Name of the Svelte component\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {Object} [userData] - Custom data passed by the user\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {bool} Returns true if all the conditions succeeded\n     */\n    checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!this.conditions[i](detail)) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nconst dispatchNextTick = (name, detail) => {\n    // Execute this code when the current call stack is complete\n    tick().then(() => {\n        dispatch(name, detail)\n    })\n}\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n$: {\n    // Find a route matching the location\n    component = null\n    let i = 0\n    while (!component && i < routesList.length) {\n        const match = routesList[i].match($loc.location)\n        if (match) {\n            const detail = {\n                component: routesList[i].component,\n                name: routesList[i].component.name,\n                location: $loc.location,\n                querystring: $loc.querystring,\n                userData: routesList[i].userData\n            }\n\n            // Check if the route can be loaded - if all conditions succeed\n            if (!routesList[i].checkConditions(detail)) {\n                // Trigger an event to notify the user\n                dispatchNextTick('conditionsFailed', detail)\n                break\n            }\n            component = routesList[i].component\n            // Set componentParams onloy if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n            // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n            if (match && typeof match == 'object' && Object.keys(match).length) {\n                componentParams = match\n            }\n            else {\n                componentParams = null\n            }\n\n            dispatchNextTick('routeLoaded', detail)\n        }\n        i++\n    }\n}\n</script>\n","export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n","export function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n","export function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n","export function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n","import { NamedNode } from './named-node'\n\nexport function Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n","import { DefaultGraph } from './default-graph'\n\nexport function Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n","import { BlankNode } from './blank-node'\nimport { DefaultGraph } from './default-graph'\nimport { Literal } from './literal'\nimport { NamedNode } from './named-node'\nimport { Quad } from './quad'\nimport { Variable } from './variable'\n\nexport const defaultGraphInstance = new DefaultGraph()\n\nexport function namedNode (value) {\n  return new NamedNode(value)\n}\n\nexport function blankNode (value) {\n  return new BlankNode(value)\n}\n\nexport function literal (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nexport function defaultGraph () {\n  return defaultGraphInstance\n}\n\nexport function variable (value) {\n  return new Variable(value)\n}\n\nexport function quad (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || defaultGraphInstance)\n}\n\nexport function triple (subject, predicate, object) {\n  return quad(subject, predicate, object)\n}\n","function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n\nmodule.exports = BlankNode\n","function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n\nmodule.exports = DefaultGraph\n","function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n\nmodule.exports = NamedNode\n","var NamedNode = require('./named-node')\n\nfunction Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n\nmodule.exports = Literal\n","var DefaultGraph = require('./default-graph')\n\nfunction Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n\nmodule.exports = Quad\n","function Variable (name) {\n  this.value = name\n}\n\nVariable.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nVariable.prototype.termType = 'Variable'\n\nmodule.exports = Variable\n","var BlankNode = require('./blank-node')\nvar DefaultGraph = require('./default-graph')\nvar Literal = require('./literal')\nvar NamedNode = require('./named-node')\nvar Quad = require('./quad')\nvar Variable = require('./variable')\n\nfunction DataFactory () {}\n\nDataFactory.namedNode = function (value) {\n  return new NamedNode(value)\n}\n\nDataFactory.blankNode = function (value) {\n  return new BlankNode(value)\n}\n\nDataFactory.literal = function (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, DataFactory.namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nDataFactory.defaultGraph = function () {\n  return DataFactory.defaultGraphInstance\n}\n\nDataFactory.variable = function (value) {\n  return new Variable(value)\n}\n\nDataFactory.triple = function (subject, predicate, object) {\n  return DataFactory.quad(subject, predicate, object)\n}\n\nDataFactory.quad = function (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || DataFactory.defaultGraphInstance)\n}\n\nDataFactory.defaultGraphInstance = new DefaultGraph()\n\nmodule.exports = DataFactory\n","function isMatch (quad, subject, predicate, object, graph) {\n  if (subject && !quad.subject.equals(subject)) {\n    return false\n  }\n\n  if (predicate && !quad.predicate.equals(predicate)) {\n    return false\n  }\n\n  if (object && !quad.object.equals(object)) {\n    return false\n  }\n\n  if (graph && !quad.graph.equals(graph)) {\n    return false\n  }\n\n  return true\n}\n\nmodule.exports = isMatch\n","const isMatch = require('./isMatch')\n\nclass DatasetCore {\n  constructor (quads) {\n    this.quads = new Set()\n\n    if (quads) {\n      for (const quad of quads) {\n        this.quads.add(quad)\n      }\n    }\n  }\n\n  get size () {\n    return this.quads.size\n  }\n\n  add (quad) {\n    if (!this.has(quad)) {\n      this.quads.add(quad)\n    }\n\n    return this\n  }\n\n  delete (quad) {\n    for (const localQuad of this) {\n      if (isMatch(quad, localQuad.subject, localQuad.predicate, localQuad.object, localQuad.graph)) {\n        this.quads.delete(localQuad)\n\n        return this\n      }\n    }\n\n    return this\n  }\n\n  has (quad) {\n    for (const other of this) {\n      if (isMatch(other, quad.subject, quad.predicate, quad.object, quad.graph)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  match (subject, predicate, object, graph) {\n    const matches = new Set()\n\n    for (const quad of this) {\n      if (isMatch(quad, subject, predicate, object, graph)) {\n        matches.add(quad)\n      }\n    }\n\n    return new this.constructor(matches)\n  }\n\n  [Symbol.iterator] () {\n    return this.quads[Symbol.iterator]()\n  }\n}\n\nmodule.exports = DatasetCore\n","const rdf = require('@rdfjs/data-model')\nconst DatasetCore = require('./DatasetCore')\n\nfunction dataset (quads) {\n  return new DatasetCore(quads)\n}\n\nmodule.exports = Object.assign({ dataset }, rdf)\n","var RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: XSD + 'decimal',\n    boolean: XSD + 'boolean',\n    double:  XSD + 'double',\n    integer: XSD + 'integer',\n    string:  XSD + 'string',\n  },\n  rdf: {\n    type:       RDF + 'type',\n    nil:        RDF + 'nil',\n    first:      RDF + 'first',\n    rest:       RDF + 'rest',\n    langString: RDF + 'langString',\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: SWAP + 'reify#forSome',\n    forAll:  SWAP + 'reify#forAll',\n  },\n  log: {\n    implies: SWAP + 'log#implies',\n  },\n};\n","// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nconst { rdf, xsd } = namespaces;\n\nvar DataFactory, DEFAULTGRAPH;\n\nvar _blankNodeCounter = 0;\n\n// ## Term constructor\nclass Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nclass NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nclass Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    var id = this.id, atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    var id = this.id, dtPos = id.lastIndexOf('\"') + 1, ch;\n    // If \"^\" it follows, return the remaining substring\n    return dtPos < id.length && (ch = id[dtPos]) === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (ch !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nclass BlankNode extends Term {\n  constructor(name) {\n    super('_:' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nclass Variable extends Term {\n  constructor(name) {\n    super('?' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nclass DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n\n// ### Constructs a term from the given internal string ID\nfunction fromId(id, factory) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '_': return factory.blankNode(id.substr(2));\n  case '?': return factory.variable(id.substr(1));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    var endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  default:  return factory.namedNode(id);\n  }\n}\n\n// ### Constructs an internal string ID from the given term or ID string\nfunction toId(term) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term)\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return '_:' + term.value;\n  case 'Variable':     return '?' + term.value;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return '\"' + term.value + '\"' +\n    (term.language ? '@' + term.language :\n      (term.datatype && term.datatype.value !== xsd.string ? '^^' + term.datatype.value : ''));\n  default: throw new Error('Unexpected termType: ' + term.termType);\n  }\n}\n\n\n// ## Quad constructor\nclass Quad {\n  constructor(subject, predicate, object, graph) {\n    this.subject   = subject;\n    this.predicate = predicate;\n    this.object    = object;\n    this.graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      subject:   this.subject.toJSON(),\n      predicate: this.predicate.toJSON(),\n      object:    this.object.toJSON(),\n      graph:     this.graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this.subject.equals(other.subject)     &&\n                      this.predicate.equals(other.predicate) &&\n                      this.object.equals(other.object)       &&\n                      this.graph.equals(other.graph);\n  }\n}\n\n\n// ## DataFactory singleton\nDataFactory = {\n  // ### Public factory functions\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n\n  // ### Internal datatype constructors\n  internal: {\n    Term,\n    NamedNode,\n    BlankNode,\n    Variable,\n    Literal,\n    DefaultGraph,\n    Quad,\n    Triple: Quad,\n    fromId,\n    toId,\n  },\n};\nexport default DataFactory;\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal('\"' + value + '\"@' + languageOrDataType.toLowerCase());\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal('\"' + value + '\"') :\n    new Literal('\"' + value + '\"^^' + datatype);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n","// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nconst { xsd } = namespaces;\n\nconst { fromCharCode } = String;\n\n// Regular expression and replacement string to escape N3 strings.\n// Note how we catch invalid unicode sequences separately (they will trigger an error).\nvar escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\[uU]|\\\\(.)/g;\nvar escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nvar illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nvar lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nvar invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._number = /^[\\-+]?(?:(\\d+\\.\\d*|\\.?\\d+)[eE][\\-+]?|\\d*(\\.)?)\\d+(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s()\\[\\]\\{\\}\"'<])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (var key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    var input = this._input, outputComments = this._comments;\n    while (true) {\n      // Count and skip whitespace lines\n      var whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (outputComments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (outputComments && (comment = this._comment.exec(input)))\n            callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n          callback(input = null, { line: this._line, type: 'eof', value: '', prefix: '' });\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      var line = this._line, type = '', value = '', prefix = '',\n          firstChar = input[0], match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(input + ' ')))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(input + ' '))) {\n          type = 'literal', value = match[0];\n          prefix = (typeof match[1] === 'string' ? xsd.double :\n                    (typeof match[2] === 'string' ? xsd.decimal : xsd.integer));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '{':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(input + ' ')))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      var token = { line: line, type: type, value: value, prefix: prefix };\n      callback(null, token);\n      this.previousToken = token;\n      this._previousMarker = type;\n      // Advance to next part to tokenize\n      input = input.substr(matchLength || match[0].length, input.length);\n    }\n\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    try {\n      return item.replace(escapeSequence, function (sequence, unicode4, unicode8, escapedChar) {\n        var charCode;\n        if (unicode4) {\n          charCode = parseInt(unicode4, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          return fromCharCode(charCode);\n        }\n        else if (unicode8) {\n          charCode = parseInt(unicode8, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          if (charCode <= 0xFFFF) return fromCharCode(charCode);\n          return fromCharCode(0xD800 + ((charCode -= 0x10000) / 0x400), 0xDC00 + (charCode & 0x3FF));\n        }\n        else {\n          var replacement = escapeReplacements[escapedChar];\n          if (!replacement)\n            throw new Error();\n          return replacement;\n        }\n      });\n    }\n    catch (error) { return null; }\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    var err = new Error('Unexpected \"' + issue + '\" on line ' + this._line + '.');\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    var self = this;\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = input;\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        setImmediate(function () { self._tokenizeToEnd(callback, true); });\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        var tokens = [], error;\n        this._tokenizeToEnd(function (e, t) { e ? (error = e) : tokens.push(t); }, true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._input = '';\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', function (data) {\n        if (self._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (self._pendingBuffer) {\n            data = Buffer.concat([self._pendingBuffer, data]);\n            self._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            self._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            self._input += data;\n            self._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', function () {\n        if (self._input !== null)\n          self._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n","// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    var format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = format === 'turtle', isTriG = format === 'trig',\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = function (iri) { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      var fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    var n3Mode = this._n3Mode;\n    this._contextStack.push({\n      subject: subject, predicate: predicate, object: object,\n      graph: graph, type: type,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? this._graph.id.substr(2) + '.' : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext() {\n    var context = this._contextStack.pop(), n3Mode = this._n3Mode;\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    var value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      var iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      var prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error('Undefined prefix \"' + token.prefix + ':\"', token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error('Expected entity but got ' + token.type, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    var type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error('Unexpected ' + type, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error('Expected graph but got ' + token.type, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    var empty = this._predicate === null;\n    this._restoreContext();\n    // If the blank node was the subject, continue reading the predicate\n    if (this._object === null)\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n    // If the blank node was the object, restore previous context and read punctuation\n    else\n      return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    var item = null,                      // The item of the list\n        list = null,                      // The list itself\n        previousList = this._subject,     // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1], // The parent containing the current list\n        next = this._readListItem;        // The next function to execute\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext();\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      var datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext();\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    var next, subject = this._subject, graph = this._graph,\n        inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      var predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    var next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error('Expected IRI to follow prefix \"' + this._prefix + ':\"', token);\n    var prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    var iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    var entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error('Unexpected ' + token.type, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      var stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        var item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext();\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    var subject, predicate, object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    var subject = this._blankNode(), predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    var contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    var err = new Error(message + ' on line ' + token.line + '.');\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    var result = '', length = iri.length, i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return result + '/' + iri.substr(i + 1);\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    var self = this;\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : 'b' + blankNodePrefix++ + '_';\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      var quads = [], error;\n      this._callback = function (e, t) { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(function (token) {\n        return self._readCallback = self._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, function (error, token) {\n      if (error !== null)\n        self._callback(error), self._callback = noop;\n      else if (self._readCallback)\n        self._readCallback = self._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  var namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","import {Buffer} from 'buffer';\n\nexport default BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return Buffer.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = Buffer.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport {Buffer} from 'buffer';\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nexport function StringDecoder(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","'use strict';\n\n\nReadable.ReadableState = ReadableState;\nimport EventEmitter from 'events';\nimport {inherits, debuglog} from 'util';\nimport BufferList from './buffer-list';\nimport {StringDecoder} from 'string_decoder';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\n\nvar debug = debuglog('stream');\ninherits(Readable, EventEmitter);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event])\n      emitter.on(event, fn);\n    else if (Array.isArray(emitter._events[event]))\n      emitter._events[event].unshift(fn);\n    else\n      emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\nfunction listenerCount (emitter, type) {\n  return emitter.listeners(type).length;\n}\nfunction ReadableState(options, stream) {\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nexport default Readable;\nexport function Readable(options) {\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  EventEmitter.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = Buffer.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false);\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (listenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && src.listeners('data').length) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var _i = 0; _i < len; _i++) {\n      dests[_i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1) return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = EventEmitter.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n\nimport {inherits, deprecate} from 'util';\nimport {Buffer} from 'buffer';\nWritable.WritableState = WritableState;\nimport {EventEmitter} from 'events';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\ninherits(Writable, EventEmitter);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Object.defineProperty(this, 'buffer', {\n    get: deprecate(function () {\n      return this.getBuffer();\n    }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n  });\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function writableStateGetBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\nexport default Writable;\nexport function Writable(options) {\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  EventEmitter.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  nextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) nextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n        nextTick(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n","\nimport {inherits} from 'util';\nimport {nextTick} from 'process';\nimport {Readable} from './readable';\nimport {Writable} from './writable';\n\n\ninherits(Duplex, Readable);\n\nvar keys = Object.keys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\nexport default Duplex;\nexport function Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n","// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n\nimport {Duplex} from './duplex';\n\n\nimport {inherits} from 'util';\ninherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\nexport default Transform;\nexport function Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er) {\n      done(stream, er);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('Not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er) {\n  if (er) return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","\nimport {Transform} from './transform';\n\nimport {inherits} from 'util';\ninherits(PassThrough, Transform);\nexport default PassThrough;\nexport function PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","import EE from 'events';\nimport {inherits} from 'util';\n\nimport {Duplex} from './readable-stream/duplex.js';\nimport {Readable} from './readable-stream/readable.js';\nimport {Writable} from './readable-stream/writable.js';\nimport {Transform} from './readable-stream/transform.js';\nimport {PassThrough} from './readable-stream/passthrough.js';\ninherits(Stream, EE);\nStream.Readable = Readable;\nStream.Writable = Writable;\nStream.Duplex = Duplex;\nStream.Transform = Transform;\nStream.PassThrough = PassThrough;\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nexport default Stream;\nexport {Readable,Writable,Duplex,Transform,PassThrough,Stream}\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","export function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n","export function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n","export function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n","import { NamedNode } from './named-node'\n\nexport function Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n","import { DefaultGraph } from './default-graph'\n\nexport function Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n","import { BlankNode } from './blank-node'\nimport { DefaultGraph } from './default-graph'\nimport { Literal } from './literal'\nimport { NamedNode } from './named-node'\nimport { Quad } from './quad'\nimport { Variable } from './variable'\n\nexport const defaultGraphInstance = new DefaultGraph()\n\nexport function namedNode (value) {\n  return new NamedNode(value)\n}\n\nexport function blankNode (value) {\n  return new BlankNode(value)\n}\n\nexport function literal (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nexport function defaultGraph () {\n  return defaultGraphInstance\n}\n\nexport function variable (value) {\n  return new Variable(value)\n}\n\nexport function quad (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || defaultGraphInstance)\n}\n\nexport function triple (subject, predicate, object) {\n  return quad(subject, predicate, object)\n}\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  let content = \"\";\n  let lang = \"\";\n  export let value;\n  $: content = value.value;\n  $: lang = value.language;\n  function userChange(e) {\n    value = lang\n      ? Factory.literal(content, lang)\n      : Factory.literal(content, \"http://www.w3.org/2001/XMLSchema#string\");\n  }\n</script>\n\n<div>\n  <input type=\"text\" bind:value={content} on:input={userChange} />\n  <input\n    class=\"language\"\n    type=\"text\"\n    size=\"2\"\n    pattern=\"[a-z][a-z]\"\n    spellcheck=\"false\"\n    bind:value={lang} on:input={userChange} />\n</div>\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.clEditor = factory());\n}(this, (function () { 'use strict';\n\n    function noop() {}\n\n    function run(fn) {\n      return fn();\n    }\n\n    function blank_object() {\n      return Object.create(null);\n    }\n\n    function run_all(fns) {\n      fns.forEach(run);\n    }\n\n    function is_function(thing) {\n      return typeof thing === 'function';\n    }\n\n    function safe_not_equal(a, b) {\n      return a != a ? b == b : a !== b || a && typeof a === 'object' || typeof a === 'function';\n    }\n\n    function subscribe(store, ...callbacks) {\n      if (store == null) {\n        return noop;\n      }\n\n      const unsub = store.subscribe(...callbacks);\n      return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n    }\n\n    function get_store_value(store) {\n      let value;\n      subscribe(store, _ => value = _)();\n      return value;\n    }\n\n    function component_subscribe(component, store, callback) {\n      component.$$.on_destroy.push(subscribe(store, callback));\n    }\n\n    function set_store_value(store, ret, value = ret) {\n      store.set(value);\n      return ret;\n    }\n\n    function append(target, node) {\n      target.appendChild(node);\n    }\n\n    function insert(target, node, anchor) {\n      target.insertBefore(node, anchor || null);\n    }\n\n    function detach(node) {\n      node.parentNode.removeChild(node);\n    }\n\n    function destroy_each(iterations, detaching) {\n      for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i]) iterations[i].d(detaching);\n      }\n    }\n\n    function element(name) {\n      return document.createElement(name);\n    }\n\n    function text(data) {\n      return document.createTextNode(data);\n    }\n\n    function space() {\n      return text(' ');\n    }\n\n    function listen(node, event, handler, options) {\n      node.addEventListener(event, handler, options);\n      return () => node.removeEventListener(event, handler, options);\n    }\n\n    function prevent_default(fn) {\n      return function (event) {\n        event.preventDefault(); // @ts-ignore\n\n        return fn.call(this, event);\n      };\n    }\n\n    function attr(node, attribute, value) {\n      if (value == null) node.removeAttribute(attribute);else if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n    }\n\n    function children(element) {\n      return Array.from(element.childNodes);\n    }\n\n    function set_data(text, data) {\n      data = '' + data;\n      if (text.data !== data) text.data = data;\n    }\n\n    function set_input_value(input, value) {\n      if (value != null || input.value) {\n        input.value = value;\n      }\n    }\n\n    function set_style(node, key, value, important) {\n      node.style.setProperty(key, value, important ? 'important' : '');\n    }\n\n    function toggle_class(element, name, toggle) {\n      element.classList[toggle ? 'add' : 'remove'](name);\n    }\n\n    function custom_event(type, detail) {\n      const e = document.createEvent('CustomEvent');\n      e.initCustomEvent(type, false, false, detail);\n      return e;\n    }\n\n    class HtmlTag {\n      constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n      }\n\n      m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n          insert(target, this.n[i], anchor);\n        }\n\n        this.t = target;\n      }\n\n      u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n      }\n\n      p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n      }\n\n      d() {\n        this.n.forEach(detach);\n      }\n\n    }\n\n    let current_component;\n\n    function set_current_component(component) {\n      current_component = component;\n    }\n\n    function get_current_component() {\n      if (!current_component) throw new Error(`Function called outside component initialization`);\n      return current_component;\n    }\n\n    function onMount(fn) {\n      get_current_component().$$.on_mount.push(fn);\n    }\n\n    function createEventDispatcher() {\n      const component = get_current_component();\n      return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n\n        if (callbacks) {\n          // TODO are there situations where events could be dispatched\n          // in a server (non-DOM) environment?\n          const event = custom_event(type, detail);\n          callbacks.slice().forEach(fn => {\n            fn.call(component, event);\n          });\n        }\n      };\n    }\n\n    function setContext(key, context) {\n      get_current_component().$$.context.set(key, context);\n    }\n\n    const dirty_components = [];\n    const binding_callbacks = [];\n    const render_callbacks = [];\n    const flush_callbacks = [];\n    const resolved_promise = Promise.resolve();\n    let update_scheduled = false;\n\n    function schedule_update() {\n      if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n      }\n    }\n\n    function add_render_callback(fn) {\n      render_callbacks.push(fn);\n    }\n\n    let flushing = false;\n    const seen_callbacks = new Set();\n\n    function flush() {\n      if (flushing) return;\n      flushing = true;\n\n      do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n          const component = dirty_components[i];\n          set_current_component(component);\n          update(component.$$);\n        }\n\n        dirty_components.length = 0;\n\n        while (binding_callbacks.length) binding_callbacks.pop()(); // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n\n\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n          const callback = render_callbacks[i];\n\n          if (!seen_callbacks.has(callback)) {\n            // ...so guard against infinite loops\n            seen_callbacks.add(callback);\n            callback();\n          }\n        }\n\n        render_callbacks.length = 0;\n      } while (dirty_components.length);\n\n      while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n      }\n\n      update_scheduled = false;\n      flushing = false;\n      seen_callbacks.clear();\n    }\n\n    function update($$) {\n      if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n      }\n    }\n\n    const outroing = new Set();\n    let outros;\n\n    function transition_in(block, local) {\n      if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n      }\n    }\n\n    function transition_out(block, local, detach, callback) {\n      if (block && block.o) {\n        if (outroing.has(block)) return;\n        outroing.add(block);\n        outros.c.push(() => {\n          outroing.delete(block);\n\n          if (callback) {\n            if (detach) block.d(1);\n            callback();\n          }\n        });\n        block.o(local);\n      }\n    }\n\n    const globals = typeof window !== 'undefined' ? window : global;\n\n    function create_component(block) {\n      block && block.c();\n    }\n\n    function mount_component(component, target, anchor) {\n      const {\n        fragment,\n        on_mount,\n        on_destroy,\n        after_update\n      } = component.$$;\n      fragment && fragment.m(target, anchor); // onMount happens before the initial afterUpdate\n\n      add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n\n        if (on_destroy) {\n          on_destroy.push(...new_on_destroy);\n        } else {\n          // Edge case - component was destroyed immediately,\n          // most likely as a result of a binding initialising\n          run_all(new_on_destroy);\n        }\n\n        component.$$.on_mount = [];\n      });\n      after_update.forEach(add_render_callback);\n    }\n\n    function destroy_component(component, detaching) {\n      const $$ = component.$$;\n\n      if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching); // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n      }\n    }\n\n    function make_dirty(component, i) {\n      if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n      }\n\n      component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n    }\n\n    function init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n      const parent_component = current_component;\n      set_current_component(component);\n      const prop_values = options.props || {};\n      const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n      };\n      let ready = false;\n      $$.ctx = instance ? instance(component, prop_values, (i, ret, ...rest) => {\n        const value = rest.length ? rest[0] : ret;\n\n        if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n          if ($$.bound[i]) $$.bound[i](value);\n          if (ready) make_dirty(component, i);\n        }\n\n        return ret;\n      }) : [];\n      $$.update();\n      ready = true;\n      run_all($$.before_update); // `false` as a special case of no DOM component\n\n      $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\n      if (options.target) {\n        if (options.hydrate) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          $$.fragment && $$.fragment.l(children(options.target));\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          $$.fragment && $$.fragment.c();\n        }\n\n        if (options.intro) transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n      }\n\n      set_current_component(parent_component);\n    }\n\n    class SvelteComponent {\n      $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n      }\n\n      $on(type, callback) {\n        const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n        callbacks.push(callback);\n        return () => {\n          const index = callbacks.indexOf(callback);\n          if (index !== -1) callbacks.splice(index, 1);\n        };\n      }\n\n      $set() {// overridden by instance, if it has props\n      }\n\n    }\n\n    let t = {};\n\n    const exec = (command, value = null) => {\n      document.execCommand(command, false, value);\n    };\n\n    const getTagsRecursive = (element, tags) => {\n      tags = tags || (element && element.tagName ? [element.tagName] : []);\n\n      if (element && element.parentNode) {\n        element = element.parentNode;\n      } else {\n        return tags;\n      }\n\n      const tag = element.tagName;\n      if (element.style && element.getAttribute) {\n        [element.style.textAlign || element.getAttribute('align'), element.style.color || tag === 'FONT' && 'forecolor', element.style.backgroundColor && 'backcolor']\n          .filter((item) => item)\n          .forEach((item) => tags.push(item));\n      }\n\n      if (tag === 'DIV') {\n        return tags;\n      }\n\n      tags.push(tag);\n\n      return getTagsRecursive(element, tags).filter((_tag) => _tag != null);\n    };\n\n    const saveRange = (editor) => {\n      const documentSelection = document.getSelection();\n\n      t.range = null;\n\n      if (documentSelection.rangeCount) {\n          let savedRange = t.range = documentSelection.getRangeAt(0);\n          let range = document.createRange();\n          let rangeStart;\n          range.selectNodeContents(editor);\n          range.setEnd(savedRange.startContainer, savedRange.startOffset);\n          rangeStart = (range + '').length;\n          t.metaRange = {\n              start: rangeStart,\n              end: rangeStart + (savedRange + '').length\n          };\n      }\n    };\n    const restoreRange = (editor) => {\n      let metaRange = t.metaRange;\n      let savedRange = t.range;\n      let documentSelection = document.getSelection();\n      let range;\n\n      if (!savedRange) {\n          return;\n      }\n\n      if (metaRange && metaRange.start !== metaRange.end) { // Algorithm from http://jsfiddle.net/WeWy7/3/\n          let charIndex = 0,\n              nodeStack = [editor],\n              node,\n              foundStart = false,\n              stop = false;\n\n          range = document.createRange();\n\n          while (!stop && (node = nodeStack.pop())) {\n              if (node.nodeType === 3) {\n                  let nextCharIndex = charIndex + node.length;\n                  if (!foundStart && metaRange.start >= charIndex && metaRange.start <= nextCharIndex) {\n                      range.setStart(node, metaRange.start - charIndex);\n                      foundStart = true;\n                  }\n                  if (foundStart && metaRange.end >= charIndex && metaRange.end <= nextCharIndex) {\n                      range.setEnd(node, metaRange.end - charIndex);\n                      stop = true;\n                  }\n                  charIndex = nextCharIndex;\n              } else {\n                  let cn = node.childNodes;\n                  let i = cn.length;\n\n                  while (i > 0) {\n                      i -= 1;\n                      nodeStack.push(cn[i]);\n                  }\n              }\n          }\n      }\n\n      documentSelection.removeAllRanges();\n      documentSelection.addRange(range || savedRange);\n    };\n\n    const cleanHtml = (input) => {\n      const html = input.match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);\n      let output = html && html[1] || input;\n      output = output\n        .replace(/\\r?\\n|\\r/g, ' ')\n        .replace(/<!--(.*?)-->/g, '')\n        .replace(new RegExp('<(/)*(meta|link|span|\\\\?xml:|st1:|o:|font|w:sdt)(.*?)>', 'gi'), '')\n        .replace(/<!\\[if !supportLists\\]>(.*?)<!\\[endif\\]>/gi, '')\n        .replace(/style=\"[^\"]*\"/gi, '')\n        .replace(/style='[^']*'/gi, '')\n        .replace(/&nbsp;/gi, ' ')\n        .replace(/>(\\s+)</g, '><')\n        .replace(/class=\"[^\"]*\"/gi, '')\n        .replace(/class='[^']*'/gi, '')\n        .replace(/<[^/].*?>/g, i => i.split(/[ >]/g)[0] + '>')\n        .trim();\n\n        output = removeBadTags(output);\n        return output;\n    };\n\n    const unwrap = (wrapper) => {\n    \tconst docFrag = document.createDocumentFragment();\n    \twhile (wrapper.firstChild) {\n    \t\tconst child = wrapper.removeChild(wrapper.firstChild);\n    \t\tdocFrag.appendChild(child);\n    \t}\n\n    \t// replace wrapper with document fragment\n    \twrapper.parentNode.replaceChild(docFrag, wrapper);\n    };\n\n    const removeBlockTagsRecursive = (elements, tagsToRemove) => {\n      Array.from(elements).forEach((item) => {\n        if (tagsToRemove.some((tag) => tag === item.tagName.toLowerCase())) {\n          if (item.children.length) {\n            removeBlockTagsRecursive(item.children, tagsToRemove);\n          }\n          unwrap(item);\n        }\n      });\n    };\n\n    const getActionBtns = (actions) => {\n      return Object.keys(actions).map((action) => actions[action]);\n    };\n\n    const getNewActionObj = (actions, userActions = []) => {\n        if (userActions && userActions.length) {\n            const newActions = {};\n            userActions.forEach((action) => {\n                if (typeof action === 'string') {\n                    newActions[action] = Object.assign({}, actions[action]);\n                } else if (actions[action.name]) {\n                    newActions[action.name] = Object.assign(actions[action.name], action);\n                } else {\n                    newActions[action.name] = Object.assign({}, action);\n                }\n            });\n\n            return newActions;\n        } else {\n            return actions;\n        }\n    };\n\n    const removeBadTags = (html) => {\n        ['style', 'script', 'applet', 'embed', 'noframes', 'noscript'].forEach((badTag) => {\n            html = html.replace(new RegExp(`<${badTag}.*?${badTag}(.*?)>`, 'gi'), '');\n        });\n\n        return html;\n    };\n\n    const isEditorClick = (target, editorWrapper) => {\n        if (target === editorWrapper) {\n            return true;\n        }\n        if (target.parentElement) {\n            return isEditorClick(target.parentElement, editorWrapper);\n        }\n        return false;\n    };\n\n    const subscriber_queue = [];\n    /**\n     * Create a `Writable` store that allows both updating and reading by subscription.\n     * @param {*=}value initial value\n     * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n     */\n\n\n    function writable(value, start = noop) {\n      let stop;\n      const subscribers = [];\n\n      function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n          value = new_value;\n\n          if (stop) {\n            // store is ready\n            const run_queue = !subscriber_queue.length;\n\n            for (let i = 0; i < subscribers.length; i += 1) {\n              const s = subscribers[i];\n              s[1]();\n              subscriber_queue.push(s, value);\n            }\n\n            if (run_queue) {\n              for (let i = 0; i < subscriber_queue.length; i += 2) {\n                subscriber_queue[i][0](subscriber_queue[i + 1]);\n              }\n\n              subscriber_queue.length = 0;\n            }\n          }\n        }\n      }\n\n      function update(fn) {\n        set(fn(value));\n      }\n\n      function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n\n        if (subscribers.length === 1) {\n          stop = start(set) || noop;\n        }\n\n        run(value);\n        return () => {\n          const index = subscribers.indexOf(subscriber);\n\n          if (index !== -1) {\n            subscribers.splice(index, 1);\n          }\n\n          if (subscribers.length === 0) {\n            stop();\n            stop = null;\n          }\n        };\n      }\n\n      return {\n        set,\n        update,\n        subscribe\n      };\n    }\n\n    const linkSvg =\n    \t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z\"></path><path d=\"M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z\"></path></svg>';\n    const unlinkSvg =\n    \t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z\"></path><path d=\"M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z\"></path></svg>';\n\n    var defaultActions = {\n    \tviewHtml: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path fill=\"none\" stroke=\"currentColor\" stroke-width=\"8\" stroke-miterlimit=\"10\" d=\"M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9\"></path></svg>',\n    \t\ttitle: \"View HTML\",\n    \t\tresult: function() {\n    \t\t\tlet refs = get_store_value(this.references);\n    \t\t\tlet actionObj = get_store_value(this.state).actionObj;\n    \t\t\tlet helper = get_store_value(this.helper);\n\n    \t\t\thelper.showEditor = !helper.showEditor;\n    \t\t\trefs.editor.style.display = helper.showEditor ? \"block\" : \"none\";\n    \t\t\trefs.raw.style.display = helper.showEditor ? \"none\" : \"block\";\n    \t\t\tif (helper.showEditor) {\n    \t\t\t\trefs.editor.innerHTML = refs.raw.value;\n    \t\t\t} else {\n    \t\t\t\trefs.raw.value = refs.editor.innerHTML;\n    \t\t\t}\n    \t\t\tsetTimeout(() => {\n    \t\t\t\tObject.keys(actionObj).forEach(\n    \t\t\t\t\taction => (actionObj[action].disabled = !helper.showEditor)\n    \t\t\t\t);\n    \t\t\t\tactionObj.viewHtml.disabled = false;\n    \t\t\t\tactionObj.viewHtml.active = !helper.showEditor;\n\n    \t\t\t\tthis.state.update(state => {\n    \t\t\t\t\tstate.actionBtns = getActionBtns(actionObj);\n    \t\t\t\t\tstate.actionObj = actionObj;\n    \t\t\t\t\treturn state;\n    \t\t\t\t});\n    \t\t\t});\n    \t\t}\n    \t},\n    \tundo: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z\"></path></svg>',\n    \t\ttitle: \"Undo\",\n    \t\tresult: () => exec(\"undo\")\n    \t},\n    \tredo: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z\"></path></svg>',\n    \t\ttitle: \"Redo\",\n    \t\tresult: () => exec(\"redo\")\n    \t},\n    \tb: {\n    \t\ticon: \"<b>B</b>\",\n    \t\ttitle: \"Bold\",\n    \t\tresult: () => exec(\"bold\")\n    \t},\n    \ti: {\n    \t\ticon: \"<i>I</i>\",\n    \t\ttitle: \"Italic\",\n    \t\tresult: () => exec(\"italic\")\n    \t},\n    \tu: {\n    \t\ticon: \"<u>U</u>\",\n    \t\ttitle: \"Underline\",\n    \t\tresult: () => exec(\"underline\")\n    \t},\n    \tstrike: {\n    \t\ticon: \"<strike>S</strike>\",\n    \t\ttitle: \"Strike-through\",\n    \t\tresult: () => exec(\"strikeThrough\")\n    \t},\n    \tsup: {\n    \t\ticon: \"A<sup>2</sup>\",\n    \t\ttitle: \"Superscript\",\n    \t\tresult: () => exec(\"superscript\")\n    \t},\n    \tsub: {\n    \t\ticon: \"A<sub>2</sub>\",\n    \t\ttitle: \"Subscript\",\n    \t\tresult: () => exec(\"subscript\")\n    \t},\n    \th1: {\n    \t\ticon: \"<b>H<sub>1</sub></b>\",\n    \t\ttitle: \"Heading 1\",\n    \t\tresult: () => exec(\"formatBlock\", \"<H1>\")\n    \t},\n    \th2: {\n    \t\ticon: \"<b>H<sub>2</sub></b>\",\n    \t\ttitle: \"Heading 2\",\n    \t\tresult: () => exec(\"formatBlock\", \"<H2>\")\n    \t},\n    \tp: {\n    \t\ticon: \"&#182;\",\n    \t\ttitle: \"Paragraph\",\n    \t\tresult: () => exec(\"formatBlock\", \"<P>\")\n    \t},\n    \tblockquote: {\n    \t\ticon: \"&#8220; &#8221;\",\n    \t\ttitle: \"Quote\",\n    \t\tresult: () => exec(\"formatBlock\", \"<BLOCKQUOTE>\")\n    \t},\n    \tol: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z\"></path></svg>',\n    \t\ttitle: \"Ordered List\",\n    \t\tresult: () => exec(\"insertOrderedList\")\n    \t},\n    \tul: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z\"></path></svg>',\n    \t\ttitle: \"Unordered List\",\n    \t\tresult: () => exec(\"insertUnorderedList\")\n    \t},\n    \thr: {\n    \t\ticon: \"&#8213;\",\n    \t\ttitle: \"Horizontal Line\",\n    \t\tresult: () => exec(\"insertHorizontalRule\")\n    \t},\n    \tleft: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z\"></path></svg>',\n    \t\ttitle: \"Justify left\",\n    \t\tresult: () => exec(\"justifyLeft\")\n    \t},\n    \tright: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z\"></path></svg>',\n    \t\ttitle: \"Justify right\",\n    \t\tresult: () => exec(\"justifyRight\")\n    \t},\n    \tcenter: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z\"></path></svg>',\n    \t\ttitle: \"Justify center\",\n    \t\tresult: () => exec(\"justifyCenter\")\n    \t},\n    \tjustify: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z\"></path></svg>',\n    \t\ttitle: \"Justify full\",\n    \t\tresult: () => exec(\"justifyFull\")\n    \t},\n    \ta: {\n    \t\ticon: linkSvg,\n    \t\ttitle: \"Insert link\",\n    \t\tresult: function() {\n    \t\t\tconst actionObj = get_store_value(this.state).actionObj;\n    \t\t\tconst refs = get_store_value(this.references);\n\n    \t\t\tif (actionObj.a.active) {\n    \t\t\t\tconst selection = window.getSelection();\n    \t\t\t\tconst range = document.createRange();\n    \t\t\t\trange.selectNodeContents(document.getSelection().focusNode);\n    \t\t\t\tselection.removeAllRanges();\n    \t\t\t\tselection.addRange(range);\n    \t\t\t\texec(\"unlink\");\n    \t\t\t\tactionObj.a.title = \"Insert link\";\n    \t\t\t\tactionObj.a.icon = linkSvg;\n    \t\t\t\tthis.state.update(state => {\n    \t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\n    \t\t\t\t\tstate.actionObj = actionObj;\n    \t\t\t\t\treturn state;\n    \t\t\t\t});\n    \t\t\t} else {\n    \t\t\t\tsaveRange(refs.editor);\n    \t\t\t\trefs.modal.$set({\n    \t\t\t\t\tshow: true,\n    \t\t\t\t\tevent: \"linkUrl\",\n    \t\t\t\t\ttitle: \"Insert link\",\n    \t\t\t\t\tlabel: \"Url\"\n    \t\t\t\t});\n    \t\t\t\tif (!get_store_value(this.helper).link) {\n    \t\t\t\t\tthis.helper.update(state => {\n    \t\t\t\t\t\tstate.link = true;\n    \t\t\t\t\t\treturn state;\n    \t\t\t\t\t});\n    \t\t\t\t\trefs.modal.$on(\"linkUrl\", event => {\n    \t\t\t\t\t\trestoreRange(refs.editor);\n    \t\t\t\t\t\texec(\"createLink\", event.detail);\n    \t\t\t\t\t\tactionObj.a.title = \"Unlink\";\n    \t\t\t\t\t\tactionObj.a.icon = unlinkSvg;\n\n    \t\t\t\t\t\tthis.state.update(state => {\n    \t\t\t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\n    \t\t\t\t\t\t\tstate.actionObj = actionObj;\n    \t\t\t\t\t\t\treturn state;\n    \t\t\t\t\t\t});\n    \t\t\t\t\t});\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t},\n    \timage: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M64 17v38H8V17h56m8-8H0v54h72V9z\"></path><path d=\"M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z\"></path></svg>',\n    \t\ttitle: \"Image\",\n    \t\tresult: function() {\n    \t\t\tconst actionObj = get_store_value(this.state).actionObj;\n    \t\t\tconst refs = get_store_value(this.references);\n    \t\t\tsaveRange(refs.editor);\n    \t\t\trefs.modal.$set({\n    \t\t\t\tshow: true,\n    \t\t\t\tevent: \"imageUrl\",\n    \t\t\t\ttitle: \"Insert image\",\n    \t\t\t\tlabel: \"Url\"\n    \t\t\t});\n    \t\t\tif (!get_store_value(this.helper).image) {\n    \t\t\t\tthis.helper.update(state => {\n    \t\t\t\t\tstate.image = true;\n    \t\t\t\t\treturn state;\n    \t\t\t\t});\n    \t\t\t\trefs.modal.$on(\"imageUrl\", event => {\n    \t\t\t\t\trestoreRange(refs.editor);\n    \t\t\t\t\texec(\"insertImage\", event.detail);\n    \t\t\t\t});\n    \t\t\t}\n    \t\t}\n    \t},\n    \tforecolor: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z\"></path></svg>',\n    \t\ttitle: \"Text color\",\n    \t\tcolorPicker: true,\n    \t\tresult: function() {\n    \t\t\tshowColorPicker.call(this, \"foreColor\");\n    \t\t}\n    \t},\n    \tbackcolor: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M36.5 22.3l-6.3 18.1H43l-6.3-18.1z\"></path><path d=\"M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z\"></path></svg>',\n    \t\ttitle: \"Background color\",\n    \t\tcolorPicker: true,\n    \t\tresult: function() {\n    \t\t\tshowColorPicker.call(this, \"backColor\");\n    \t\t}\n    \t},\n    \tremoveFormat: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z\"></path></svg>',\n    \t\ttitle: \"Remove format\",\n    \t\tresult: function() {\n    \t\t\tconst refs = get_store_value(this.references);\n    \t\t\tconst selection = window.getSelection();\n    \t\t\tif (!selection.toString().length) {\n    \t\t\t\tremoveBlockTagsRecursive(\n    \t\t\t\t\trefs.editor.children,\n    \t\t\t\t\tthis.removeFormatTags\n    \t\t\t\t);\n    \t\t\t\tconst range = document.createRange();\n    \t\t\t\trange.selectNodeContents(refs.editor);\n    \t\t\t\tselection.removeAllRanges();\n    \t\t\t\tselection.addRange(range);\n    \t\t\t}\n    \t\t\texec(\"removeFormat\");\n    \t\t\tselection.removeAllRanges();\n    \t\t}\n    \t}\n    };\n\n    const showColorPicker = function(cmd) {\n    \tconst refs = get_store_value(this.references);\n    \tsaveRange(refs.editor);\n    \tconsole.log(refs.colorPicker);\n    \trefs.colorPicker.$set({show: true, event: cmd});\n    \tif (!get_store_value(this.helper)[cmd]) {\n    \t\tthis.helper.update(state => {\n    \t\t\tstate[cmd] = true;\n    \t\t\treturn state;\n    \t\t});\n    \t\trefs.colorPicker.$on(cmd, event => {\n    \t\t\tlet item = event.detail;\n    \t\t\tif (item.modal) {\n    \t\t\t\tthis.modal.$set({\n    \t\t\t\t\tshow: true,\n    \t\t\t\t\tevent: \"colorHref\",\n    \t\t\t\t\ttitle: \"Text color\",\n    \t\t\t\t\tlabel:\n    \t\t\t\t\t\tcmd === \"foreColor\" ? \"Text color\" : \"Background color\"\n    \t\t\t\t});\n    \t\t\t\tconst command = cmd;\n    \t\t\t\tif (!get_store_value(this.helper)[`${command}Modal`]) {\n    \t\t\t\t\tget_store_value(this.helper)[`${command}Modal`] = true;\n    \t\t\t\t\tthis.modal.$on(\"colorHref\", event => {\n    \t\t\t\t\t\tlet color = event.detail;\n    \t\t\t\t\t\trestoreRange(refs.editor);\n    \t\t\t\t\t\texec(command, color);\n    \t\t\t\t\t});\n    \t\t\t\t}\n    \t\t\t} else {\n    \t\t\t\trestoreRange(refs.editor);\n    \t\t\t\texec(cmd, item.color);\n    \t\t\t}\n    \t\t});\n    \t}\n    };\n\n    /* src/helpers/EditorModal.svelte generated by Svelte v3.18.2 */\n\n    function add_css() {\n    \tvar style = element(\"style\");\n    \tstyle.id = \"svelte-1d1bzev-style\";\n    \tstyle.textContent = \".cl-editor-modal.svelte-1d1bzev.svelte-1d1bzev{position:absolute;top:37px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);max-width:520px;width:100%;height:140px;backface-visibility:hidden;z-index:11}.cl-editor-overlay.svelte-1d1bzev.svelte-1d1bzev{position:absolute;background-color:rgba(255,255,255,.5);height:100%;width:100%;left:0;top:0;z-index:10}.modal-box.svelte-1d1bzev.svelte-1d1bzev{position:absolute;top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);max-width:500px;width:calc(100% - 20px);padding-bottom:36px;z-index:1;background-color:#FFF;text-align:center;font-size:14px;box-shadow:rgba(0,0,0,.2) 0 2px 3px;-webkit-backface-visibility:hidden;backface-visibility:hidden}.modal-title.svelte-1d1bzev.svelte-1d1bzev{font-size:24px;font-weight:700;margin:0 0 20px;padding:2px 0 4px;display:block;border-bottom:1px solid #EEE;color:#333;background:#fbfcfc}.modal-label.svelte-1d1bzev.svelte-1d1bzev{display:block;position:relative;margin:15px 12px;height:29px;line-height:29px;overflow:hidden}.modal-label.svelte-1d1bzev input.svelte-1d1bzev{position:absolute;top:0;right:0;height:27px;line-height:25px;border:1px solid #DEDEDE;background:#fff;font-size:14px;max-width:330px;width:70%;padding:0 7px;transition:all 150ms}.modal-label.svelte-1d1bzev input.svelte-1d1bzev:focus{outline:none}.input-error.svelte-1d1bzev input.svelte-1d1bzev{border:1px solid #e74c3c}.input-info.svelte-1d1bzev.svelte-1d1bzev{display:block;text-align:left;height:25px;line-height:25px;transition:all 150ms}.input-info.svelte-1d1bzev span.svelte-1d1bzev{display:block;color:#69878f;background-color:#fbfcfc;border:1px solid #DEDEDE;padding:0 7px;width:150px}.input-error.svelte-1d1bzev .input-info.svelte-1d1bzev{margin-top:-27px}.input-error.svelte-1d1bzev .msg-error.svelte-1d1bzev{color:#e74c3c}.modal-button.svelte-1d1bzev.svelte-1d1bzev{position:absolute;bottom:10px;right:0;text-decoration:none;color:#FFF;display:block;width:100px;height:35px;line-height:33px;margin:0 10px;background-color:#333;border:none;cursor:pointer;font-family:\\\"Lato\\\",Helvetica,Verdana,sans-serif;font-size:16px;transition:all 150ms}.modal-submit.svelte-1d1bzev.svelte-1d1bzev{right:110px;background:#2bc06a}.modal-reset.svelte-1d1bzev.svelte-1d1bzev{color:#555;background:#e6e6e6}\";\n    \tappend(document.head, style);\n    }\n\n    // (12:24) {#if error}\n    function create_if_block(ctx) {\n    \tlet span;\n\n    \treturn {\n    \t\tc() {\n    \t\t\tspan = element(\"span\");\n    \t\t\tspan.textContent = \"Required\";\n    \t\t\tattr(span, \"class\", \"msg-error svelte-1d1bzev\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, span, anchor);\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(span);\n    \t\t}\n    \t};\n    }\n\n    function create_fragment(ctx) {\n    \tlet div3;\n    \tlet div0;\n    \tlet t0;\n    \tlet div2;\n    \tlet div1;\n    \tlet span0;\n    \tlet t1;\n    \tlet t2;\n    \tlet form;\n    \tlet label_1;\n    \tlet input;\n    \tlet t3;\n    \tlet span2;\n    \tlet span1;\n    \tlet t4;\n    \tlet t5;\n    \tlet t6;\n    \tlet button0;\n    \tlet t8;\n    \tlet button1;\n    \tlet dispose;\n    \tlet if_block = /*error*/ ctx[2] && create_if_block();\n\n    \treturn {\n    \t\tc() {\n    \t\t\tdiv3 = element(\"div\");\n    \t\t\tdiv0 = element(\"div\");\n    \t\t\tt0 = space();\n    \t\t\tdiv2 = element(\"div\");\n    \t\t\tdiv1 = element(\"div\");\n    \t\t\tspan0 = element(\"span\");\n    \t\t\tt1 = text(/*title*/ ctx[3]);\n    \t\t\tt2 = space();\n    \t\t\tform = element(\"form\");\n    \t\t\tlabel_1 = element(\"label\");\n    \t\t\tinput = element(\"input\");\n    \t\t\tt3 = space();\n    \t\t\tspan2 = element(\"span\");\n    \t\t\tspan1 = element(\"span\");\n    \t\t\tt4 = text(/*label*/ ctx[4]);\n    \t\t\tt5 = space();\n    \t\t\tif (if_block) if_block.c();\n    \t\t\tt6 = space();\n    \t\t\tbutton0 = element(\"button\");\n    \t\t\tbutton0.textContent = \"Confirm\";\n    \t\t\tt8 = space();\n    \t\t\tbutton1 = element(\"button\");\n    \t\t\tbutton1.textContent = \"Cancel\";\n    \t\t\tattr(div0, \"class\", \"cl-editor-overlay svelte-1d1bzev\");\n    \t\t\tattr(span0, \"class\", \"modal-title svelte-1d1bzev\");\n    \t\t\tattr(input, \"type\", \"text\");\n    \t\t\tattr(input, \"name\", \"text\");\n    \t\t\tattr(input, \"class\", \"svelte-1d1bzev\");\n    \t\t\tattr(span1, \"class\", \"svelte-1d1bzev\");\n    \t\t\tattr(span2, \"class\", \"input-info svelte-1d1bzev\");\n    \t\t\tattr(label_1, \"class\", \"modal-label svelte-1d1bzev\");\n    \t\t\ttoggle_class(label_1, \"input-error\", /*error*/ ctx[2]);\n    \t\t\tattr(button0, \"class\", \"modal-button modal-submit svelte-1d1bzev\");\n    \t\t\tattr(button0, \"type\", \"submit\");\n    \t\t\tattr(button1, \"class\", \"modal-button modal-reset svelte-1d1bzev\");\n    \t\t\tattr(button1, \"type\", \"reset\");\n    \t\t\tattr(div1, \"class\", \"modal-box svelte-1d1bzev\");\n    \t\t\tattr(div2, \"class\", \"cl-editor-modal svelte-1d1bzev\");\n    \t\t\tset_style(div3, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, div3, anchor);\n    \t\t\tappend(div3, div0);\n    \t\t\tappend(div3, t0);\n    \t\t\tappend(div3, div2);\n    \t\t\tappend(div2, div1);\n    \t\t\tappend(div1, span0);\n    \t\t\tappend(span0, t1);\n    \t\t\tappend(div1, t2);\n    \t\t\tappend(div1, form);\n    \t\t\tappend(form, label_1);\n    \t\t\tappend(label_1, input);\n    \t\t\t/*input_binding*/ ctx[11](input);\n    \t\t\tset_input_value(input, /*text*/ ctx[1]);\n    \t\t\tappend(label_1, t3);\n    \t\t\tappend(label_1, span2);\n    \t\t\tappend(span2, span1);\n    \t\t\tappend(span1, t4);\n    \t\t\tappend(span2, t5);\n    \t\t\tif (if_block) if_block.m(span2, null);\n    \t\t\tappend(form, t6);\n    \t\t\tappend(form, button0);\n    \t\t\tappend(form, t8);\n    \t\t\tappend(form, button1);\n\n    \t\t\tdispose = [\n    \t\t\t\tlisten(div0, \"click\", /*cancel*/ ctx[7]),\n    \t\t\t\tlisten(input, \"keyup\", /*hideError*/ ctx[8]),\n    \t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[12]),\n    \t\t\t\tlisten(button1, \"click\", /*cancel*/ ctx[7]),\n    \t\t\t\tlisten(form, \"submit\", prevent_default(/*submit_handler*/ ctx[13]))\n    \t\t\t];\n    \t\t},\n    \t\tp(ctx, [dirty]) {\n    \t\t\tif (dirty & /*title*/ 8) set_data(t1, /*title*/ ctx[3]);\n\n    \t\t\tif (dirty & /*text*/ 2 && input.value !== /*text*/ ctx[1]) {\n    \t\t\t\tset_input_value(input, /*text*/ ctx[1]);\n    \t\t\t}\n\n    \t\t\tif (dirty & /*label*/ 16) set_data(t4, /*label*/ ctx[4]);\n\n    \t\t\tif (/*error*/ ctx[2]) {\n    \t\t\t\tif (!if_block) {\n    \t\t\t\t\tif_block = create_if_block();\n    \t\t\t\t\tif_block.c();\n    \t\t\t\t\tif_block.m(span2, null);\n    \t\t\t\t}\n    \t\t\t} else if (if_block) {\n    \t\t\t\tif_block.d(1);\n    \t\t\t\tif_block = null;\n    \t\t\t}\n\n    \t\t\tif (dirty & /*error*/ 4) {\n    \t\t\t\ttoggle_class(label_1, \"input-error\", /*error*/ ctx[2]);\n    \t\t\t}\n\n    \t\t\tif (dirty & /*show*/ 1) {\n    \t\t\t\tset_style(div3, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t\t}\n    \t\t},\n    \t\ti: noop,\n    \t\to: noop,\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(div3);\n    \t\t\t/*input_binding*/ ctx[11](null);\n    \t\t\tif (if_block) if_block.d();\n    \t\t\trun_all(dispose);\n    \t\t}\n    \t};\n    }\n\n    function instance($$self, $$props, $$invalidate) {\n    \tlet dispatcher = new createEventDispatcher();\n    \tlet { show = false } = $$props;\n    \tlet { text = \"\" } = $$props;\n    \tlet { event = \"\" } = $$props;\n    \tlet { title = \"\" } = $$props;\n    \tlet { label = \"\" } = $$props;\n    \tlet { error = false } = $$props;\n    \tlet refs = {};\n\n    \tfunction confirm() {\n    \t\tif (text) {\n    \t\t\tconsole.log(\"dispatcher\", text, event);\n    \t\t\tdispatcher(event, text);\n    \t\t\tcancel();\n    \t\t} else {\n    \t\t\t$$invalidate(2, error = true);\n    \t\t\trefs.text.focus();\n    \t\t}\n    \t}\n\n    \tfunction cancel() {\n    \t\t$$invalidate(0, show = false);\n    \t\t$$invalidate(1, text = \"\");\n    \t\t$$invalidate(2, error = false);\n    \t}\n\n    \tfunction hideError() {\n    \t\t$$invalidate(2, error = false);\n    \t}\n\n    \tfunction input_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\trefs.text = $$value;\n    \t\t\t$$invalidate(5, refs);\n    \t\t});\n    \t}\n\n    \tfunction input_input_handler() {\n    \t\ttext = this.value;\n    \t\t$$invalidate(1, text);\n    \t}\n\n    \tconst submit_handler = event => confirm();\n\n    \t$$self.$set = $$props => {\n    \t\tif (\"show\" in $$props) $$invalidate(0, show = $$props.show);\n    \t\tif (\"text\" in $$props) $$invalidate(1, text = $$props.text);\n    \t\tif (\"event\" in $$props) $$invalidate(9, event = $$props.event);\n    \t\tif (\"title\" in $$props) $$invalidate(3, title = $$props.title);\n    \t\tif (\"label\" in $$props) $$invalidate(4, label = $$props.label);\n    \t\tif (\"error\" in $$props) $$invalidate(2, error = $$props.error);\n    \t};\n\n    \t$$self.$$.update = () => {\n    \t\tif ($$self.$$.dirty & /*show, refs*/ 33) {\n    \t\t\t {\n    \t\t\t\tif (show) {\n    \t\t\t\t\tsetTimeout(() => {\n    \t\t\t\t\t\trefs.text.focus();\n    \t\t\t\t\t});\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t};\n\n    \treturn [\n    \t\tshow,\n    \t\ttext,\n    \t\terror,\n    \t\ttitle,\n    \t\tlabel,\n    \t\trefs,\n    \t\tconfirm,\n    \t\tcancel,\n    \t\thideError,\n    \t\tevent,\n    \t\tdispatcher,\n    \t\tinput_binding,\n    \t\tinput_input_handler,\n    \t\tsubmit_handler\n    \t];\n    }\n\n    class EditorModal extends SvelteComponent {\n    \tconstructor(options) {\n    \t\tsuper();\n    \t\tif (!document.getElementById(\"svelte-1d1bzev-style\")) add_css();\n\n    \t\tinit(this, options, instance, create_fragment, safe_not_equal, {\n    \t\t\tshow: 0,\n    \t\t\ttext: 1,\n    \t\t\tevent: 9,\n    \t\t\ttitle: 3,\n    \t\t\tlabel: 4,\n    \t\t\terror: 2\n    \t\t});\n    \t}\n\n    \tget show() {\n    \t\treturn this.$$.ctx[0];\n    \t}\n\n    \tset show(show) {\n    \t\tthis.$set({ show });\n    \t\tflush();\n    \t}\n\n    \tget text() {\n    \t\treturn this.$$.ctx[1];\n    \t}\n\n    \tset text(text) {\n    \t\tthis.$set({ text });\n    \t\tflush();\n    \t}\n\n    \tget event() {\n    \t\treturn this.$$.ctx[9];\n    \t}\n\n    \tset event(event) {\n    \t\tthis.$set({ event });\n    \t\tflush();\n    \t}\n\n    \tget title() {\n    \t\treturn this.$$.ctx[3];\n    \t}\n\n    \tset title(title) {\n    \t\tthis.$set({ title });\n    \t\tflush();\n    \t}\n\n    \tget label() {\n    \t\treturn this.$$.ctx[4];\n    \t}\n\n    \tset label(label) {\n    \t\tthis.$set({ label });\n    \t\tflush();\n    \t}\n\n    \tget error() {\n    \t\treturn this.$$.ctx[2];\n    \t}\n\n    \tset error(error) {\n    \t\tthis.$set({ error });\n    \t\tflush();\n    \t}\n    }\n\n    /* src/helpers/EditorColorPicker.svelte generated by Svelte v3.18.2 */\n\n    function add_css$1() {\n    \tvar style = element(\"style\");\n    \tstyle.id = \"svelte-njq4pk-style\";\n    \tstyle.textContent = \".color-picker-wrapper.svelte-njq4pk{border:1px solid #ecf0f1;border-top:none;background:#FFF;box-shadow:rgba(0,0,0,.1) 0 2px 3px;width:290px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:0;position:absolute;top:37px;z-index:11}.color-picker-overlay.svelte-njq4pk{position:absolute;background-color:rgba(255,255,255,.5);height:100%;width:100%;left:0;top:0;z-index:10}.color-picker-btn.svelte-njq4pk{display:block;position:relative;float:left;height:20px;width:20px;border:1px solid #333;padding:0;margin:2px;line-height:35px;text-decoration:none;background:#FFF;color:#333!important;cursor:pointer;text-align:left;font-size:15px;transition:all 150ms;line-height:20px;padding:0px 5px}.color-picker-btn.svelte-njq4pk:hover::after{content:\\\" \\\";display:block;position:absolute;top:-5px;left:-5px;height:27px;width:27px;background:inherit;border:1px solid #FFF;box-shadow:#000 0 0 2px;z-index:10}\";\n    \tappend(document.head, style);\n    }\n\n    function get_each_context(ctx, list, i) {\n    \tconst child_ctx = ctx.slice();\n    \tchild_ctx[9] = list[i];\n    \treturn child_ctx;\n    }\n\n    // (4:8) {#each btns as btn}\n    function create_each_block(ctx) {\n    \tlet button;\n    \tlet t_value = (/*btn*/ ctx[9].text || \"\") + \"\";\n    \tlet t;\n    \tlet dispose;\n\n    \tfunction click_handler(...args) {\n    \t\treturn /*click_handler*/ ctx[8](/*btn*/ ctx[9], ...args);\n    \t}\n\n    \treturn {\n    \t\tc() {\n    \t\t\tbutton = element(\"button\");\n    \t\t\tt = text(t_value);\n    \t\t\tattr(button, \"type\", \"button\");\n    \t\t\tattr(button, \"class\", \"color-picker-btn svelte-njq4pk\");\n    \t\t\tset_style(button, \"background-color\", /*btn*/ ctx[9].color);\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, button, anchor);\n    \t\t\tappend(button, t);\n    \t\t\tdispose = listen(button, \"click\", click_handler);\n    \t\t},\n    \t\tp(new_ctx, dirty) {\n    \t\t\tctx = new_ctx;\n    \t\t\tif (dirty & /*btns*/ 2 && t_value !== (t_value = (/*btn*/ ctx[9].text || \"\") + \"\")) set_data(t, t_value);\n\n    \t\t\tif (dirty & /*btns*/ 2) {\n    \t\t\t\tset_style(button, \"background-color\", /*btn*/ ctx[9].color);\n    \t\t\t}\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(button);\n    \t\t\tdispose();\n    \t\t}\n    \t};\n    }\n\n    function create_fragment$1(ctx) {\n    \tlet div2;\n    \tlet div0;\n    \tlet t;\n    \tlet div1;\n    \tlet dispose;\n    \tlet each_value = /*btns*/ ctx[1];\n    \tlet each_blocks = [];\n\n    \tfor (let i = 0; i < each_value.length; i += 1) {\n    \t\teach_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n    \t}\n\n    \treturn {\n    \t\tc() {\n    \t\t\tdiv2 = element(\"div\");\n    \t\t\tdiv0 = element(\"div\");\n    \t\t\tt = space();\n    \t\t\tdiv1 = element(\"div\");\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].c();\n    \t\t\t}\n\n    \t\t\tattr(div0, \"class\", \"color-picker-overlay svelte-njq4pk\");\n    \t\t\tattr(div1, \"class\", \"color-picker-wrapper svelte-njq4pk\");\n    \t\t\tset_style(div2, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, div2, anchor);\n    \t\t\tappend(div2, div0);\n    \t\t\tappend(div2, t);\n    \t\t\tappend(div2, div1);\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].m(div1, null);\n    \t\t\t}\n\n    \t\t\tdispose = listen(div0, \"click\", /*close*/ ctx[2]);\n    \t\t},\n    \t\tp(ctx, [dirty]) {\n    \t\t\tif (dirty & /*btns, selectColor*/ 10) {\n    \t\t\t\teach_value = /*btns*/ ctx[1];\n    \t\t\t\tlet i;\n\n    \t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n    \t\t\t\t\tconst child_ctx = get_each_context(ctx, each_value, i);\n\n    \t\t\t\t\tif (each_blocks[i]) {\n    \t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n    \t\t\t\t\t} else {\n    \t\t\t\t\t\teach_blocks[i] = create_each_block(child_ctx);\n    \t\t\t\t\t\teach_blocks[i].c();\n    \t\t\t\t\t\teach_blocks[i].m(div1, null);\n    \t\t\t\t\t}\n    \t\t\t\t}\n\n    \t\t\t\tfor (; i < each_blocks.length; i += 1) {\n    \t\t\t\t\teach_blocks[i].d(1);\n    \t\t\t\t}\n\n    \t\t\t\teach_blocks.length = each_value.length;\n    \t\t\t}\n\n    \t\t\tif (dirty & /*show*/ 1) {\n    \t\t\t\tset_style(div2, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t\t}\n    \t\t},\n    \t\ti: noop,\n    \t\to: noop,\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(div2);\n    \t\t\tdestroy_each(each_blocks, detaching);\n    \t\t\tdispose();\n    \t\t}\n    \t};\n    }\n\n    function instance$1($$self, $$props, $$invalidate) {\n    \tlet dispatcher = new createEventDispatcher();\n\n    \tconst colors = [\n    \t\t\"ffffff\",\n    \t\t\"000000\",\n    \t\t\"eeece1\",\n    \t\t\"1f497d\",\n    \t\t\"4f81bd\",\n    \t\t\"c0504d\",\n    \t\t\"9bbb59\",\n    \t\t\"8064a2\",\n    \t\t\"4bacc6\",\n    \t\t\"f79646\",\n    \t\t\"ffff00\",\n    \t\t\"f2f2f2\",\n    \t\t\"7f7f7f\",\n    \t\t\"ddd9c3\",\n    \t\t\"c6d9f0\",\n    \t\t\"dbe5f1\",\n    \t\t\"f2dcdb\",\n    \t\t\"ebf1dd\",\n    \t\t\"e5e0ec\",\n    \t\t\"dbeef3\",\n    \t\t\"fdeada\",\n    \t\t\"fff2ca\",\n    \t\t\"d8d8d8\",\n    \t\t\"595959\",\n    \t\t\"c4bd97\",\n    \t\t\"8db3e2\",\n    \t\t\"b8cce4\",\n    \t\t\"e5b9b7\",\n    \t\t\"d7e3bc\",\n    \t\t\"ccc1d9\",\n    \t\t\"b7dde8\",\n    \t\t\"fbd5b5\",\n    \t\t\"ffe694\",\n    \t\t\"bfbfbf\",\n    \t\t\"3f3f3f\",\n    \t\t\"938953\",\n    \t\t\"548dd4\",\n    \t\t\"95b3d7\",\n    \t\t\"d99694\",\n    \t\t\"c3d69b\",\n    \t\t\"b2a2c7\",\n    \t\t\"b7dde8\",\n    \t\t\"fac08f\",\n    \t\t\"f2c314\",\n    \t\t\"a5a5a5\",\n    \t\t\"262626\",\n    \t\t\"494429\",\n    \t\t\"17365d\",\n    \t\t\"366092\",\n    \t\t\"953734\",\n    \t\t\"76923c\",\n    \t\t\"5f497a\",\n    \t\t\"92cddc\",\n    \t\t\"e36c09\",\n    \t\t\"c09100\",\n    \t\t\"7f7f7f\",\n    \t\t\"0c0c0c\",\n    \t\t\"1d1b10\",\n    \t\t\"0f243e\",\n    \t\t\"244061\",\n    \t\t\"632423\",\n    \t\t\"4f6128\",\n    \t\t\"3f3151\",\n    \t\t\"31859b\",\n    \t\t\"974806\",\n    \t\t\"7f6000\"\n    \t];\n\n    \tconst getBtns = () => {\n    \t\tconst btns = colors.map(color => ({ color: `#${color}` }));\n    \t\tbtns.push({ text: \"#\", modal: true });\n    \t\treturn btns;\n    \t};\n\n    \tlet { show = false } = $$props;\n    \tlet { btns = [] } = $$props;\n    \tlet { event = \"\" } = $$props;\n\n    \tonMount(() => {\n    \t\t$$invalidate(1, btns = getBtns());\n    \t});\n\n    \tfunction close() {\n    \t\t$$invalidate(0, show = false);\n    \t}\n\n    \tfunction selectColor(btn) {\n    \t\tdispatcher(event, btn);\n    \t\tclose();\n    \t}\n\n    \tconst click_handler = (btn, event) => selectColor(btn);\n\n    \t$$self.$set = $$props => {\n    \t\tif (\"show\" in $$props) $$invalidate(0, show = $$props.show);\n    \t\tif (\"btns\" in $$props) $$invalidate(1, btns = $$props.btns);\n    \t\tif (\"event\" in $$props) $$invalidate(4, event = $$props.event);\n    \t};\n\n    \treturn [\n    \t\tshow,\n    \t\tbtns,\n    \t\tclose,\n    \t\tselectColor,\n    \t\tevent,\n    \t\tdispatcher,\n    \t\tcolors,\n    \t\tgetBtns,\n    \t\tclick_handler\n    \t];\n    }\n\n    class EditorColorPicker extends SvelteComponent {\n    \tconstructor(options) {\n    \t\tsuper();\n    \t\tif (!document.getElementById(\"svelte-njq4pk-style\")) add_css$1();\n    \t\tinit(this, options, instance$1, create_fragment$1, safe_not_equal, { show: 0, btns: 1, event: 4 });\n    \t}\n    }\n\n    const state = (function(name ){\n\n        let state = {\n            actionBtns: [],\n            actionObj: {}\n        };\n\n        const { subscribe, set, update } = writable(state);\n\n        return {\n            name,\n            set,\n            update,\n            subscribe\n        }\n    });\n\n    const createStateStore = state;\n\n    /* src/Editor.svelte generated by Svelte v3.18.2 */\n\n    const { document: document_1 } = globals;\n\n    function add_css$2() {\n    \tvar style = element(\"style\");\n    \tstyle.id = \"svelte-1a534py-style\";\n    \tstyle.textContent = \".cl.svelte-1a534py .svelte-1a534py{box-sizing:border-box}.cl.svelte-1a534py.svelte-1a534py{box-shadow:0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);box-sizing:border-box;width:100%;position:relative}.cl-content.svelte-1a534py.svelte-1a534py{height:300px;outline:0;overflow-y:auto;padding:10px;width:100%;background-color:white}.cl-actionbar.svelte-1a534py.svelte-1a534py{background-color:#ecf0f1;border-bottom:1px solid rgba(10, 10, 10, 0.1);width:100%}.cl-button.svelte-1a534py.svelte-1a534py{background-color:transparent;border:none;cursor:pointer;height:35px;outline:0;width:35px;vertical-align:top;position:relative}.cl-button.svelte-1a534py.svelte-1a534py:hover,.cl-button.active.svelte-1a534py.svelte-1a534py{background-color:#fff}.cl-button.svelte-1a534py.svelte-1a534py:disabled{opacity:.5;pointer-events:none}.cl-textarea.svelte-1a534py.svelte-1a534py{display:none;max-width:100%;min-width:100%;border:none;padding:10px}.cl-textarea.svelte-1a534py.svelte-1a534py:focus{outline:none}\";\n    \tappend(document_1.head, style);\n    }\n\n    function get_each_context$1(ctx, list, i) {\n    \tconst child_ctx = ctx.slice();\n    \tchild_ctx[35] = list[i];\n    \treturn child_ctx;\n    }\n\n    // (8:4) {#each $state.actionBtns as action}\n    function create_each_block$1(ctx) {\n    \tlet button;\n    \tlet html_tag;\n    \tlet raw_value = /*action*/ ctx[35].icon + \"\";\n    \tlet t;\n    \tlet button_class_value;\n    \tlet button_title_value;\n    \tlet button_disabled_value;\n    \tlet dispose;\n\n    \tfunction click_handler_1(...args) {\n    \t\treturn /*click_handler_1*/ ctx[25](/*action*/ ctx[35], ...args);\n    \t}\n\n    \treturn {\n    \t\tc() {\n    \t\t\tbutton = element(\"button\");\n    \t\t\tt = space();\n    \t\t\thtml_tag = new HtmlTag(raw_value, t);\n    \t\t\tattr(button, \"class\", button_class_value = \"cl-button \" + (/*action*/ ctx[35].active ? \"active\" : \"\") + \" svelte-1a534py\");\n    \t\t\tattr(button, \"title\", button_title_value = /*action*/ ctx[35].title);\n    \t\t\tbutton.disabled = button_disabled_value = /*action*/ ctx[35].disabled;\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, button, anchor);\n    \t\t\thtml_tag.m(button);\n    \t\t\tappend(button, t);\n    \t\t\tdispose = listen(button, \"click\", click_handler_1);\n    \t\t},\n    \t\tp(new_ctx, dirty) {\n    \t\t\tctx = new_ctx;\n    \t\t\tif (dirty[0] & /*$state*/ 2 && raw_value !== (raw_value = /*action*/ ctx[35].icon + \"\")) html_tag.p(raw_value);\n\n    \t\t\tif (dirty[0] & /*$state*/ 2 && button_class_value !== (button_class_value = \"cl-button \" + (/*action*/ ctx[35].active ? \"active\" : \"\") + \" svelte-1a534py\")) {\n    \t\t\t\tattr(button, \"class\", button_class_value);\n    \t\t\t}\n\n    \t\t\tif (dirty[0] & /*$state*/ 2 && button_title_value !== (button_title_value = /*action*/ ctx[35].title)) {\n    \t\t\t\tattr(button, \"title\", button_title_value);\n    \t\t\t}\n\n    \t\t\tif (dirty[0] & /*$state*/ 2 && button_disabled_value !== (button_disabled_value = /*action*/ ctx[35].disabled)) {\n    \t\t\t\tbutton.disabled = button_disabled_value;\n    \t\t\t}\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(button);\n    \t\t\tdispose();\n    \t\t}\n    \t};\n    }\n\n    function create_fragment$2(ctx) {\n    \tlet div2;\n    \tlet div0;\n    \tlet t0;\n    \tlet div1;\n    \tlet t1;\n    \tlet textarea;\n    \tlet t2;\n    \tlet t3;\n    \tlet current;\n    \tlet dispose;\n    \tlet each_value = /*$state*/ ctx[1].actionBtns;\n    \tlet each_blocks = [];\n\n    \tfor (let i = 0; i < each_value.length; i += 1) {\n    \t\teach_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n    \t}\n\n    \tlet editormodal_props = {};\n    \tconst editormodal = new EditorModal({ props: editormodal_props });\n    \t/*editormodal_binding*/ ctx[32](editormodal);\n    \tlet editorcolorpicker_props = {};\n    \tconst editorcolorpicker = new EditorColorPicker({ props: editorcolorpicker_props });\n    \t/*editorcolorpicker_binding*/ ctx[33](editorcolorpicker);\n\n    \treturn {\n    \t\tc() {\n    \t\t\tdiv2 = element(\"div\");\n    \t\t\tdiv0 = element(\"div\");\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].c();\n    \t\t\t}\n\n    \t\t\tt0 = space();\n    \t\t\tdiv1 = element(\"div\");\n    \t\t\tt1 = space();\n    \t\t\ttextarea = element(\"textarea\");\n    \t\t\tt2 = space();\n    \t\t\tcreate_component(editormodal.$$.fragment);\n    \t\t\tt3 = space();\n    \t\t\tcreate_component(editorcolorpicker.$$.fragment);\n    \t\t\tattr(div0, \"class\", \"cl-actionbar svelte-1a534py\");\n    \t\t\tattr(div1, \"class\", \"cl-content svelte-1a534py\");\n    \t\t\tset_style(div1, \"height\", /*height*/ ctx[0]);\n    \t\t\tattr(div1, \"contenteditable\", \"true\");\n    \t\t\tattr(textarea, \"class\", \"cl-textarea svelte-1a534py\");\n    \t\t\tset_style(textarea, \"max-height\", /*height*/ ctx[0]);\n    \t\t\tset_style(textarea, \"min-height\", /*height*/ ctx[0]);\n    \t\t\tattr(div2, \"class\", \"cl svelte-1a534py\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, div2, anchor);\n    \t\t\tappend(div2, div0);\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].m(div0, null);\n    \t\t\t}\n\n    \t\t\tappend(div2, t0);\n    \t\t\tappend(div2, div1);\n    \t\t\t/*div1_binding*/ ctx[26](div1);\n    \t\t\tappend(div2, t1);\n    \t\t\tappend(div2, textarea);\n    \t\t\t/*textarea_binding*/ ctx[31](textarea);\n    \t\t\tappend(div2, t2);\n    \t\t\tmount_component(editormodal, div2, null);\n    \t\t\tappend(div2, t3);\n    \t\t\tmount_component(editorcolorpicker, div2, null);\n    \t\t\t/*div2_binding*/ ctx[34](div2);\n    \t\t\tcurrent = true;\n\n    \t\t\tdispose = [\n    \t\t\t\tlisten(window, \"click\", /*click_handler*/ ctx[24]),\n    \t\t\t\tlisten(div1, \"input\", /*input_handler*/ ctx[27]),\n    \t\t\t\tlisten(div1, \"mouseup\", /*mouseup_handler*/ ctx[28]),\n    \t\t\t\tlisten(div1, \"keyup\", /*keyup_handler*/ ctx[29]),\n    \t\t\t\tlisten(div1, \"paste\", /*paste_handler*/ ctx[30])\n    \t\t\t];\n    \t\t},\n    \t\tp(ctx, dirty) {\n    \t\t\tif (dirty[0] & /*$state, _btnClicked*/ 66) {\n    \t\t\t\teach_value = /*$state*/ ctx[1].actionBtns;\n    \t\t\t\tlet i;\n\n    \t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n    \t\t\t\t\tconst child_ctx = get_each_context$1(ctx, each_value, i);\n\n    \t\t\t\t\tif (each_blocks[i]) {\n    \t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n    \t\t\t\t\t} else {\n    \t\t\t\t\t\teach_blocks[i] = create_each_block$1(child_ctx);\n    \t\t\t\t\t\teach_blocks[i].c();\n    \t\t\t\t\t\teach_blocks[i].m(div0, null);\n    \t\t\t\t\t}\n    \t\t\t\t}\n\n    \t\t\t\tfor (; i < each_blocks.length; i += 1) {\n    \t\t\t\t\teach_blocks[i].d(1);\n    \t\t\t\t}\n\n    \t\t\t\teach_blocks.length = each_value.length;\n    \t\t\t}\n\n    \t\t\tif (!current || dirty[0] & /*height*/ 1) {\n    \t\t\t\tset_style(div1, \"height\", /*height*/ ctx[0]);\n    \t\t\t}\n\n    \t\t\tif (!current || dirty[0] & /*height*/ 1) {\n    \t\t\t\tset_style(textarea, \"max-height\", /*height*/ ctx[0]);\n    \t\t\t}\n\n    \t\t\tif (!current || dirty[0] & /*height*/ 1) {\n    \t\t\t\tset_style(textarea, \"min-height\", /*height*/ ctx[0]);\n    \t\t\t}\n\n    \t\t\tconst editormodal_changes = {};\n    \t\t\teditormodal.$set(editormodal_changes);\n    \t\t\tconst editorcolorpicker_changes = {};\n    \t\t\teditorcolorpicker.$set(editorcolorpicker_changes);\n    \t\t},\n    \t\ti(local) {\n    \t\t\tif (current) return;\n    \t\t\ttransition_in(editormodal.$$.fragment, local);\n    \t\t\ttransition_in(editorcolorpicker.$$.fragment, local);\n    \t\t\tcurrent = true;\n    \t\t},\n    \t\to(local) {\n    \t\t\ttransition_out(editormodal.$$.fragment, local);\n    \t\t\ttransition_out(editorcolorpicker.$$.fragment, local);\n    \t\t\tcurrent = false;\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(div2);\n    \t\t\tdestroy_each(each_blocks, detaching);\n    \t\t\t/*div1_binding*/ ctx[26](null);\n    \t\t\t/*textarea_binding*/ ctx[31](null);\n    \t\t\t/*editormodal_binding*/ ctx[32](null);\n    \t\t\tdestroy_component(editormodal);\n    \t\t\t/*editorcolorpicker_binding*/ ctx[33](null);\n    \t\t\tdestroy_component(editorcolorpicker);\n    \t\t\t/*div2_binding*/ ctx[34](null);\n    \t\t\trun_all(dispose);\n    \t\t}\n    \t};\n    }\n\n    const editors = [];\n\n    function _onPaste(event) {\n    \tevent.preventDefault();\n\n    \texec$1(\"insertHTML\", event.clipboardData.getData(\"text/html\")\n    \t? cleanHtml(event.clipboardData.getData(\"text/html\"))\n    \t: event.clipboardData.getData(\"text\"));\n    }\n\n    function exec$1(cmd, value) {\n    \texec(cmd, value);\n    }\n\n    function instance$2($$self, $$props, $$invalidate) {\n    \tlet $state;\n    \tlet $references;\n    \tlet $helper;\n    \tlet dispatcher = new createEventDispatcher();\n    \tlet { actions = [] } = $$props;\n    \tlet { height = \"300px\" } = $$props;\n    \tlet { html = \"\" } = $$props;\n    \tlet { removeFormatTags = [\"h1\", \"h2\", \"blockquote\"] } = $$props;\n\n    \tlet helper = writable({\n    \t\tforeColor: false,\n    \t\tbackColor: false,\n    \t\tforeColorModal: false,\n    \t\tbackColorModal: false,\n    \t\timage: false,\n    \t\tlink: false,\n    \t\tshowEditor: true,\n    \t\tblurActive: false\n    \t});\n\n    \tcomponent_subscribe($$self, helper, value => $$invalidate(20, $helper = value));\n    \teditors.push({});\n    \tlet contextKey = \"editor_\" + editors.length;\n    \tlet state = createStateStore(contextKey);\n    \tcomponent_subscribe($$self, state, value => $$invalidate(1, $state = value));\n    \tlet references = writable({});\n    \tcomponent_subscribe($$self, references, value => $$invalidate(2, $references = value));\n    \tset_store_value(state, $state.actionObj = getNewActionObj(defaultActions, actions), $state);\n\n    \tlet context = {\n    \t\texec: exec$1,\n    \t\tgetHtml,\n    \t\tgetText,\n    \t\tsetHtml,\n    \t\tsaveRange: saveRange$1,\n    \t\trestoreRange: restoreRange$1,\n    \t\thelper,\n    \t\treferences,\n    \t\tstate,\n    \t\tremoveFormatTags\n    \t};\n\n    \tsetContext(contextKey, context);\n\n    \tonMount(() => {\n    \t\tset_store_value(state, $state.actionBtns = getActionBtns($state.actionObj), $state);\n    \t\tsetHtml(html);\n    \t});\n\n    \tfunction _btnClicked(action) {\n    \t\t$references.editor.focus();\n    \t\tsaveRange$1($references.editor);\n    \t\trestoreRange$1($references.editor);\n    \t\taction.result.call(context);\n    \t\t_handleButtonStatus();\n    \t}\n\n    \tfunction _handleButtonStatus(clearBtns) {\n    \t\tconst tags = clearBtns\n    \t\t? []\n    \t\t: getTagsRecursive(document.getSelection().focusNode);\n\n    \t\tObject.keys($state.actionObj).forEach(action => set_store_value(state, $state.actionObj[action].active = false, $state));\n    \t\ttags.forEach(tag => ($state.actionObj[tag.toLowerCase()] || {}).active = true);\n    \t\tset_store_value(state, $state.actionBtns = getActionBtns($state.actionObj), $state);\n    \t\tstate.set($state);\n    \t}\n\n    \tfunction _onChange(html) {\n    \t\tdispatcher(\"change\", html);\n    \t}\n\n    \tfunction _documentClick(event) {\n    \t\tif (!isEditorClick(event.target, $references.editorWrapper) && $helper.blurActive) {\n    \t\t\tdispatcher(\"blur\", event);\n    \t\t}\n\n    \t\tset_store_value(helper, $helper.blurActive = true, $helper);\n    \t}\n\n    \t\n\n    \tfunction getHtml(sanitize) {\n    \t\treturn sanitize\n    \t\t? removeBadTags($references.editor.innerHTML)\n    \t\t: $references.editor.innerHTML;\n    \t}\n\n    \tfunction getText() {\n    \t\treturn $references.editor.innerText;\n    \t}\n\n    \tfunction setHtml(html, sanitize) {\n    \t\tset_store_value(references, $references.editor.innerHTML = sanitize ? removeBadTags(html) : html || \"\", $references);\n    \t}\n\n    \tfunction saveRange$1() {\n    \t\tsaveRange($references.editor);\n    \t}\n\n    \tfunction restoreRange$1() {\n    \t\trestoreRange($references.editor);\n    \t}\n\n    \tconst refs = $references;\n    \tconst click_handler = event => _documentClick(event);\n    \tconst click_handler_1 = (action, event) => _btnClicked(action);\n\n    \tfunction div1_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.editor = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tconst input_handler = event => _onChange(event.target.innerHTML);\n    \tconst mouseup_handler = () => _handleButtonStatus();\n    \tconst keyup_handler = () => _handleButtonStatus();\n    \tconst paste_handler = event => _onPaste(event);\n\n    \tfunction textarea_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.raw = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tfunction editormodal_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.modal = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tfunction editorcolorpicker_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.colorPicker = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tfunction div2_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.editorWrapper = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \t$$self.$set = $$props => {\n    \t\tif (\"actions\" in $$props) $$invalidate(10, actions = $$props.actions);\n    \t\tif (\"height\" in $$props) $$invalidate(0, height = $$props.height);\n    \t\tif (\"html\" in $$props) $$invalidate(11, html = $$props.html);\n    \t\tif (\"removeFormatTags\" in $$props) $$invalidate(12, removeFormatTags = $$props.removeFormatTags);\n    \t};\n\n    \treturn [\n    \t\theight,\n    \t\t$state,\n    \t\t$references,\n    \t\thelper,\n    \t\tstate,\n    \t\treferences,\n    \t\t_btnClicked,\n    \t\t_handleButtonStatus,\n    \t\t_onChange,\n    \t\t_documentClick,\n    \t\tactions,\n    \t\thtml,\n    \t\tremoveFormatTags,\n    \t\texec$1,\n    \t\tgetHtml,\n    \t\tgetText,\n    \t\tsetHtml,\n    \t\tsaveRange$1,\n    \t\trestoreRange$1,\n    \t\trefs,\n    \t\t$helper,\n    \t\tdispatcher,\n    \t\tcontextKey,\n    \t\tcontext,\n    \t\tclick_handler,\n    \t\tclick_handler_1,\n    \t\tdiv1_binding,\n    \t\tinput_handler,\n    \t\tmouseup_handler,\n    \t\tkeyup_handler,\n    \t\tpaste_handler,\n    \t\ttextarea_binding,\n    \t\teditormodal_binding,\n    \t\teditorcolorpicker_binding,\n    \t\tdiv2_binding\n    \t];\n    }\n\n    class Editor extends SvelteComponent {\n    \tconstructor(options) {\n    \t\tsuper();\n    \t\tif (!document_1.getElementById(\"svelte-1a534py-style\")) add_css$2();\n\n    \t\tinit(\n    \t\t\tthis,\n    \t\t\toptions,\n    \t\t\tinstance$2,\n    \t\t\tcreate_fragment$2,\n    \t\t\tsafe_not_equal,\n    \t\t\t{\n    \t\t\t\tactions: 10,\n    \t\t\t\theight: 0,\n    \t\t\t\thtml: 11,\n    \t\t\t\tremoveFormatTags: 12,\n    \t\t\t\texec: 13,\n    \t\t\t\tgetHtml: 14,\n    \t\t\t\tgetText: 15,\n    \t\t\t\tsetHtml: 16,\n    \t\t\t\tsaveRange: 17,\n    \t\t\t\trestoreRange: 18,\n    \t\t\t\trefs: 19\n    \t\t\t},\n    \t\t\t[-1, -1]\n    \t\t);\n    \t}\n\n    \tget actions() {\n    \t\treturn this.$$.ctx[10];\n    \t}\n\n    \tset actions(actions) {\n    \t\tthis.$set({ actions });\n    \t\tflush();\n    \t}\n\n    \tget height() {\n    \t\treturn this.$$.ctx[0];\n    \t}\n\n    \tset height(height) {\n    \t\tthis.$set({ height });\n    \t\tflush();\n    \t}\n\n    \tget html() {\n    \t\treturn this.$$.ctx[11];\n    \t}\n\n    \tset html(html) {\n    \t\tthis.$set({ html });\n    \t\tflush();\n    \t}\n\n    \tget removeFormatTags() {\n    \t\treturn this.$$.ctx[12];\n    \t}\n\n    \tset removeFormatTags(removeFormatTags) {\n    \t\tthis.$set({ removeFormatTags });\n    \t\tflush();\n    \t}\n\n    \tget exec() {\n    \t\treturn exec$1;\n    \t}\n\n    \tget getHtml() {\n    \t\treturn this.$$.ctx[14];\n    \t}\n\n    \tget getText() {\n    \t\treturn this.$$.ctx[15];\n    \t}\n\n    \tget setHtml() {\n    \t\treturn this.$$.ctx[16];\n    \t}\n\n    \tget saveRange() {\n    \t\treturn this.$$.ctx[17];\n    \t}\n\n    \tget restoreRange() {\n    \t\treturn this.$$.ctx[18];\n    \t}\n\n    \tget refs() {\n    \t\treturn this.$$.ctx[19];\n    \t}\n    }\n\n    return Editor;\n\n})));\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Editor from \"cl-editor/dist\";\n  import { onMount } from \"svelte\";\n\n  let editArea;\n  let editor;\n\n  export let value;\n\n  let content;\n\n  $: {\n    content = value.value;\n    if (editor) {\n      if (editor.getHtml() !== content) {\n        editor.setHtml(content)\n      }\n    }\n  }\n  onMount(() => {\n    editor = new Editor({\n      target: editArea,\n      props: {\n        actions: ['b', 'i', 'u', 'strike', 'removeFormat'],\n        height: 'auto',\n        html: content\n      }\n    });\n    editor.$on(\"change\", (e) => {\n      value = Factory.literal(\n        editor.getHtml(),\n        \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\"\n      );\n    });\n  });\n</script>\n\n<div bind:this={editArea} />\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  export let value;\n  let content;\n  $: content = value.value;\n  function userChange(e) {\n    value = Factory.blankNode(content);\n  }\n</script>\n\n<div>\n  <input type=\"text\" size=\"5\" bind:value={content} on:input={userChange} />\n</div>\n","/**\n * Simple, lightweight, usable local autocomplete library for modern browsers\n * Because there weren’t enough autocomplete scripts in the world? Because I’m completely insane and have NIH syndrome? Probably both. :P\n * @author Lea Verou http://leaverou.github.io/awesomplete\n * MIT license\n */\n\n(function () {\n\nvar _ = function (input, o) {\n\tvar me = this;\n\n    // Keep track of number of instances for unique IDs\n    _.count = (_.count || 0) + 1;\n    this.count = _.count;\n\n\t// Setup\n\n\tthis.isOpened = false;\n\n\tthis.input = $(input);\n\tthis.input.setAttribute(\"autocomplete\", \"off\");\n\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\tthis.input.setAttribute(\"aria-owns\", \"awesomplete_list_\" + this.count);\n\tthis.input.setAttribute(\"role\", \"combobox\");\n\n\t// store constructor options in case we need to distinguish\n\t// between default and customized behavior later on\n\tthis.options = o = o || {};\n\n\tconfigure(this, {\n\t\tminChars: 2,\n\t\tmaxItems: 10,\n\t\tautoFirst: false,\n\t\tdata: _.DATA,\n\t\tfilter: _.FILTER_CONTAINS,\n\t\tsort: o.sort === false ? false : _.SORT_BYLENGTH,\n\t\tcontainer: _.CONTAINER,\n\t\titem: _.ITEM,\n\t\treplace: _.REPLACE,\n\t\ttabSelect: false\n\t}, o);\n\n\tthis.index = -1;\n\n\t// Create necessary elements\n\n\tthis.container = this.container(input);\n\n\tthis.ul = $.create(\"ul\", {\n\t\thidden: \"hidden\",\n        role: \"listbox\",\n        id: \"awesomplete_list_\" + this.count,\n\t\tinside: this.container\n\t});\n\n\tthis.status = $.create(\"span\", {\n\t\tclassName: \"visually-hidden\",\n\t\trole: \"status\",\n\t\t\"aria-live\": \"assertive\",\n        \"aria-atomic\": true,\n        inside: this.container,\n        textContent: this.minChars != 0 ? (\"Type \" + this.minChars + \" or more characters for results.\") : \"Begin typing for results.\"\n\t});\n\n\t// Bind events\n\n\tthis._events = {\n\t\tinput: {\n\t\t\t\"input\": this.evaluate.bind(this),\n\t\t\t\"blur\": this.close.bind(this, { reason: \"blur\" }),\n\t\t\t\"keydown\": function(evt) {\n\t\t\t\tvar c = evt.keyCode;\n\n\t\t\t\t// If the dropdown `ul` is in view, then act on keydown for the following keys:\n\t\t\t\t// Enter / Esc / Up / Down\n\t\t\t\tif(me.opened) {\n\t\t\t\t\tif (c === 13 && me.selected) { // Enter\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 9 && me.selected && me.tabSelect) {\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 27) { // Esc\n\t\t\t\t\t\tme.close({ reason: \"esc\" });\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 38 || c === 40) { // Down/Up arrow\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme[c === 38? \"previous\" : \"next\"]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tform: {\n\t\t\t\"submit\": this.close.bind(this, { reason: \"submit\" })\n\t\t},\n\t\tul: {\n\t\t\t// Prevent the default mousedowm, which ensures the input is not blurred.\n\t\t\t// The actual selection will happen on click. This also ensures dragging the\n\t\t\t// cursor away from the list item will cancel the selection\n\t\t\t\"mousedown\": function(evt) {\n\t\t\t\tevt.preventDefault();\n\t\t\t},\n\t\t\t// The click event is fired even if the corresponding mousedown event has called preventDefault\n\t\t\t\"click\": function(evt) {\n\t\t\t\tvar li = evt.target;\n\n\t\t\t\tif (li !== this) {\n\n\t\t\t\t\twhile (li && !/li/i.test(li.nodeName)) {\n\t\t\t\t\t\tli = li.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (li && evt.button === 0) {  // Only select on left click\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(li, evt.target, evt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.bind(this.input, this._events.input);\n\t$.bind(this.input.form, this._events.form);\n\t$.bind(this.ul, this._events.ul);\n\n\tif (this.input.hasAttribute(\"list\")) {\n\t\tthis.list = \"#\" + this.input.getAttribute(\"list\");\n\t\tthis.input.removeAttribute(\"list\");\n\t}\n\telse {\n\t\tthis.list = this.input.getAttribute(\"data-list\") || o.list || [];\n\t}\n\n\t_.all.push(this);\n};\n\n_.prototype = {\n\tset list(list) {\n\t\tif (Array.isArray(list)) {\n\t\t\tthis._list = list;\n\t\t}\n\t\telse if (typeof list === \"string\" && list.indexOf(\",\") > -1) {\n\t\t\t\tthis._list = list.split(/\\s*,\\s*/);\n\t\t}\n\t\telse { // Element or CSS selector\n\t\t\tlist = $(list);\n\n\t\t\tif (list && list.children) {\n\t\t\t\tvar items = [];\n\t\t\t\tslice.apply(list.children).forEach(function (el) {\n\t\t\t\t\tif (!el.disabled) {\n\t\t\t\t\t\tvar text = el.textContent.trim();\n\t\t\t\t\t\tvar value = el.value || text;\n\t\t\t\t\t\tvar label = el.label || text;\n\t\t\t\t\t\tif (value !== \"\") {\n\t\t\t\t\t\t\titems.push({ label: label, value: value });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis._list = items;\n\t\t\t}\n\t\t}\n\n\t\tif (document.activeElement === this.input) {\n\t\t\tthis.evaluate();\n\t\t}\n\t},\n\n\tget selected() {\n\t\treturn this.index > -1;\n\t},\n\n\tget opened() {\n\t\treturn this.isOpened;\n\t},\n\n\tclose: function (o) {\n\t\tif (!this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\t\tthis.ul.setAttribute(\"hidden\", \"\");\n\t\tthis.isOpened = false;\n\t\tthis.index = -1;\n\n\t\tthis.status.setAttribute(\"hidden\", \"\");\n\n\t\t$.fire(this.input, \"awesomplete-close\", o || {});\n\t},\n\n\topen: function () {\n\t\tthis.input.setAttribute(\"aria-expanded\", \"true\");\n\t\tthis.ul.removeAttribute(\"hidden\");\n\t\tthis.isOpened = true;\n\n\t\tthis.status.removeAttribute(\"hidden\");\n\n\t\tif (this.autoFirst && this.index === -1) {\n\t\t\tthis.goto(0);\n\t\t}\n\n\t\t$.fire(this.input, \"awesomplete-open\");\n\t},\n\n\tdestroy: function() {\n\t\t//remove events from the input and its form\n\t\t$.unbind(this.input, this._events.input);\n\t\t$.unbind(this.input.form, this._events.form);\n\n\t\t// cleanup container if it was created by Awesomplete but leave it alone otherwise\n\t\tif (!this.options.container) {\n\t\t\t//move the input out of the awesomplete container and remove the container and its children\n\t\t\tvar parentNode = this.container.parentNode;\n\n\t\t\tparentNode.insertBefore(this.input, this.container);\n\t\t\tparentNode.removeChild(this.container);\n\t\t}\n\n\t\t//remove autocomplete and aria-autocomplete attributes\n\t\tthis.input.removeAttribute(\"autocomplete\");\n\t\tthis.input.removeAttribute(\"aria-autocomplete\");\n\n\t\t//remove this awesomeplete instance from the global array of instances\n\t\tvar indexOfAwesomplete = _.all.indexOf(this);\n\n\t\tif (indexOfAwesomplete !== -1) {\n\t\t\t_.all.splice(indexOfAwesomplete, 1);\n\t\t}\n\t},\n\n\tnext: function () {\n\t\tvar count = this.ul.children.length;\n\t\tthis.goto(this.index < count - 1 ? this.index + 1 : (count ? 0 : -1) );\n\t},\n\n\tprevious: function () {\n\t\tvar count = this.ul.children.length;\n\t\tvar pos = this.index - 1;\n\n\t\tthis.goto(this.selected && pos !== -1 ? pos : count - 1);\n\t},\n\n\t// Should not be used, highlights specific item without any checks!\n\tgoto: function (i) {\n\t\tvar lis = this.ul.children;\n\n\t\tif (this.selected) {\n\t\t\tlis[this.index].setAttribute(\"aria-selected\", \"false\");\n\t\t}\n\n\t\tthis.index = i;\n\n\t\tif (i > -1 && lis.length > 0) {\n\t\t\tlis[i].setAttribute(\"aria-selected\", \"true\");\n\n\t\t\tthis.status.textContent = lis[i].textContent + \", list item \" + (i + 1) + \" of \" + lis.length;\n\n            this.input.setAttribute(\"aria-activedescendant\", this.ul.id + \"_item_\" + this.index);\n\n\t\t\t// scroll to highlighted element in case parent's height is fixed\n\t\t\tthis.ul.scrollTop = lis[i].offsetTop - this.ul.clientHeight + lis[i].clientHeight;\n\n\t\t\t$.fire(this.input, \"awesomplete-highlight\", {\n\t\t\t\ttext: this.suggestions[this.index]\n\t\t\t});\n\t\t}\n\t},\n\n\tselect: function (selected, origin, originalEvent) {\n\t\tif (selected) {\n\t\t\tthis.index = $.siblingIndex(selected);\n\t\t} else {\n\t\t\tselected = this.ul.children[this.index];\n\t\t}\n\n\t\tif (selected) {\n\t\t\tvar suggestion = this.suggestions[this.index];\n\n\t\t\tvar allowed = $.fire(this.input, \"awesomplete-select\", {\n\t\t\t\ttext: suggestion,\n\t\t\t\torigin: origin || selected,\n\t\t\t\toriginalEvent: originalEvent\n\t\t\t});\n\n\t\t\tif (allowed) {\n\t\t\t\tthis.replace(suggestion);\n\t\t\t\tthis.close({ reason: \"select\" });\n\t\t\t\t$.fire(this.input, \"awesomplete-selectcomplete\", {\n\t\t\t\t\ttext: suggestion,\n\t\t\t\t\toriginalEvent: originalEvent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\tevaluate: function() {\n\t\tvar me = this;\n\t\tvar value = this.input.value;\n\n\t\tif (value.length >= this.minChars && this._list && this._list.length > 0) {\n\t\t\tthis.index = -1;\n\t\t\t// Populate list with options that match\n\t\t\tthis.ul.innerHTML = \"\";\n\n\t\t\tthis.suggestions = this._list\n\t\t\t\t.map(function(item) {\n\t\t\t\t\treturn new Suggestion(me.data(item, value));\n\t\t\t\t})\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn me.filter(item, value);\n\t\t\t\t});\n\n\t\t\tif (this.sort !== false) {\n\t\t\t\tthis.suggestions = this.suggestions.sort(this.sort);\n\t\t\t}\n\n\t\t\tthis.suggestions = this.suggestions.slice(0, this.maxItems);\n\n\t\t\tthis.suggestions.forEach(function(text, index) {\n\t\t\t\t\tme.ul.appendChild(me.item(text, value, index));\n\t\t\t\t});\n\n\t\t\tif (this.ul.children.length === 0) {\n\n                this.status.textContent = \"No results found\";\n\n\t\t\t\tthis.close({ reason: \"nomatches\" });\n\n\t\t\t} else {\n\t\t\t\tthis.open();\n\n                this.status.textContent = this.ul.children.length + \" results found\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.close({ reason: \"nomatches\" });\n\n                this.status.textContent = \"No results found\";\n\t\t}\n\t}\n};\n\n// Static methods/properties\n\n_.all = [];\n\n_.FILTER_CONTAINS = function (text, input) {\n\treturn RegExp($.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.FILTER_STARTSWITH = function (text, input) {\n\treturn RegExp(\"^\" + $.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.SORT_BYLENGTH = function (a, b) {\n\tif (a.length !== b.length) {\n\t\treturn a.length - b.length;\n\t}\n\n\treturn a < b? -1 : 1;\n};\n\n_.CONTAINER = function (input) {\n\treturn $.create(\"div\", {\n\t\tclassName: \"awesomplete\",\n\t\taround: input\n\t});\n}\n\n_.ITEM = function (text, input, item_id) {\n\tvar html = input.trim() === \"\" ? text : text.replace(RegExp($.regExpEscape(input.trim()), \"gi\"), \"<mark>$&</mark>\");\n\treturn $.create(\"li\", {\n\t\tinnerHTML: html,\n\t\t\"role\": \"option\",\n\t\t\"aria-selected\": \"false\",\n\t\t\"id\": \"awesomplete_list_\" + this.count + \"_item_\" + item_id\n\t});\n};\n\n_.REPLACE = function (text) {\n\tthis.input.value = text.value;\n};\n\n_.DATA = function (item/*, input*/) { return item; };\n\n// Private functions\n\nfunction Suggestion(data) {\n\tvar o = Array.isArray(data)\n\t  ? { label: data[0], value: data[1] }\n\t  : typeof data === \"object\" && \"label\" in data && \"value\" in data ? data : { label: data, value: data };\n\n\tthis.label = o.label || o.value;\n\tthis.value = o.value;\n}\nObject.defineProperty(Suggestion.prototype = Object.create(String.prototype), \"length\", {\n\tget: function() { return this.label.length; }\n});\nSuggestion.prototype.toString = Suggestion.prototype.valueOf = function () {\n\treturn \"\" + this.label;\n};\n\nfunction configure(instance, properties, o) {\n\tfor (var i in properties) {\n\t\tvar initial = properties[i],\n\t\t    attrValue = instance.input.getAttribute(\"data-\" + i.toLowerCase());\n\n\t\tif (typeof initial === \"number\") {\n\t\t\tinstance[i] = parseInt(attrValue);\n\t\t}\n\t\telse if (initial === false) { // Boolean options must be false by default anyway\n\t\t\tinstance[i] = attrValue !== null;\n\t\t}\n\t\telse if (initial instanceof Function) {\n\t\t\tinstance[i] = null;\n\t\t}\n\t\telse {\n\t\t\tinstance[i] = attrValue;\n\t\t}\n\n\t\tif (!instance[i] && instance[i] !== 0) {\n\t\t\tinstance[i] = (i in o)? o[i] : initial;\n\t\t}\n\t}\n}\n\n// Helpers\n\nvar slice = Array.prototype.slice;\n\nfunction $(expr, con) {\n\treturn typeof expr === \"string\"? (con || document).querySelector(expr) : expr || null;\n}\n\nfunction $$(expr, con) {\n\treturn slice.call((con || document).querySelectorAll(expr));\n}\n\n$.create = function(tag, o) {\n\tvar element = document.createElement(tag);\n\n\tfor (var i in o) {\n\t\tvar val = o[i];\n\n\t\tif (i === \"inside\") {\n\t\t\t$(val).appendChild(element);\n\t\t}\n\t\telse if (i === \"around\") {\n\t\t\tvar ref = $(val);\n\t\t\tref.parentNode.insertBefore(element, ref);\n\t\t\telement.appendChild(ref);\n\n\t\t\tif (ref.getAttribute(\"autofocus\") != null) {\n\t\t\t\tref.focus();\n\t\t\t}\n\t\t}\n\t\telse if (i in element) {\n\t\t\telement[i] = val;\n\t\t}\n\t\telse {\n\t\t\telement.setAttribute(i, val);\n\t\t}\n\t}\n\n\treturn element;\n};\n\n$.bind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function (event) {\n\t\t\t\telement.addEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.unbind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function(event) {\n\t\t\t\telement.removeEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.fire = function(target, type, properties) {\n\tvar evt = document.createEvent(\"HTMLEvents\");\n\n\tevt.initEvent(type, true, true );\n\n\tfor (var j in properties) {\n\t\tevt[j] = properties[j];\n\t}\n\n\treturn target.dispatchEvent(evt);\n};\n\n$.regExpEscape = function (s) {\n\treturn s.replace(/[-\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\n\n$.siblingIndex = function (el) {\n\t/* eslint-disable no-cond-assign */\n\tfor (var i = 0; el = el.previousElementSibling; i++);\n\treturn i;\n};\n\n// Initialization\n\nfunction init() {\n\t$$(\"input.awesomplete\").forEach(function (input) {\n\t\tnew _(input);\n\t});\n}\n\n// Make sure to export Awesomplete on self when in a browser\nif (typeof self !== \"undefined\") {\n\tself.Awesomplete = _;\n}\n\n// Are we in a browser? Check for Document constructor\nif (typeof Document !== \"undefined\") {\n\t// DOM already loaded?\n\tif (document.readyState !== \"loading\") {\n\t\tinit();\n\t}\n\telse {\n\t\t// Wait for it\n\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t}\n}\n\n_.$ = $;\n_.$$ = $$;\n\n// Expose Awesomplete as a CJS module\nif (typeof module === \"object\" && module.exports) {\n\tmodule.exports = _;\n}\n\nreturn _;\n\n}());\n","var RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: XSD + 'decimal',\n    boolean: XSD + 'boolean',\n    double:  XSD + 'double',\n    integer: XSD + 'integer',\n    string:  XSD + 'string',\n  },\n  rdf: {\n    type:       RDF + 'type',\n    nil:        RDF + 'nil',\n    first:      RDF + 'first',\n    rest:       RDF + 'rest',\n    langString: RDF + 'langString',\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: SWAP + 'reify#forSome',\n    forAll:  SWAP + 'reify#forAll',\n  },\n  log: {\n    implies: SWAP + 'log#implies',\n  },\n};\n","// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nconst { rdf, xsd } = namespaces;\n\nvar DataFactory, DEFAULTGRAPH;\n\nvar _blankNodeCounter = 0;\n\n// ## Term constructor\nclass Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nclass NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nclass Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    var id = this.id, atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    var id = this.id, dtPos = id.lastIndexOf('\"') + 1, ch;\n    // If \"^\" it follows, return the remaining substring\n    return dtPos < id.length && (ch = id[dtPos]) === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (ch !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nclass BlankNode extends Term {\n  constructor(name) {\n    super('_:' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nclass Variable extends Term {\n  constructor(name) {\n    super('?' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nclass DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n\n// ### Constructs a term from the given internal string ID\nfunction fromId(id, factory) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '_': return factory.blankNode(id.substr(2));\n  case '?': return factory.variable(id.substr(1));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    var endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  default:  return factory.namedNode(id);\n  }\n}\n\n// ### Constructs an internal string ID from the given term or ID string\nfunction toId(term) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term)\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return '_:' + term.value;\n  case 'Variable':     return '?' + term.value;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return '\"' + term.value + '\"' +\n    (term.language ? '@' + term.language :\n      (term.datatype && term.datatype.value !== xsd.string ? '^^' + term.datatype.value : ''));\n  default: throw new Error('Unexpected termType: ' + term.termType);\n  }\n}\n\n\n// ## Quad constructor\nclass Quad {\n  constructor(subject, predicate, object, graph) {\n    this.subject   = subject;\n    this.predicate = predicate;\n    this.object    = object;\n    this.graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      subject:   this.subject.toJSON(),\n      predicate: this.predicate.toJSON(),\n      object:    this.object.toJSON(),\n      graph:     this.graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this.subject.equals(other.subject)     &&\n                      this.predicate.equals(other.predicate) &&\n                      this.object.equals(other.object)       &&\n                      this.graph.equals(other.graph);\n  }\n}\n\n\n// ## DataFactory singleton\nDataFactory = {\n  // ### Public factory functions\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n\n  // ### Internal datatype constructors\n  internal: {\n    Term,\n    NamedNode,\n    BlankNode,\n    Variable,\n    Literal,\n    DefaultGraph,\n    Quad,\n    Triple: Quad,\n    fromId,\n    toId,\n  },\n};\nexport default DataFactory;\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal('\"' + value + '\"@' + languageOrDataType.toLowerCase());\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal('\"' + value + '\"') :\n    new Literal('\"' + value + '\"^^' + datatype);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n","// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nconst { xsd } = namespaces;\n\nconst { fromCharCode } = String;\n\n// Regular expression and replacement string to escape N3 strings.\n// Note how we catch invalid unicode sequences separately (they will trigger an error).\nvar escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\[uU]|\\\\(.)/g;\nvar escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nvar illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nvar lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nvar invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._number = /^[\\-+]?(?:\\d+\\.?\\d*([eE](?:[\\-\\+])?\\d+)|\\d*\\.?\\d+)(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s()\\[\\]\\{\\}\"'<])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (var key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    var input = this._input, outputComments = this._comments;\n    while (true) {\n      // Count and skip whitespace lines\n      var whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (outputComments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (outputComments && (comment = this._comment.exec(input)))\n            callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n          callback(input = null, { line: this._line, type: 'eof', value: '', prefix: '' });\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      var line = this._line, type = '', value = '', prefix = '',\n          firstChar = input[0], match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(input + ' ')))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(input + ' '))) {\n          type = 'literal', value = match[0];\n          prefix = (match[1] ? xsd.double :\n                    (/^[+\\-]?\\d+$/.test(match[0]) ? xsd.integer : xsd.decimal));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '{':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(input + ' ')))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      var token = { line: line, type: type, value: value, prefix: prefix };\n      callback(null, token);\n      this.previousToken = token;\n      this._previousMarker = type;\n      // Advance to next part to tokenize\n      input = input.substr(matchLength || match[0].length, input.length);\n    }\n\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    try {\n      return item.replace(escapeSequence, function (sequence, unicode4, unicode8, escapedChar) {\n        var charCode;\n        if (unicode4) {\n          charCode = parseInt(unicode4, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          return fromCharCode(charCode);\n        }\n        else if (unicode8) {\n          charCode = parseInt(unicode8, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          if (charCode <= 0xFFFF) return fromCharCode(charCode);\n          return fromCharCode(0xD800 + ((charCode -= 0x10000) / 0x400), 0xDC00 + (charCode & 0x3FF));\n        }\n        else {\n          var replacement = escapeReplacements[escapedChar];\n          if (!replacement)\n            throw new Error();\n          return replacement;\n        }\n      });\n    }\n    catch (error) { return null; }\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    var err = new Error('Unexpected \"' + issue + '\" on line ' + this._line + '.');\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    var self = this;\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = input;\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        setImmediate(function () { self._tokenizeToEnd(callback, true); });\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        var tokens = [], error;\n        this._tokenizeToEnd(function (e, t) { e ? (error = e) : tokens.push(t); }, true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._input = '';\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', function (data) {\n        if (self._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (self._pendingBuffer) {\n            data = Buffer.concat([self._pendingBuffer, data]);\n            self._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            self._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            self._input += data;\n            self._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', function () {\n        if (self._input !== null)\n          self._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n","// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    var format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = format === 'turtle', isTriG = format === 'trig',\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = function (iri) { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      var fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    var n3Mode = this._n3Mode;\n    this._contextStack.push({\n      subject: subject, predicate: predicate, object: object,\n      graph: graph, type: type,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? this._graph.id.substr(2) + '.' : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext() {\n    var context = this._contextStack.pop(), n3Mode = this._n3Mode;\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    var value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      var iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      var prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error('Undefined prefix \"' + token.prefix + ':\"', token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error('Expected entity but got ' + token.type, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    var type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error('Unexpected ' + type, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error('Expected graph but got ' + token.type, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    var empty = this._predicate === null;\n    this._restoreContext();\n    // If the blank node was the subject, continue reading the predicate\n    if (this._object === null)\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n    // If the blank node was the object, restore previous context and read punctuation\n    else\n      return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    var item = null,                      // The item of the list\n        list = null,                      // The list itself\n        previousList = this._subject,     // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1], // The parent containing the current list\n        next = this._readListItem;        // The next function to execute\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext();\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      var datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext();\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    var next, subject = this._subject, graph = this._graph,\n        inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      var predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    var next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error('Expected IRI to follow prefix \"' + this._prefix + ':\"', token);\n    var prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    var iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    var entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error('Unexpected ' + token.type, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      var stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        var item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext();\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    var subject, predicate, object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    var subject = this._blankNode(), predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    var contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    var err = new Error(message + ' on line ' + token.line + '.');\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    var result = '', length = iri.length, i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return result + '/' + iri.substr(i + 1);\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    var self = this;\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : 'b' + blankNodePrefix++ + '_';\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      var quads = [], error;\n      this._callback = function (e, t) { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(function (token) {\n        return self._readCallback = self._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, function (error, token) {\n      if (error !== null)\n        self._callback(error), self._callback = noop;\n      else if (self._readCallback)\n        self._readCallback = self._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  var namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n","// **N3Writer** writes N3 documents.\nimport namespaces from './IRIs';\nimport N3DataFactory from './N3DataFactory';\n\nconst DEFAULTGRAPH = N3DataFactory.defaultGraph();\n\nconst { rdf, xsd } = namespaces;\n\n// Characters in literals that require escaping\nvar escape    = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019\\ud800-\\udbff]/,\n    escapeAll = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019]|[\\ud800-\\udbff][\\udc00-\\udfff]/g,\n    escapedCharacters = {\n      '\\\\': '\\\\\\\\', '\"': '\\\\\"', '\\t': '\\\\t',\n      '\\n': '\\\\n', '\\r': '\\\\r', '\\b': '\\\\b', '\\f': '\\\\f',\n    };\n\n// ## Placeholder class to represent already pretty-printed terms\nclass SerializedTerm extends N3DataFactory.internal.Term {\n  // Pretty-printed nodes are not equal to any other node\n  // (e.g., [] does not equal [])\n  equals() {\n    return false;\n  }\n}\n\n// ## Constructor\nexport default class N3Writer {\n  constructor(outputStream, options) {\n    // ### `_prefixRegex` matches a prefixed name or IRI that begins with one of the added prefixes\n    this._prefixRegex = /$0^/;\n\n    // Shift arguments if the first argument is not a stream\n    if (outputStream && typeof outputStream.write !== 'function')\n      options = outputStream, outputStream = null;\n    options = options || {};\n    this._lists = options.lists;\n\n    // If no output stream given, send the output as string through the end callback\n    if (!outputStream) {\n      var output = '';\n      this._outputStream = {\n        write(chunk, encoding, done) { output += chunk; done && done(); },\n        end:   function (done) { done && done(null, output); },\n      };\n      this._endStream = true;\n    }\n    else {\n      this._outputStream = outputStream;\n      this._endStream = options.end === undefined ? true : !!options.end;\n    }\n\n    // Initialize writer, depending on the format\n    this._subject = null;\n    if (!(/triple|quad/i).test(options.format)) {\n      this._graph = DEFAULTGRAPH;\n      this._prefixIRIs = Object.create(null);\n      options.prefixes && this.addPrefixes(options.prefixes);\n    }\n    else {\n      this._writeQuad = this._writeQuadLine;\n    }\n  }\n\n  // ## Private methods\n\n  // ### Whether the current graph is the default graph\n  get _inDefaultGraph() {\n    return DEFAULTGRAPH.equals(this._graph);\n  }\n\n  // ### `_write` writes the argument to the output stream\n  _write(string, callback) {\n    this._outputStream.write(string, 'utf8', callback);\n  }\n\n  // ### `_writeQuad` writes the quad to the output stream\n  _writeQuad(subject, predicate, object, graph, done) {\n    try {\n      // Write the graph's label if it has changed\n      if (!graph.equals(this._graph)) {\n        // Close the previous graph and start the new one\n        this._write((this._subject === null ? '' : (this._inDefaultGraph ? '.\\n' : '\\n}\\n')) +\n                    (DEFAULTGRAPH.equals(graph) ? '' : this._encodeIriOrBlank(graph) + ' {\\n'));\n        this._graph = graph;\n        this._subject = null;\n      }\n      // Don't repeat the subject if it's the same\n      if (subject.equals(this._subject)) {\n        // Don't repeat the predicate if it's the same\n        if (predicate.equals(this._predicate))\n          this._write(', ' + this._encodeObject(object), done);\n        // Same subject, different predicate\n        else\n          this._write(';\\n    ' +\n                      this._encodePredicate(this._predicate = predicate) + ' ' +\n                      this._encodeObject(object), done);\n      }\n      // Different subject; write the whole quad\n      else\n        this._write((this._subject === null ? '' : '.\\n') +\n                    this._encodeIriOrBlank(this._subject = subject) + ' ' +\n                    this._encodePredicate(this._predicate = predicate) + ' ' +\n                    this._encodeObject(object), done);\n    }\n    catch (error) { done && done(error); }\n  }\n\n  // ### `_writeQuadLine` writes the quad to the output stream as a single line\n  _writeQuadLine(subject, predicate, object, graph, done) {\n    // Write the quad without prefixes\n    delete this._prefixMatch;\n    this._write(this.quadToString(subject, predicate, object, graph), done);\n  }\n\n  // ### `quadToString` serializes a quad as a string\n  quadToString(subject, predicate, object, graph) {\n    return  this._encodeIriOrBlank(subject)   + ' ' +\n            this._encodeIriOrBlank(predicate) + ' ' +\n            this._encodeObject(object) +\n            (graph && graph.value ? ' ' + this._encodeIriOrBlank(graph) + ' .\\n' : ' .\\n');\n  }\n\n  // ### `quadsToString` serializes an array of quads as a string\n  quadsToString(quads) {\n    return quads.map(function (t) {\n      return this.quadToString(t.subject, t.predicate, t.object, t.graph);\n    }, this).join('');\n  }\n\n  // ### `_encodeIriOrBlank` represents an IRI or blank node\n  _encodeIriOrBlank(entity) {\n    // A blank node or list is represented as-is\n    if (entity.termType !== 'NamedNode') {\n      // If it is a list head, pretty-print it\n      if (this._lists && (entity.value in this._lists))\n        entity = this.list(this._lists[entity.value]);\n      return 'id' in entity ? entity.id : '_:' + entity.value;\n    }\n    // Escape special characters\n    var iri = entity.value;\n    if (escape.test(iri))\n      iri = iri.replace(escapeAll, characterReplacer);\n    // Try to represent the IRI as prefixed name\n    var prefixMatch = this._prefixRegex.exec(iri);\n    return !prefixMatch ? '<' + iri + '>' :\n           (!prefixMatch[1] ? iri : this._prefixIRIs[prefixMatch[1]] + prefixMatch[2]);\n  }\n\n  // ### `_encodeLiteral` represents a literal\n  _encodeLiteral(literal) {\n    // Escape special characters\n    var value = literal.value;\n    if (escape.test(value))\n      value = value.replace(escapeAll, characterReplacer);\n    // Write the literal, possibly with type or language\n    if (literal.language)\n      return '\"' + value + '\"@' + literal.language;\n    else if (literal.datatype.value !== xsd.string)\n      return '\"' + value + '\"^^' + this._encodeIriOrBlank(literal.datatype);\n    else\n      return '\"' + value + '\"';\n  }\n\n  // ### `_encodePredicate` represents a predicate\n  _encodePredicate(predicate) {\n    return predicate.value === rdf.type ? 'a' : this._encodeIriOrBlank(predicate);\n  }\n\n  // ### `_encodeObject` represents an object\n  _encodeObject(object) {\n    return object.termType === 'Literal' ? this._encodeLiteral(object) : this._encodeIriOrBlank(object);\n  }\n\n  // ### `_blockedWrite` replaces `_write` after the writer has been closed\n  _blockedWrite() {\n    throw new Error('Cannot write because the writer has been closed.');\n  }\n\n  // ### `addQuad` adds the quad to the output stream\n  addQuad(subject, predicate, object, graph, done) {\n    // The quad was given as an object, so shift parameters\n    if (object === undefined)\n      this._writeQuad(subject.subject, subject.predicate, subject.object, subject.graph, predicate);\n    // The optional `graph` parameter was not provided\n    else if (typeof graph === 'function')\n      this._writeQuad(subject, predicate, object, DEFAULTGRAPH, graph);\n    // The `graph` parameter was provided\n    else\n      this._writeQuad(subject, predicate, object, graph || DEFAULTGRAPH, done);\n  }\n\n  // ### `addQuads` adds the quads to the output stream\n  addQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `addPrefix` adds the prefix to the output stream\n  addPrefix(prefix, iri, done) {\n    var prefixes = {};\n    prefixes[prefix] = iri;\n    this.addPrefixes(prefixes, done);\n  }\n\n  // ### `addPrefixes` adds the prefixes to the output stream\n  addPrefixes(prefixes, done) {\n    var prefixIRIs = this._prefixIRIs, hasPrefixes = false;\n    for (var prefix in prefixes) {\n      var iri = prefixes[prefix];\n      if (typeof iri !== 'string')\n        iri = iri.value;\n      hasPrefixes = true;\n      // Finish a possible pending quad\n      if (this._subject !== null) {\n        this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n        this._subject = null, this._graph = '';\n      }\n      // Store and write the prefix\n      prefixIRIs[iri] = (prefix += ':');\n      this._write('@prefix ' + prefix + ' <' + iri + '>.\\n');\n    }\n    // Recreate the prefix matcher\n    if (hasPrefixes) {\n      var IRIlist = '', prefixList = '';\n      for (var prefixIRI in prefixIRIs) {\n        IRIlist += IRIlist ? '|' + prefixIRI : prefixIRI;\n        prefixList += (prefixList ? '|' : '') + prefixIRIs[prefixIRI];\n      }\n      IRIlist = IRIlist.replace(/[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n      this._prefixRegex = new RegExp('^(?:' + prefixList + ')[^\\/]*$|' +\n                                     '^(' + IRIlist + ')([a-zA-Z][\\\\-_a-zA-Z0-9]*)$');\n    }\n    // End a prefix block with a newline\n    this._write(hasPrefixes ? '\\n' : '', done);\n  }\n\n  // ### `blank` creates a blank node with the given content\n  blank(predicate, object) {\n    var children = predicate, child, length;\n    // Empty blank node\n    if (predicate === undefined)\n      children = [];\n    // Blank node passed as blank(Term(\"predicate\"), Term(\"object\"))\n    else if (predicate.termType)\n      children = [{ predicate: predicate, object: object }];\n    // Blank node passed as blank({ predicate: predicate, object: object })\n    else if (!('length' in predicate))\n      children = [predicate];\n\n    switch (length = children.length) {\n    // Generate an empty blank node\n    case 0:\n      return new SerializedTerm('[]');\n    // Generate a non-nested one-triple blank node\n    case 1:\n      child = children[0];\n      if (!(child.object instanceof SerializedTerm))\n        return new SerializedTerm('[ ' + this._encodePredicate(child.predicate) + ' ' +\n                                  this._encodeObject(child.object) + ' ]');\n    // Generate a multi-triple or nested blank node\n    default:\n      var contents = '[';\n      // Write all triples in order\n      for (var i = 0; i < length; i++) {\n        child = children[i];\n        // Write only the object is the predicate is the same as the previous\n        if (child.predicate.equals(predicate))\n          contents += ', ' + this._encodeObject(child.object);\n        // Otherwise, write the predicate and the object\n        else {\n          contents += (i ? ';\\n  ' : '\\n  ') +\n                      this._encodePredicate(child.predicate) + ' ' +\n                      this._encodeObject(child.object);\n          predicate = child.predicate;\n        }\n      }\n      return new SerializedTerm(contents + '\\n]');\n    }\n  }\n\n  // ### `list` creates a list node with the given content\n  list(elements) {\n    var length = elements && elements.length || 0, contents = new Array(length);\n    for (var i = 0; i < length; i++)\n      contents[i] = this._encodeObject(elements[i]);\n    return new SerializedTerm('(' + contents.join(' ') + ')');\n  }\n\n  // ### `end` signals the end of the output stream\n  end(done) {\n    // Finish a possible pending quad\n    if (this._subject !== null) {\n      this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n      this._subject = null;\n    }\n    // Disallow further writing\n    this._write = this._blockedWrite;\n\n    // Try to end the underlying stream, ensuring done is called exactly one time\n    var singleDone = done && function (error, result) { singleDone = null, done(error, result); };\n    if (this._endStream) {\n      try { return this._outputStream.end(singleDone); }\n      catch (error) { /* error closing stream */ }\n    }\n    singleDone && singleDone();\n  }\n}\n\n// Replaces a character by its escaped version\nfunction characterReplacer(character) {\n  // Replace a single character by its escaped version\n  var result = escapedCharacters[character];\n  if (result === undefined) {\n    // Replace a single character with its 4-bit unicode escape sequence\n    if (character.length === 1) {\n      result = character.charCodeAt(0).toString(16);\n      result = '\\\\u0000'.substr(0, 6 - result.length) + result;\n    }\n    // Replace a surrogate pair with its 8-bit unicode escape sequence\n    else {\n      result = ((character.charCodeAt(0) - 0xD800) * 0x400 +\n                 character.charCodeAt(1) + 0x2400).toString(16);\n      result = '\\\\U00000000'.substr(0, 10 - result.length) + result;\n    }\n  }\n  return result;\n}\n","// **N3Store** objects store N3 quads by graph in memory.\nimport N3DataFactory from './N3DataFactory';\nimport { Readable } from 'stream';\nimport namespaces from './IRIs';\n\nconst { toId, fromId } = N3DataFactory.internal;\n\n// ## Constructor\nexport default class N3Store {\n  constructor(quads, options) {\n    // The number of quads is initially zero\n    this._size = 0;\n    // `_graphs` contains subject, predicate, and object indexes per graph\n    this._graphs = Object.create(null);\n    // `_ids` maps entities such as `http://xmlns.com/foaf/0.1/name` to numbers,\n    // saving memory by using only numbers as keys in `_graphs`\n    this._id = 0;\n    this._ids = Object.create(null);\n    this._ids['><'] = 0; // dummy entry, so the first actual key is non-zero\n    this._entities = Object.create(null); // inverse of `_ids`\n    // `_blankNodeIndex` is the index of the last automatically named blank node\n    this._blankNodeIndex = 0;\n\n    // Shift parameters if `quads` is not given\n    if (!options && quads && !quads[0])\n      options = quads, quads = null;\n    options = options || {};\n    this._factory = options.factory || N3DataFactory;\n\n    // Add quads if passed\n    if (quads)\n      this.addQuads(quads);\n  }\n\n  // ## Public properties\n\n  // ### `size` returns the number of quads in the store\n  get size() {\n    // Return the quad count if if was cached\n    var size = this._size;\n    if (size !== null)\n      return size;\n\n    // Calculate the number of quads by counting to the deepest level\n    size = 0;\n    var graphs = this._graphs, subjects, subject;\n    for (var graphKey in graphs)\n      for (var subjectKey in (subjects = graphs[graphKey].subjects))\n        for (var predicateKey in (subject = subjects[subjectKey]))\n          size += Object.keys(subject[predicateKey]).length;\n    return this._size = size;\n  }\n\n  // ## Private methods\n\n  // ### `_addToIndex` adds a quad to a three-layered index.\n  // Returns if the index has changed, if the entry did not already exist.\n  _addToIndex(index0, key0, key1, key2) {\n    // Create layers as necessary\n    var index1 = index0[key0] || (index0[key0] = {});\n    var index2 = index1[key1] || (index1[key1] = {});\n    // Setting the key to _any_ value signals the presence of the quad\n    var existed = key2 in index2;\n    if (!existed)\n      index2[key2] = null;\n    return !existed;\n  }\n\n  // ### `_removeFromIndex` removes a quad from a three-layered index\n  _removeFromIndex(index0, key0, key1, key2) {\n    // Remove the quad from the index\n    var index1 = index0[key0], index2 = index1[key1], key;\n    delete index2[key2];\n\n    // Remove intermediary index layers if they are empty\n    for (key in index2) return;\n    delete index1[key1];\n    for (key in index1) return;\n    delete index0[key0];\n  }\n\n  // ### `_findInIndex` finds a set of quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  // `name0`, `name1`, and `name2` are the names of the keys at each level,\n  // used when reconstructing the resulting quad\n  // (for instance: _subject_, _predicate_, and _object_).\n  // Finally, `graph` will be the graph of the created quads.\n  // If `callback` is given, each result is passed through it\n  // and iteration halts when it returns truthy for any quad.\n  // If instead `array` is given, each result is added to the array.\n  _findInIndex(index0, key0, key1, key2, name0, name1, name2, graph, callback, array) {\n    var tmp, index1, index2, varCount = !key0 + !key1 + !key2,\n        // depending on the number of variables, keys or reverse index are faster\n        entityKeys = varCount > 1 ? Object.keys(this._ids) : this._entities;\n\n    // If a key is specified, use only that part of index 0.\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (var value0 in index0) {\n      var entity0 = entityKeys[value0];\n\n      if (index1 = index0[value0]) {\n        // If a key is specified, use only that part of index 1.\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (var value1 in index1) {\n          var entity1 = entityKeys[value1];\n\n          if (index2 = index1[value1]) {\n            // If a key is specified, use only that part of index 2, if it exists.\n            var values = key2 ? (key2 in index2 ? [key2] : []) : Object.keys(index2);\n            // Create quads for all items found in index 2.\n            for (var l = 0; l < values.length; l++) {\n              var parts = { subject: null, predicate: null, object: null };\n              parts[name0] = fromId(entity0, this._factory);\n              parts[name1] = fromId(entity1, this._factory);\n              parts[name2] = fromId(entityKeys[values[l]], this._factory);\n              var quad = this._factory.quad(\n                parts.subject, parts.predicate, parts.object, fromId(graph, this._factory));\n              if (array)\n                array.push(quad);\n              else if (callback(quad))\n                return true;\n            }\n          }\n        }\n      }\n    }\n    return array;\n  }\n\n  // ### `_loop` executes the callback on all keys of index 0\n  _loop(index0, callback) {\n    for (var key0 in index0)\n      callback(key0);\n  }\n\n  // ### `_loopByKey0` executes the callback on all keys of a certain entry in index 0\n  _loopByKey0(index0, key0, callback) {\n    var index1, key1;\n    if (index1 = index0[key0]) {\n      for (key1 in index1)\n        callback(key1);\n    }\n  }\n\n  // ### `_loopByKey1` executes the callback on given keys of all entries in index 0\n  _loopByKey1(index0, key1, callback) {\n    var key0, index1;\n    for (key0 in index0) {\n      index1 = index0[key0];\n      if (index1[key1])\n        callback(key0);\n    }\n  }\n\n  // ### `_loopBy2Keys` executes the callback on given keys of certain entries in index 2\n  _loopBy2Keys(index0, key0, key1, callback) {\n    var index1, index2, key2;\n    if ((index1 = index0[key0]) && (index2 = index1[key1])) {\n      for (key2 in index2)\n        callback(key2);\n    }\n  }\n\n  // ### `_countInIndex` counts matching quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  _countInIndex(index0, key0, key1, key2) {\n    var count = 0, tmp, index1, index2;\n\n    // If a key is specified, count only that part of index 0\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (var value0 in index0) {\n      if (index1 = index0[value0]) {\n        // If a key is specified, count only that part of index 1\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (var value1 in index1) {\n          if (index2 = index1[value1]) {\n            // If a key is specified, count the quad if it exists\n            if (key2) (key2 in index2) && count++;\n            // Otherwise, count all quads\n            else count += Object.keys(index2).length;\n          }\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `_getGraphs` returns an array with the given graph,\n  // or all graphs if the argument is null or undefined.\n  _getGraphs(graph) {\n    if (!isString(graph))\n      return this._graphs;\n    var graphs = {};\n    graphs[graph] = this._graphs[graph];\n    return graphs;\n  }\n\n  // ### `_uniqueEntities` returns a function that accepts an entity ID\n  // and passes the corresponding entity to callback if it hasn't occurred before.\n  _uniqueEntities(callback) {\n    var uniqueIds = Object.create(null), entities = this._entities;\n    return function (id) {\n      if (!(id in uniqueIds)) {\n        uniqueIds[id] = true;\n        callback(fromId(entities[id]));\n      }\n    };\n  }\n\n  // ## Public methods\n\n  // ### `addQuad` adds a new quad to the store.\n  // Returns if the quad index has changed, if the quad did not already exist.\n  addQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = toId(subject);\n    predicate = toId(predicate);\n    object = toId(object);\n    graph = toId(graph);\n\n    // Find the graph that will contain the triple\n    var graphItem = this._graphs[graph];\n    // Create the graph if it doesn't exist yet\n    if (!graphItem) {\n      graphItem = this._graphs[graph] = { subjects: {}, predicates: {}, objects: {} };\n      // Freezing a graph helps subsequent `add` performance,\n      // and properties will never be modified anyway\n      Object.freeze(graphItem);\n    }\n\n    // Since entities can often be long IRIs, we avoid storing them in every index.\n    // Instead, we have a separate index that maps entities to numbers,\n    // which are then used as keys in the other indexes.\n    var ids = this._ids;\n    var entities = this._entities;\n    subject   = ids[subject]   || (ids[entities[++this._id] = subject]   = this._id);\n    predicate = ids[predicate] || (ids[entities[++this._id] = predicate] = this._id);\n    object    = ids[object]    || (ids[entities[++this._id] = object]    = this._id);\n\n    var changed = this._addToIndex(graphItem.subjects,   subject,   predicate, object);\n    this._addToIndex(graphItem.predicates, predicate, object,    subject);\n    this._addToIndex(graphItem.objects,    object,    subject,   predicate);\n\n    // The cached quad count is now invalid\n    this._size = null;\n    return changed;\n  }\n\n  // ### `addQuads` adds multiple quads to the store\n  addQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `import` adds a stream of quads to the store\n  import(stream) {\n    var self = this;\n    stream.on('data', function (quad) { self.addQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeQuad` removes a quad from the store if it exists\n  removeQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = toId(subject);\n    predicate = toId(predicate);\n    object = toId(object);\n    graph = toId(graph);\n\n    // Find internal identifiers for all components\n    // and verify the quad exists.\n    var graphItem, ids = this._ids, graphs = this._graphs, subjects, predicates;\n    if (!(subject    = ids[subject]) || !(predicate = ids[predicate]) ||\n        !(object     = ids[object])  || !(graphItem = graphs[graph])  ||\n        !(subjects   = graphItem.subjects[subject]) ||\n        !(predicates = subjects[predicate]) ||\n        !(object in predicates))\n      return false;\n\n    // Remove it from all indexes\n    this._removeFromIndex(graphItem.subjects,   subject,   predicate, object);\n    this._removeFromIndex(graphItem.predicates, predicate, object,    subject);\n    this._removeFromIndex(graphItem.objects,    object,    subject,   predicate);\n    if (this._size !== null) this._size--;\n\n    // Remove the graph if it is empty\n    for (subject in graphItem.subjects) return true;\n    delete graphs[graph];\n    return true;\n  }\n\n  // ### `removeQuads` removes multiple quads from the store\n  removeQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.removeQuad(quads[i]);\n  }\n\n  // ### `remove` removes a stream of quads from the store\n  remove(stream) {\n    var self = this;\n    stream.on('data', function (quad) { self.removeQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeMatches` removes all matching quads from the store\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  removeMatches(subject, predicate, object, graph) {\n    return this.remove(this.match(subject, predicate, object, graph));\n  }\n\n  // ### `deleteGraph` removes all triples with the given graph from the store\n  deleteGraph(graph) {\n    return this.removeMatches(null, null, null, graph);\n  }\n\n  // ### `getQuads` returns an array of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var quads = [], graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return quads;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the object index will be the fastest\n            this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                              'object', 'subject', 'predicate', graphId, null, quads);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            this._findInIndex(content.subjects, subjectId, predicateId, null,\n                              'subject', 'predicate', 'object', graphId, null, quads);\n        }\n        else if (predicateId)\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          this._findInIndex(content.predicates, predicateId, objectId, null,\n                            'predicate', 'object', 'subject', graphId, null, quads);\n        else if (objectId)\n          // If only object is given, the object index will be the fastest\n          this._findInIndex(content.objects, objectId, null, null,\n                            'object', 'subject', 'predicate', graphId, null, quads);\n        else\n          // If nothing is given, iterate subjects and predicates first\n          this._findInIndex(content.subjects, null, null, null,\n                            'subject', 'predicate', 'object', graphId, null, quads);\n      }\n    }\n    return quads;\n  }\n\n  // ### `match` returns a stream of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  match(subject, predicate, object, graph) {\n    var stream = new Readable({ objectMode: true });\n\n    // Initialize stream once it is being read\n    stream._read = () => {\n      for (var quad of this.getQuads(subject, predicate, object, graph))\n        stream.push(quad);\n      stream.push(null);\n    };\n\n    return stream;\n  }\n\n  // ### `countQuads` returns the number of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  countQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var count = 0, graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return 0;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subject) {\n          if (object)\n            // If subject and object are given, the object index will be the fastest\n            count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            count += this._countInIndex(content.subjects, subjectId, predicateId, objectId);\n        }\n        else if (predicate) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          count += this._countInIndex(content.predicates, predicateId, objectId, subjectId);\n        }\n        else {\n          // If only object is possibly given, the object index will be the fastest\n          count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `forEach` executes the callback on all quads.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forEach(callback, subject, predicate, object, graph) {\n    this.some(function (quad) {\n      callback(quad);\n      return false;\n    }, subject, predicate, object, graph);\n  }\n\n  // ### `every` executes the callback on all quads,\n  // and returns `true` if it returns truthy for all them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  every(callback, subject, predicate, object, graph) {\n    var some = false;\n    var every = !this.some(function (quad) {\n      some = true;\n      return !callback(quad);\n    }, subject, predicate, object, graph);\n    return some && every;\n  }\n\n  // ### `some` executes the callback on all quads,\n  // and returns `true` if it returns truthy for any of them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  some(callback, subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return false;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId) {\n          // If subject and object are given, the object index will be the fastest\n            if (this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                                  'object', 'subject', 'predicate', graphId, callback, null))\n              return true;\n          }\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            if (this._findInIndex(content.subjects, subjectId, predicateId, null,\n                                  'subject', 'predicate', 'object', graphId, callback, null))\n              return true;\n        }\n        else if (predicateId) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          if (this._findInIndex(content.predicates, predicateId, objectId, null,\n                                'predicate', 'object', 'subject', graphId, callback, null)) {\n            return true;\n          }\n        }\n        else if (objectId) {\n          // If only object is given, the object index will be the fastest\n          if (this._findInIndex(content.objects, objectId, null, null,\n                                'object', 'subject', 'predicate', graphId, callback, null)) {\n            return true;\n          }\n        }\n        else\n        // If nothing is given, iterate subjects and predicates first\n        if (this._findInIndex(content.subjects, null, null, null,\n                              'subject', 'predicate', 'object', graphId, callback, null)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // ### `getSubjects` returns all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getSubjects(predicate, object, graph) {\n    var results = [];\n    this.forSubjects(function (s) { results.push(s); }, predicate, object, graph);\n    return results;\n  }\n\n  // ### `forSubjects` executes the callback on all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forSubjects(callback, predicate, object, graph) {\n    // Convert terms to internal string representation\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, predicateId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (predicateId) {\n          if (objectId)\n            // If predicate and object are given, the POS index is best.\n            this._loopBy2Keys(content.predicates, predicateId, objectId, callback);\n          else\n            // If only predicate is given, the SPO index is best.\n            this._loopByKey1(content.subjects, predicateId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the OSP index is best.\n          this._loopByKey0(content.objects, objectId, callback);\n        else\n          // If no params given, iterate all the subjects\n          this._loop(content.subjects, callback);\n      }\n    }\n  }\n\n  // ### `getPredicates` returns all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getPredicates(subject, object, graph) {\n    var results = [];\n    this.forPredicates(function (p) { results.push(p); }, subject, object, graph);\n    return results;\n  }\n\n  // ### `forPredicates` executes the callback on all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forPredicates(callback, subject, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, subjectId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject) && !(subjectId = ids[subject]) ||\n        isString(object)  && !(objectId  = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the OSP index is best.\n            this._loopBy2Keys(content.objects, objectId, subjectId, callback);\n          else\n            // If only subject is given, the SPO index is best.\n            this._loopByKey0(content.subjects, subjectId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the POS index is best.\n          this._loopByKey1(content.predicates, objectId, callback);\n        else\n          // If no params given, iterate all the predicates.\n          this._loop(content.predicates, callback);\n      }\n    }\n  }\n\n  // ### `getObjects` returns all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getObjects(subject, predicate, graph) {\n    var results = [];\n    this.forObjects(function (o) { results.push(o); }, subject, predicate, graph);\n    return results;\n  }\n\n  // ### `forObjects` executes the callback on all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forObjects(callback, subject, predicate, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    graph = graph && toId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, subjectId, predicateId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject]) ||\n        isString(predicate) && !(predicateId = ids[predicate]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (predicateId)\n            // If subject and predicate are given, the SPO index is best.\n            this._loopBy2Keys(content.subjects, subjectId, predicateId, callback);\n          else\n            // If only subject is given, the OSP index is best.\n            this._loopByKey1(content.objects, subjectId, callback);\n        }\n        else if (predicateId)\n          // If only predicate is given, the POS index is best.\n          this._loopByKey0(content.predicates, predicateId, callback);\n        else\n          // If no params given, iterate all the objects.\n          this._loop(content.objects, callback);\n      }\n    }\n  }\n\n  // ### `getGraphs` returns all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getGraphs(subject, predicate, object) {\n    var results = [];\n    this.forGraphs(function (g) { results.push(g); }, subject, predicate, object);\n    return results;\n  }\n\n  // ### `forGraphs` executes the callback on all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forGraphs(callback, subject, predicate, object) {\n    for (var graph in this._graphs) {\n      this.some(function (quad) {\n        callback(quad.graph);\n        return true; // Halt iteration of some()\n      }, subject, predicate, object, graph);\n    }\n  }\n\n  // ### `createBlankNode` creates a new blank node, returning its name\n  createBlankNode(suggestedName) {\n    var name, index;\n    // Generate a name based on the suggested name\n    if (suggestedName) {\n      name = suggestedName = '_:' + suggestedName, index = 1;\n      while (this._ids[name])\n        name = suggestedName + index++;\n    }\n    // Generate a generic blank node name\n    else {\n      do { name = '_:b' + this._blankNodeIndex++; }\n      while (this._ids[name]);\n    }\n    // Add the blank node to the entities, avoiding the generation of duplicates\n    this._ids[name] = ++this._id;\n    this._entities[this._id] = name;\n    return this._factory.blankNode(name.substr(2));\n  }\n\n  // ### `extractLists` finds and removes all list triples\n  // and returns the items per list.\n  extractLists({ remove = false, ignoreErrors = false } = {}) {\n    var lists = {}; // has scalar keys so could be a simple Object\n    var onError = ignoreErrors ? (() => true) :\n                  ((node, message) => { throw new Error(`${node.value} ${message}`); });\n\n    // Traverse each list from its tail\n    var tails = this.getQuads(null, namespaces.rdf.rest, namespaces.rdf.nil, null);\n    var toRemove = remove ? [...tails] : [];\n    tails.forEach(tailQuad => {\n      var items = [];             // the members found as objects of rdf:first quads\n      var malformed = false;      // signals whether the current list is malformed\n      var head;                   // the head of the list (_:b1 in above example)\n      var headPos;                // set to subject or object when head is set\n      var graph = tailQuad.graph; // make sure list is in exactly one graph\n\n      // Traverse the list from tail to end\n      var current = tailQuad.subject;\n      while (current && !malformed) {\n        var objectQuads = this.getQuads(null, null, current, null);\n        var subjectQuads = this.getQuads(current, null, null, null);\n        var i, quad, first = null, rest = null, parent = null;\n\n        // Find the first and rest of this list node\n        for (i = 0; i < subjectQuads.length && !malformed; i++) {\n          quad = subjectQuads[i];\n          if (!quad.graph.equals(graph))\n            malformed = onError(current, 'not confined to single graph');\n          else if (head)\n            malformed = onError(current, 'has non-list arcs out');\n\n          // one rdf:first\n          else if (quad.predicate.value === namespaces.rdf.first) {\n            if (first)\n              malformed = onError(current, 'has multiple rdf:first arcs');\n            else\n              toRemove.push(first = quad);\n          }\n\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (rest)\n              malformed = onError(current, 'has multiple rdf:rest arcs');\n            else\n              toRemove.push(rest = quad);\n          }\n\n          // alien triple\n          else if (objectQuads.length)\n            malformed = onError(current, 'can\\'t be subject and object');\n          else {\n            head = quad; // e.g. { (1 2 3) :p :o }\n            headPos = 'subject';\n          }\n        }\n\n        // { :s :p (1 2) } arrives here with no head\n        // { (1 2) :p :o } arrives here with head set to the list.\n        for (i = 0; i < objectQuads.length && !malformed; ++i) {\n          quad = objectQuads[i];\n          if (head)\n            malformed = onError(current, 'can\\'t have coreferences');\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (parent)\n              malformed = onError(current, 'has incoming rdf:rest arcs');\n            else\n              parent = quad;\n          }\n          else {\n            head = quad; // e.g. { :s :p (1 2) }\n            headPos = 'object';\n          }\n        }\n\n        // Store the list item and continue with parent\n        if (!first)\n          malformed = onError(current, 'has no list head');\n        else\n          items.unshift(first.object);\n        current = parent && parent.subject;\n      }\n\n      // Don't remove any quads if the list is malformed\n      if (malformed)\n        remove = false;\n      // Store the list under the value of its head\n      else if (head)\n        lists[head[headPos].value] = items;\n    });\n\n    // Remove list quads if requested\n    if (remove)\n      this.removeQuads(toRemove);\n    return lists;\n  }\n}\n\n// Determines whether the argument is a string\nfunction isString(s) {\n  return typeof s === 'string' || s instanceof String;\n}\n","// **N3Util** provides N3 utility functions.\n\nimport N3DataFactory from './N3DataFactory';\n\n// Tests whether the given term represents an IRI\nexport function isNamedNode(term) {\n  return !!term && term.termType === 'NamedNode';\n}\n\n// Tests whether the given term represents a blank node\nexport function isBlankNode(term) {\n  return !!term && term.termType === 'BlankNode';\n}\n\n// Tests whether the given term represents a literal\nexport function isLiteral(term) {\n  return !!term && term.termType === 'Literal';\n}\n\n// Tests whether the given term represents a variable\nexport function isVariable(term) {\n  return !!term && term.termType === 'Variable';\n}\n\n// Tests whether the given term represents the default graph\nexport function isDefaultGraph(term) {\n  return !!term && term.termType === 'DefaultGraph';\n}\n\n// Tests whether the given quad is in the default graph\nexport function inDefaultGraph(quad) {\n  return isDefaultGraph(quad.graph);\n}\n\n// Creates a function that prepends the given IRI to a local name\nexport function prefix(iri, factory) {\n  return prefixes({ '': iri }, factory)('');\n}\n\n// Creates a function that allows registering and expanding prefixes\nexport function prefixes(defaultPrefixes, factory) {\n  // Add all of the default prefixes\n  var prefixes = Object.create(null);\n  for (var prefix in defaultPrefixes)\n    processPrefix(prefix, defaultPrefixes[prefix]);\n  // Set the default factory if none was specified\n  factory = factory || N3DataFactory;\n\n  // Registers a new prefix (if an IRI was specified)\n  // or retrieves a function that expands an existing prefix (if no IRI was specified)\n  function processPrefix(prefix, iri) {\n    // Create a new prefix if an IRI is specified or the prefix doesn't exist\n    if (typeof iri === 'string') {\n      // Create a function that expands the prefix\n      var cache = Object.create(null);\n      prefixes[prefix] = function (local) {\n        return cache[local] || (cache[local] = factory.namedNode(iri + local));\n      };\n    }\n    else if (!(prefix in prefixes)) {\n      throw new Error('Unknown prefix: ' + prefix);\n    }\n    return prefixes[prefix];\n  }\n  return processPrefix;\n}\n","// **N3StreamParser** parses a text stream into a quad stream.\nimport N3Parser from './N3Parser';\nimport { Transform } from 'stream';\n\n// ## Constructor\nexport default class N3StreamParser extends Transform {\n  constructor(options) {\n    super({ decodeStrings: true });\n    this._readableState.objectMode = true;\n\n    // Set up parser with dummy stream to obtain `data` and `end` callbacks\n    var self = this, parser = new N3Parser(options), onData, onEnd;\n    parser.parse({\n      on: function (event, callback) {\n        switch (event) {\n        case 'data': onData = callback; break;\n        case 'end':   onEnd = callback; break;\n        }\n      },\n    },\n      // Handle quads by pushing them down the pipeline\n      function (error, quad) { error && self.emit('error', error) || quad && self.push(quad); },\n      // Emit prefixes through the `prefix` event\n      function (prefix, uri) { self.emit('prefix', prefix, uri); }\n    );\n\n    // Implement Transform methods through parser callbacks\n    this._transform = function (chunk, encoding, done) { onData(chunk); done(); };\n    this._flush = function (done) { onEnd(); done(); };\n  }\n\n  // ### Parses a stream of strings\n  import(stream) {\n    var self = this;\n    stream.on('data',  function (chunk) { self.write(chunk); });\n    stream.on('end',   function ()      { self.end(); });\n    stream.on('error', function (error) { self.emit('error', error); });\n    return this;\n  }\n}\n","// **N3StreamWriter** serializes a quad stream into a text stream.\nimport { Transform } from 'stream';\nimport N3Writer from './N3Writer';\n\n// ## Constructor\nexport default class N3StreamWriter extends Transform {\n  constructor(options) {\n    super({ encoding: 'utf8' });\n    this._writableState.objectMode = true;\n\n    // Set up writer with a dummy stream object\n    var self = this;\n    var writer = this._writer = new N3Writer({\n      write: function (quad, encoding, callback) { self.push(quad); callback && callback(); },\n      end: function (callback) { self.push(null); callback && callback(); },\n    }, options);\n\n    // Implement Transform methods on top of writer\n    this._transform = function (quad, encoding, done) { writer.addQuad(quad, done); };\n    this._flush = function (done) { writer.end(done); };\n  }\n\n// ### Serializes a stream of quads\n  import(stream) {\n    var self = this;\n    stream.on('data',   function (quad)  { self.write(quad); });\n    stream.on('end',    function ()      { self.end(); });\n    stream.on('error',  function (error) { self.emit('error', error); });\n    stream.on('prefix', function (prefix, iri) { self._writer.addPrefix(prefix, iri); });\n    return this;\n  }\n}\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar N3 = _interopRequireWildcard(require(\"n3\"));\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SparqlEndpoint = /*#__PURE__*/function () {\n  function SparqlEndpoint(uri) {\n    var logQueries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, SparqlEndpoint);\n\n    this._uri = uri;\n    this._logQueries = logQueries;\n  }\n\n  _createClass(SparqlEndpoint, [{\n    key: \"getSparqlResultSet\",\n    value: function getSparqlResultSet(query) {\n      var fetchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this._logQueries) console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return (0, _nodeFetch[\"default\"])(this._uri + \"?query=\" + encodedQuery, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n        headers: {\n          accept: \"application/sparql-results+json\"\n        }\n      })).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.json();\n        }\n      });\n    }\n  }, {\n    key: \"getSparqlRDF\",\n    value: function getSparqlRDF(query) {\n      var fetchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var parser = new N3.Parser();\n      if (this._logQueries) console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return (0, _nodeFetch[\"default\"])(this._uri + \"?query=\" + encodedQuery, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n        headers: {\n          accept: \"text/turtle\"\n        }\n      })).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.text();\n        }\n      }).then(function (text) {\n        return parser.parse(text);\n      });\n    }\n  }]);\n\n  return SparqlEndpoint;\n}();\n\nexports[\"default\"] = SparqlEndpoint;\nmodule.exports = exports.default;\n//# sourceMappingURL=SparqlEndpoint.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _awesomplete = _interopRequireDefault(require(\"awesomplete\"));\n\nvar _sparqlClient = _interopRequireDefault(require(\"@retog/sparql-client\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Prefixplete =\n/*#__PURE__*/\nfunction () {\n  function Prefixplete(input) {\n    var _this = this;\n\n    var sparqlEndpoint = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _sparqlClient[\"default\"](\"https://mtp.linked.solutions/sparql\");\n    var prefixGraphPrefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"https://mtp.linked.solutions/\";\n\n    _classCallCheck(this, Prefixplete);\n\n    if (sparqlEndpoint.getSparqlResultSet) {\n      this._sparqlEndpoint = sparqlEndpoint;\n    } else {\n      this._sparqlEndpoint = new _sparqlClient[\"default\"](sparqlEndpoint);\n    }\n\n    this._input = input;\n    this._prefixMappings = [];\n    var self = this;\n    var previousValue = input.value;\n    var prefixSuggestions = [];\n    var fullSuggestions = [];\n    var awesomplete = new _awesomplete[\"default\"](input);\n    awesomplete.maxItems = 15;\n    awesomplete.input.addEventListener(\"keyup\", function (e) {\n      if (input.value.length >= 2 && e.key !== \"Enter\" && input.value !== previousValue) {\n        populateSuggestions();\n      }\n\n      return true;\n    });\n    input.addEventListener(\"awesomplete-selectcomplete\", function (e) {\n      if (input.value.trim().split(\":\").length < 2 || input.value.trim().split(\":\")[1] === \"\") {\n        populateSuggestions();\n        awesomplete.open();\n      } else {\n        _this.lookup();\n      }\n    });\n\n    function getFullUri(prefixedUri) {\n      var splitup = prefixedUri.split(\":\"); //console.log(\"%cPrefixplete > getFullUri\", \"color: #4527a0\", splitup, prefixMappings);\n\n      var mapping = self._prefixMappings.find(function (m) {\n        return splitup[0] === m.prefix;\n      });\n\n      if (mapping) {\n        return mapping.uri + splitup[1];\n      } else {\n        return prefixedUri;\n      }\n    }\n\n    function getPrefixedUri(fullUri) {\n      var uri = self._getPrefixedUri(fullUri);\n\n      return uri != null ? uri : fullUri;\n    }\n\n    function populateSuggestions() {\n      if (input.value.toString().indexOf(\":\") === -1) {\n        previousValue = input.value;\n        getPrefixUrlSuggestions(input.value).then(function (_) {\n          awesomplete.list = prefixSuggestions.map(function (i) {\n            return i.display;\n          });\n          awesomplete.open();\n        });\n      } else {\n        previousValue = input.value;\n        var splitup = input.value.toString().split(\":\");\n        getFullSuggestions({\n          prefix: splitup[0],\n          url: getFullUri(input.value.toString())\n        }).then(function (_) {\n          awesomplete.list = fullSuggestions.map(function (i) {\n            return i.display !== i.prefix + \":\" ? i.display : undefined;\n          }); //console.log(\"%cPrefixplete > populateSuggestions\", \"color: #4527a0\", fullSuggestions.map(i => i.display !== i.prefix + \":\" ? i.display : undefined));\n\n          awesomplete.open();\n        });\n      }\n    }\n\n    function getPrefixUrlSuggestions(prefix) {\n      var query = \"PREFIX vann: <http://purl.org/vocab/vann/>\\n\" + \"SELECT ?prefix ?uri WHERE {\\n\" + \"    ?sub vann:preferredNamespacePrefix ?prefix ;\\n\" + \"         vann:preferredNamespaceUri ?uri .\\n\" + \"    FILTER ( REGEX (?prefix, \\\"\" + prefix + \"\\\") )\\n\" + \"}\\n\" + \"LIMIT 40\";\n      return self._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n        prefixSuggestions = json.results.bindings.map(function (binding) {\n          return {\n            prefix: binding.prefix.value,\n            display: binding.prefix.value + \":\",\n            uri: binding.uri.value\n          };\n        });\n        self._prefixMappings = self._prefixMappings.concat(prefixSuggestions);\n        return true;\n      });\n    }\n\n    function getFullSuggestions(prefix) {\n      //console.log(\"%cPrefixplete > getFullSuggestions\", \"color: #4527a0\", prefix);\n      var query = \"SELECT DISTINCT ?uri WHERE {\\n\" + \"  GRAPH <\" + prefixGraphPrefix + prefix.prefix + \"> {\\n\" + \"    ?uri ?p ?o .\\n\" + \"    FILTER ( REGEX ( STR(?uri), \\\"\" + prefix.url.replace(/\\./g, \"\\\\\\\\.\") + \"\\\") )\\n\" + \"  }\\n\" + \"}\\n\" + \"LIMIT 40\";\n      return self._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n        fullSuggestions = json.results.bindings.map(function (binding) {\n          return {\n            prefix: prefix.prefix,\n            display: getPrefixedUri(binding.uri.value),\n            uri: binding.uri.value\n          };\n        });\n        return true;\n      });\n    }\n  }\n\n  _createClass(Prefixplete, [{\n    key: \"_getPrefixedUri\",\n    value: function _getPrefixedUri(fullUri) {\n      var mapping = this._prefixMappings.find(function (m) {\n        return fullUri.startsWith(m.uri);\n      });\n\n      if (mapping) {\n        return fullUri.replace(mapping.uri, mapping.prefix + \":\");\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      var _this2 = this;\n\n      var prefixedUri = this._getPrefixedUri(value);\n\n      if (prefixedUri) {\n        this._input.value = prefixedUri;\n      } else {\n        this._input.value = value;\n        var query = \"PREFIX vann: <http://purl.org/vocab/vann/>\\n\" + \"SELECT DISTINCT ?prefix ?uri WHERE {\\n\" + \"    ?sub vann:preferredNamespacePrefix ?prefix ;\\n\" + \"         vann:preferredNamespaceUri ?uri .\\n\" + \"    FILTER ( REGEX (\\\"\" + value + \"\\\", \\\"^\\\" + str(?uri)) )\\n\" + \"}\\n\" + \"LIMIT 1\";\n        return this._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n          if (json.results.bindings[0]) {\n            _this2._input.value = value.replace(json.results.bindings[0].uri.value, json.results.bindings[0].prefix.value + \":\");\n\n            _this2._prefixMappings.push({\n              'prefix': json.results.bindings[0].prefix.value,\n              'uri': json.results.bindings[0].uri.value\n            });\n          }\n\n          return true;\n        });\n      }\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup() {\n      this.action(this.value);\n    }\n  }, {\n    key: \"action\",\n    value: function action(value) {\n      console.log(\"%cPrefixplete.action(value)\", \"color: #4527a0\", \"Value \" + value + \" selected, overwrite Prefixplete.action(value) method to have something happen.\");\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      var splitup = this._input.value.toString().split(\":\");\n\n      var mapping = this._prefixMappings.find(function (m) {\n        return splitup[0] === m.prefix;\n      });\n\n      if (mapping && this._input.value.toString().indexOf(\":\") !== -1) {\n        return mapping.uri + splitup[1];\n      } else {\n        return this._input.value.toString();\n      }\n    },\n    set: function set(value) {\n      this.setValue(value);\n    }\n  }]);\n\n  return Prefixplete;\n}();\n\nexports[\"default\"] = Prefixplete;\n//# sourceMappingURL=prefixplete.js.map","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Prefixplete from \"prefixplete\";\n  import { onMount } from \"svelte\";\n\n  export let value;\n\n  let inputElement, prefixplete;\n\n  onMount(() => {\n    prefixplete = new Prefixplete(\n      inputElement,\n      \"https://ontologies.farewellutopia.com/sparql\",\n      \"https://ontologies.farewellutopia.com/\"\n    );\n\n    prefixplete.action = function() {\n      value = Factory.namedNode(prefixplete.value);\n    };\n    prefixplete.setValue(value.value);\n  });\n\n  function input(e) {\n    value = Factory.namedNode(prefixplete.value);\n  }\n  $: if(prefixplete) {\n     prefixplete.setValue(value.value);\n  }\n</script>\n\n<span>\n  <style>\n \n    .awesomplete > ul {\n      min-width: unset;\n    }\n    .awesomplete [hidden] {\n      display: none;\n    }\n\n    .awesomplete .visually-hidden {\n      position: absolute;\n      clip: rect(0, 0, 0, 0);\n    }\n\n    .awesomplete {\n      display: inline-block;\n      position: relative;\n    }\n\n    .awesomplete > input {\n      display: block;\n    }\n\n    .awesomplete > ul {\n      box-sizing: border-box;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    }\n\n    .awesomplete > ul:empty {\n      display: none;\n    }\n    /*from node_modules/awesomplete/awesomplete.css*/\n    .awesomplete [hidden] {\n      display: none;\n    }\n\n    .awesomplete .visually-hidden {\n      position: absolute;\n      clip: rect(0, 0, 0, 0);\n    }\n\n    .awesomplete {\n      display: inline-block;\n      position: relative;\n    }\n\n    .awesomplete > input {\n      display: block;\n    }\n\n    .awesomplete > ul {\n      position: absolute;\n      left: 0;\n      z-index: 1;\n      min-width: 100%;\n      box-sizing: border-box;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    }\n\n    .awesomplete > ul:empty {\n      display: none;\n    }\n\n    .awesomplete > ul {\n      border-radius: 0.3em;\n      margin: 0.2em 0 0;\n      background: hsla(0, 0%, 100%, 0.9);\n      background: linear-gradient(\n        to bottom right,\n        white,\n        hsla(0, 0%, 100%, 0.8)\n      );\n      border: 1px solid rgba(0, 0, 0, 0.3);\n      box-shadow: 0.05em 0.2em 0.6em rgba(0, 0, 0, 0.2);\n      text-shadow: none;\n    }\n\n    @supports (transform: scale(0)) {\n      .awesomplete > ul {\n        transition: 0.3s cubic-bezier(0.4, 0.2, 0.5, 1.4);\n        transform-origin: 1.43em -0.43em;\n      }\n\n      .awesomplete > ul[hidden],\n      .awesomplete > ul:empty {\n        opacity: 0;\n        transform: scale(0);\n        display: block;\n        transition-timing-function: ease;\n      }\n    }\n\n    /* Pointer */\n    .awesomplete > ul:before {\n      content: \"\";\n      position: absolute;\n      top: -0.43em;\n      left: 1em;\n      width: 0;\n      height: 0;\n      padding: 0.4em;\n      background: white;\n      border: inherit;\n      border-right: 0;\n      border-bottom: 0;\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n    }\n\n    .awesomplete > ul > li {\n      position: relative;\n      padding: 0.2em 0.5em;\n      cursor: pointer;\n    }\n\n    .awesomplete > ul > li:hover {\n      background: hsl(200, 40%, 80%);\n      color: black;\n    }\n\n    .awesomplete > ul > li[aria-selected=\"true\"] {\n      background: hsl(205, 40%, 40%);\n      color: white;\n    }\n\n    .awesomplete mark {\n      background: hsl(65, 100%, 50%);\n    }\n\n    .awesomplete li:hover mark {\n      background: hsl(68, 100%, 41%);\n    }\n\n    .awesomplete li[aria-selected=\"true\"] mark {\n      background: hsl(86, 100%, 21%);\n      color: inherit;\n    }\n  </style>\n  <input type=\"text\" bind:this={inputElement} on:input={input} />\n</span>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import HtmlEditor from \"./valueEditors/HtmlEditor.svelte\";\n  import SimpleLiteralEditor from \"./valueEditors/SimpleLiteralEditor.svelte\";\n  import NamedNodeEditor from \"./valueEditors/NamedNodeEditor.svelte\";\n  import BlankNodeEditor from \"./valueEditors/BlankNodeEditor.svelte\";\n\n  export let value;\n\n  function getType() {\n    const types = {\n      \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\": \"html\",\n      \"http://www.w3.org/2001/XMLSchema#string\": \"label\",\n      \"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\": \"langString\"\n    };\n    return value.termType === \"Literal\"\n      ? types[value.datatype.value]\n        ? types[value.datatype.value]\n        : \"literal\"\n      : value.termType === \"NamedNode\"\n      ? \"IRI\"\n      : value.termType === \"DefaultGraph\"\n      ? \"DefaultGraph\"\n      : \"BlankNode\";\n  }\n  $: type = getType(value);\n</script>\n\n<div class=\"f\" :key=\"type\">\n  {#if type === 'html'}\n    <HtmlEditor bind:value on:input />\n  {:else if type === 'IRI'}\n    <NamedNodeEditor bind:value on:input />\n  {:else if type === 'BlankNode'}\n    <BlankNodeEditor bind:value on:input />\n  {:else if type === 'label' || type === 'langString'}\n    <SimpleLiteralEditor bind:value on:input />\n  {:else}\n    <div v-else>No value editor for {type}</div>\n  {/if}\n</div>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n\n  export let value;\n  export let termTypes = null;\n  let type = null;\n  const availableOptions = {\n    html: Factory.literal(\n      \"\",\n      Factory.namedNode(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\")\n    ),\n    label: Factory.literal(\"\"),\n    \"label with language\": Factory.literal(\"\", \"en\"),\n    IRI: Factory.namedNode(\"\"),\n    \"Blank Node\": Factory.blankNode(),\n    DefaultGraph: Factory.defaultGraph()\n  };\n\n  let options = termTypes\n    ? Object.fromEntries(\n        Object.entries(availableOptions).filter(\n          ([k, n]) => termTypes.indexOf(n.termType) > -1\n        )\n      )\n    : availableOptions;\n\n  const previousValues = new Map();\n\n  function typeSelected (event) {\n      console.log(\"this.termTypes: \",termTypes);\n      console.log(\"typeSelected: \",event);\n      console.log(\"this.type: \",type);\n      if (!type) {\n          return;\n      }\n      const previousValue = previousValues.get(type);\n      if (previousValue && previousValue.value.length > 0 \n              && window.confirm(\"Restoring previous value\")) { \n              value = previousValue;\n      } else {\n          console.log(\"maps to: \",options[(type)]);\n          value = options[type];\n      }\n  }\n\n  function reset() {\n    previousValues.set(compType(), value);\n    type = null;\n    value = null;\n  }\n\n  function compType () {\n        const types = {\n            \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\": \"html\",\n            \"http://www.w3.org/2001/XMLSchema#string\": \"label\",\n            \"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\": \"langString\"\n        };\n        return (\n            value !== null ?\n                value.termType === \"Literal\" ? \n                    types[value.datatype.value] ?\n                        types[value.datatype.value] : \"literal\"\n                : value.termType === \"NamedNode\" ? \"IRI\" \n                : value.termType === \"DefaultGraph\" ? \"DefaultGraph\"\n                : \"BlankNode\"\n                : null );\n    }\n</script>\n\n<style>\n  span {\n    display: flex;\n  }\n\n  svg {\n    height: 1em;\n  }\n</style>\n\n<div class=\"te\">\n  {#if !value}\n    <select bind:value={type} on:change={typeSelected}>\n      <option disabled value={null}>Select type</option>\n      {#each Object.keys(options) as option}\n        <option value={option}>{option}</option>\n      {/each}\n    </select>\n  {:else}\n    <span>\n      <button type=\"button\" class=\"icon\" on:click={reset}>\n        <svg viewBox=\"0 0 24 24\">\n          <path\n            fill=\"currentColor\"\n            d=\"M12,6L7,11H17L12,6M7,13L12,18L17,13H7Z\" />\n        </svg>\n      </button>\n      {#if value !== null}\n        <ExistingTermEditor bind:value on:input />\n      {/if}\n    </span>\n  {/if}\n</div>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import TermEditor from \"./TermEditor.svelte\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n\n  let subject, predicate, object, graph;\n  export let value;\n  export let labels = false;\n\n  $: elementChanged(subject);\n  $: elementChanged(predicate);\n  $: elementChanged(object);\n  $: elementChanged(graph);\n\n  $: valueChanged(value);\n\n  function valueChanged(v) {\n    subject = v ? v.subject : null;\n    predicate = value ? value.predicate : Factory.namedNode(\"\");\n    object = value ? value.object : null;\n    graph = value ? value.graph : null;\n  }\n\n  function elementChanged(val) {\n    if (subject && predicate && object && graph) {\n      value = Factory.quad(subject, predicate, object, graph);\n    }\n  }\n</script>\n\n<style>\n  .area {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto;\n    grid-gap: 0 1em;\n    gap: 0 1em;\n    align-items: start;\n    margin-bottom: 0.8rem;\n  }\n\n  .element {\n    display: flex;\n    align-items: left;\n    grid-row: 2/ span 1;\n    flex-grow: 4;\n  }\n\n  label {\n    grid-row: 1/ span 1;\n  }\n\n</style>\n\n<div class=\"area\">\n\n  {#if labels}\n    <label>Subject:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor bind:value={subject} termTypes=\"['BlankNode', 'NamedNode']\" />\n  </div>\n  {#if labels}\n    <label>Predicate:</label>\n  {/if}\n  <div class=\"element\">\n  <ExistingTermEditor bind:value={predicate} />\n  </div>\n  {#if labels}\n    <label>Object:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor\n    bind:value={object}\n    termTypes=\"['BlankNode', 'NamedNode', 'Literal']\" />\n  </div>\n  {#if labels}\n    <label>Graph:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor\n    bind:value={graph}\n    termTypes=\"['BlankNode', 'NamedNode', 'DefaultGraph']\" />\n  </div>\n</div>\n","/**\r\n * provided methods to list, add, remove and replace quads\r\n */\r\nexport default class DatasetManager {\r\n    constructor(dataset, changeListener) {\r\n        this.dataset = dataset;\r\n        this.changeListener = changeListener;\r\n        this.previousHolders = new Map();\r\n    }\r\n    orderQuads(quads) {\r\n        let result = new Array();\r\n        let i = 0;\r\n        const currentHolders = new Map();\r\n        for (let quad of quads) {\r\n            let holder = this.previousHolders.get(quad);\r\n            const self = this;\r\n            if (!holder) {\r\n                holder = {\r\n                    id: \"\",\r\n                    get quad() {\r\n                        return quad;\r\n                    },\r\n                    set quad(q) {\r\n                        if (quad.equals(q)) {\r\n                            return;\r\n                        }\r\n                        self.previousHolders.delete(quad);\r\n                        self.dataset.delete(quad);\r\n                        if (q !== null) {\r\n                            self.dataset.add(q);\r\n                        }\r\n                        else {\r\n                            console.log(\"removing quad\");\r\n                        }\r\n                        quad = q;\r\n                        self.previousHolders.set(q, this);\r\n                        self.changeListener(self.dataset);\r\n                    }\r\n                };\r\n            }\r\n            this.previousHolders.set(quad, holder);\r\n            result.push(holder);\r\n        }\r\n        //previousHolders = currentHolders;\r\n        const sorted = result.sort((a, b) => {\r\n            function first(f) {\r\n                const fr = f();\r\n                const result = {\r\n                    then: function (t) {\r\n                        if (fr === 0) {\r\n                            return first(t);\r\n                        }\r\n                        else {\r\n                            return result;\r\n                        }\r\n                    },\r\n                    finally: function (t) {\r\n                        if (fr === 0) {\r\n                            return t();\r\n                        }\r\n                        else {\r\n                            return fr;\r\n                        }\r\n                    }\r\n                };\r\n                return result;\r\n            }\r\n            function compare(field) {\r\n                return () => {\r\n                    if (a.quad[field].value < b.quad[field].value) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        if (a.quad[field].value > b.quad[field].value) {\r\n                            return 1;\r\n                        }\r\n                        else {\r\n                            return 0;\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n            return first(compare('graph'))\r\n                .then(compare('subject'))\r\n                .then(compare('predicate'))\r\n                .finally(compare('object'));\r\n        });\r\n        const zero = { id: 0 };\r\n        const max = sorted.reduce((previous, current) => previous.id > current.id ? previous : current, zero);\r\n        let j = max.id;\r\n        sorted.forEach(holder => {\r\n            if (!holder.id) {\r\n                holder.id = ++j;\r\n            }\r\n        });\r\n        //console.log(uuid, \"sorted\", JSON.stringify(sorted));\r\n        return sorted;\r\n    }\r\n    orderedQuads() {\r\n        return this.orderQuads(this.dataset);\r\n    }\r\n}\r\n","function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n\nmodule.exports = BlankNode\n","function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n\nmodule.exports = DefaultGraph\n","function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n\nmodule.exports = NamedNode\n","var NamedNode = require('./named-node')\n\nfunction Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n\nmodule.exports = Literal\n","var DefaultGraph = require('./default-graph')\n\nfunction Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n\nmodule.exports = Quad\n","function Variable (name) {\n  this.value = name\n}\n\nVariable.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nVariable.prototype.termType = 'Variable'\n\nmodule.exports = Variable\n","var BlankNode = require('./blank-node')\nvar DefaultGraph = require('./default-graph')\nvar Literal = require('./literal')\nvar NamedNode = require('./named-node')\nvar Quad = require('./quad')\nvar Variable = require('./variable')\n\nfunction DataFactory () {}\n\nDataFactory.namedNode = function (value) {\n  return new NamedNode(value)\n}\n\nDataFactory.blankNode = function (value) {\n  return new BlankNode(value)\n}\n\nDataFactory.literal = function (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, DataFactory.namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nDataFactory.defaultGraph = function () {\n  return DataFactory.defaultGraphInstance\n}\n\nDataFactory.variable = function (value) {\n  return new Variable(value)\n}\n\nDataFactory.triple = function (subject, predicate, object) {\n  return DataFactory.quad(subject, predicate, object)\n}\n\nDataFactory.quad = function (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || DataFactory.defaultGraphInstance)\n}\n\nDataFactory.defaultGraphInstance = new DefaultGraph()\n\nmodule.exports = DataFactory\n","function isMatch (quad, subject, predicate, object, graph) {\n  if (subject && !quad.subject.equals(subject)) {\n    return false\n  }\n\n  if (predicate && !quad.predicate.equals(predicate)) {\n    return false\n  }\n\n  if (object && !quad.object.equals(object)) {\n    return false\n  }\n\n  if (graph && !quad.graph.equals(graph)) {\n    return false\n  }\n\n  return true\n}\n\nmodule.exports = isMatch\n","const isMatch = require('./isMatch')\n\nclass DatasetCore {\n  constructor (quads) {\n    this.quads = new Set()\n\n    if (quads) {\n      for (const quad of quads) {\n        this.quads.add(quad)\n      }\n    }\n  }\n\n  get size () {\n    return this.quads.size\n  }\n\n  add (quad) {\n    if (!this.has(quad)) {\n      this.quads.add(quad)\n    }\n\n    return this\n  }\n\n  delete (quad) {\n    for (const localQuad of this) {\n      if (isMatch(quad, localQuad.subject, localQuad.predicate, localQuad.object, localQuad.graph)) {\n        this.quads.delete(localQuad)\n\n        return this\n      }\n    }\n\n    return this\n  }\n\n  has (quad) {\n    for (const other of this) {\n      if (isMatch(other, quad.subject, quad.predicate, quad.object, quad.graph)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  match (subject, predicate, object, graph) {\n    const matches = new Set()\n\n    for (const quad of this) {\n      if (isMatch(quad, subject, predicate, object, graph)) {\n        matches.add(quad)\n      }\n    }\n\n    return new this.constructor(matches)\n  }\n\n  [Symbol.iterator] () {\n    return this.quads[Symbol.iterator]()\n  }\n}\n\nmodule.exports = DatasetCore\n","const rdf = require('@rdfjs/data-model')\nconst DatasetCore = require('./DatasetCore')\n\nfunction dataset (quads) {\n  return new DatasetCore(quads)\n}\n\nmodule.exports = Object.assign({ dataset }, rdf)\n","<script>\n  import DatasetManager from \"./DatasetUtils\";\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import QuadEditor from \"./QuadEditor.svelte\";\n\n  export let value;\n\n  let addingQuad = false;\n\n  let newQuad = null;\n\n  let dm = new DatasetManager(value, (ds) => value = value);\n\n  $: if (newQuad !== null) {\n    addNewQuad(newQuad);\n    newQuad = null;\n  }\n\n  $: orderedQuads = getOrderedQuads(value);\n\n  function addNewQuad(q) {\n    addingQuad = false;\n    value.add(q);\n    value = value;\n  }\n\n  function addQuad() {\n    newQuad = null;\n    addingQuad = true;\n  }\n\n  function getOrderedQuads() {\n    const r = dm.orderQuads(value);\n    return r;\n  }\n</script>\n\n<div>\n{#each orderedQuads as t (t.id)}\n  <span>\n    <QuadEditor bind:value={t.quad} />\n  </span>\n{/each}\n{#if addingQuad}\n  <div>\n    <QuadEditor bind:value={newQuad} />\n  </div>\n{:else}\n  <div>\n    <button on:click={addQuad}>Add quad</button>\n  </div>\n{/if}\n</div>\n","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n</script>\n\n\n<svg\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   width=\"{width}\" \n   height=\"{height}\" \n   viewBox=\"0 0 8.4666667 8.4666667\"\n   version=\"1.1\">\n  <defs\n     id=\"defs2\" />\n\n  <g\n     id=\"layer1\"\n     transform=\"translate(0,-288.53333)\">\n    <path\n       style=\"fill:#000000;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:12;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"M 26 4 C 25.089083 4.00132 24.294135 4.6180067 24.066406 5.5 L 23.998047 5.5 C 19.95638 5.5 16.849522 6.008625 14.240234 7.5742188 C 12.595355 8.5611358 11.175274 9.9916185 9.8398438 11.904297 C 9.2772665 11.649807 8.6582344 11.5 8.0019531 11.5 C 5.5225944 11.5 3.4980469 13.524536 3.4980469 16.003906 C 3.4980469 18.483276 5.5225944 20.5 8.0019531 20.5 C 8.6582735 20.5 9.2772403 20.349458 9.8398438 20.095703 C 11.17516 22.008206 12.595548 23.438979 14.240234 24.425781 C 16.849522 25.991375 19.95638 26.5 23.998047 26.5 L 24.064453 26.5 C 24.29236 27.382696 25.088355 27.999569 26 28 C 27.10457 28 28 27.10457 28 26 C 28 24.89543 27.10457 24 26 24 C 25.090207 24.000858 24.295631 24.615651 24.066406 25.496094 L 23.998047 25.496094 C 20.039714 25.496094 17.146571 25.004757 14.755859 23.570312 C 13.267346 22.677218 11.956801 21.368413 10.699219 19.578125 C 11.659023 18.851836 12.307278 17.755254 12.447266 16.498047 L 23.998047 16.498047 L 24.064453 16.498047 C 24.291616 17.381519 25.087792 17.99934 26 18 C 27.10457 18 28 17.10457 28 16 C 28 14.89543 27.10457 14 26 14 C 25.088519 14.0015 24.293385 14.619185 24.066406 15.501953 L 23.998047 15.501953 L 12.447266 15.501953 C 12.30562 14.246368 11.656176 13.150691 10.697266 12.423828 C 11.955396 10.632345 13.266656 9.3232203 14.755859 8.4296875 C 17.146571 6.9952812 20.039714 6.5039063 23.998047 6.5039062 L 24.064453 6.5039062 C 24.293858 7.3850521 25.08948 8.000031 26 8 C 27.10457 8.0000001 28 7.1045695 28 6 C 28 4.8954305 27.10457 3.9999999 26 4 z M 8.0019531 12.496094 C 9.9408719 12.496094 11.501953 14.064971 11.501953 16.003906 C 11.501953 17.942804 9.9408719 19.501953 8.0019531 19.501953 C 6.0630343 19.501953 4.5039063 17.942804 4.5039062 16.003906 C 4.5039062 14.064971 6.0630343 12.496094 8.0019531 12.496094 z \"\n       transform=\"matrix(0.26458333,0,0,0.26458333,0,288.53333)\"\n       id=\"path4573\" />\n    <path\n       style=\"fill:#ff2a2a;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:0.99999994;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 8.0019531,12.496094 c -1.9389188,0 -3.4980469,1.568877 -3.4980469,3.507812 10e-8,1.938898 1.5591281,3.498047 3.4980469,3.498047 1.9389188,0 3.4999999,-1.559149 3.4999999,-3.498047 0,-1.938935 -1.5610811,-3.507812 -3.4999999,-3.507812 z\"\n       transform=\"matrix(0.26458333,0,0,0.26458333,0,288.53333)\"\n       id=\"path4580\" />\n  </g>\n</svg>\n","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n</script>\n\n\n<svg\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   width=\"{width}\" \n   height=\"{height}\" \n   viewBox=\"0 0 8.4666667 8.4666667\"\n   version=\"1.1\"\n   id=\"svg8\">\n  <defs\n     id=\"defs2\" />\n  \n  <g\n     id=\"layer1\"\n     transform=\"translate(0,-288.53333)\">\n    <path\n       style=\"fill:#000000;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:3.17499995;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 1.5875001,289.59166 c 0.2410134,3.5e-4 0.4513434,0.16352 0.5115967,0.39688 h 0.018087 c 1.0693578,0 1.8913806,0.13457 2.5817547,0.5488 0.4352076,0.26112 0.8109373,0.63961 1.1642699,1.14567 0.1488486,-0.0673 0.3126341,-0.10697 0.4862752,-0.10697 0.655997,0 1.1916585,0.53566 1.1916585,1.19166 0,0.656 -0.5356615,1.18959 -1.1916585,1.18959 -0.1736514,0 -0.3374197,-0.0398 -0.4862752,-0.10697 -0.3533024,0.50601 -0.7291134,0.88457 -1.1642699,1.14566 -0.6903741,0.41423 -1.5123969,0.54881 -2.5817547,0.54881 h -0.01757 c -0.0603,0.23354 -0.2709074,0.39676 -0.5121134,0.39687 -0.2922509,0 -0.5291667,-0.23691 -0.5291667,-0.52916 0,-0.29225 0.2369158,-0.52917 0.5291667,-0.52917 0.240716,2.3e-4 0.4509476,0.16289 0.5115967,0.39584 h 0.018087 c 1.047309,0 1.8127864,-0.13 2.4453289,-0.50953 0.3938358,-0.2363 0.7405841,-0.58258 1.0733193,-1.05626 -0.2539488,-0.19217 -0.4254663,-0.48231 -0.4625048,-0.81494 h -3.0561441 -0.01757 c -0.060103,0.23375 -0.2707584,0.39722 -0.5121134,0.39739 -0.2922509,0 -0.5291667,-0.23692 -0.5291667,-0.52917 0,-0.29225 0.2369158,-0.52916 0.5291667,-0.52916 0.2411626,3.9e-4 0.4515418,0.16382 0.5115967,0.39739 h 0.018087 3.0561441 c 0.037477,-0.33221 0.2093093,-0.62211 0.4630209,-0.81442 -0.3328802,-0.474 -0.6798178,-0.82037 -1.0738361,-1.05679 -0.6325425,-0.37952 -1.3980199,-0.50952 -2.4453289,-0.50952 h -0.01757 c -0.060697,0.23313 -0.271205,0.39584 -0.5121134,0.39584 -0.2922509,0 -0.5291667,-0.23692 -0.5291667,-0.52917 0,-0.29225 0.2369158,-0.52917 0.5291665,-0.52917 z m 4.7619831,2.24793 c -0.5130056,0 -0.9260416,0.4151 -0.9260416,0.92811 0,0.513 0.413036,0.92552 0.9260416,0.92552 0.5130056,0 0.9255249,-0.41252 0.9255249,-0.92552 0,-0.51301 -0.4125193,-0.92811 -0.9255249,-0.92811 z\"\n       id=\"path4573\" />\n    <path\n       style=\"fill:#ff2a2a;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:0.26458332;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 6.3494832,291.83959 c 0.5130056,0 0.9255249,0.4151 0.9255249,0.92811 0,0.513 -0.4125193,0.92552 -0.9255249,0.92552 -0.5130056,0 -0.9260416,-0.41252 -0.9260416,-0.92552 0,-0.51301 0.413036,-0.92811 0.9260416,-0.92811 z\"\n       id=\"path4580\" />\n  </g>\n</svg>\n","<script>\nimport { createEventDispatcher } from 'svelte';\nimport SubjExpand from './images/SubjExpand.svelte';\nimport ObjExpand from './images/ObjExpand.svelte';\nconst dispatch = createEventDispatcher();\nexport let resource;\nfunction setSubject() {\n    dispatch(\"subject\", resource);\n}\nfunction setObject() {\n    dispatch(\"object\", resource);\n}\n\n</script>\n\n<style>\ndiv {\n  display: flex;\n  flex-shrink: 0;\n}\nbutton {\n  margin-left: .4em;\n}\n</style>\n\n<div>\n    <button class=\"icon\" on:click={setSubject}>\n        <SubjExpand size=\"1em\"/>\n    </button>\n    <button class=\"icon\" on:click={setObject}>\n        <ObjExpand size=\"1em\"/>\n    </button>\n</div>","<script>\n  import TermEditor from \"./TermEditor.svelte\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n  import ResourceNavigator from \"./ResourceNavigator.svelte\";\n  import * as Factory from \"@rdfjs/data-model\";\n  import { createEventDispatcher } from \"svelte\";\n  const dispatch = createEventDispatcher();\n  export let value;\n  export let fixedSubject;\n  export let fixedObject;\n  export let fixedGraph;\n  export let labels = false;\n  let subject = value ? value.subject : fixedSubject ? fixedSubject : null;\n  let predicate = value ? value.predicate : Factory.namedNode(\"\");\n  let object = value ? value.object : fixedObject ? fixedObject : null;\n  let graph = value ? value.graph : fixedGraph ? fixedGraph : null;\n  const elementChanged = function (val) {\n    if (subject && predicate && object && graph) {\n      const newQuad = Factory.quad(subject, predicate, object, graph);\n      if (!value || !newQuad.equals(value)) {\n        console.log(\"new quad\", newQuad);\n        value = newQuad;\n      }\n    }\n  };\n  $: elementChanged(subject);\n  $: elementChanged(predicate);\n  $: elementChanged(object);\n  $: elementChanged(graph);\n  $: setElements(value);\n  function setElements(quad) {\n    if (quad !== null) {\n      subject = quad.subject;\n      predicate = quad.predicate;\n      object = quad.object;\n      graph = quad.graph;\n    }\n  }\n</script>\n\n<style>\n  .area {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto;\n    grid-gap: 0 1em;\n    gap: 0 1em;\n    align-items: start;\n    margin-bottom: 0.8rem;\n  }\n\n  .element {\n    display: flex;\n    align-items: left;\n    grid-row: 2/ span 1;\n    flex-grow: 4;\n  }\n\n  label {\n    grid-row: 1/ span 1;\n  }\n\n  .placeholder {\n    grid-row: 2/ span 1;\n    flex-grow: 1;\n  }\n</style>\n\n<div class=\"area\">\n  {#if !fixedSubject}\n    {#if labels}\n      <label>Subject:</label>\n    {/if}\n    <div class=\"element\">\n      <TermEditor bind:value={subject} termTypes={['BlankNode', 'NamedNode']} />\n      {#if subject && subject.termType !== 'Literal'}\n        <ResourceNavigator resource={subject} on:subject on:object />\n      {/if}\n    </div>\n  {:else}\n  <div class=\"placeholder\"></div>\n  {/if}\n  {#if labels}\n    <label>Predicate:</label>\n  {/if}\n  <div class=\"element\">\n    <ExistingTermEditor bind:value={predicate} />\n  </div>\n  {#if !fixedObject}\n    {#if labels}\n      <label>Object:</label>\n    {/if}\n    <div class=\"element\">\n      <TermEditor\n        bind:value={object}\n        termTypes={['BlankNode', 'NamedNode', 'Literal']} />\n      {#if object && object.termType !== 'Literal'}\n        <ResourceNavigator resource={object} on:subject on:object />\n      {/if}\n    </div>\n  {:else}\n  <div class=\"placeholder\"></div>\n  {/if}\n  {#if !fixedGraph}\n    <div class=\"element\">\n      <TermEditor\n        bind:value={graph}\n        termTypes={['BlankNode', 'NamedNode', 'DefaultGraph']} />\n    </div>\n  {/if}\n</div>\n","<script>\nimport SubjExpand from './images/SubjExpand.svelte';\nimport ObjExpand from './images/ObjExpand.svelte';\nimport BrowserRow from \"./BrowserRow.svelte\"\nimport * as Factory from \"@rdfjs/data-model\";\nimport DatasetManager from \"./DatasetUtils\";\nexport let value;\nexport let subject = null;\nlet subjectFilter = null;\nexport let object = null;\nlet objectFilter = null;\nexport let graph = null;\nlet graphFilter = null;\nlet newQuad = null;\nlet addingQuad = false;\nconst dm = new DatasetManager(value, (ds) => value = value);\nif (subject) {\n    if (typeof subject === \"string\") {\n        subjectFilter = Factory.namedNode(subject);\n    }\n    else {\n        subjectFilter = subject;\n    }\n}\nif (object) {\n    if (typeof object === \"string\") {\n        objectFilter = Factory.namedNode(object);\n    }\n    else {\n        objectFilter = object;\n    }\n}\nif (graph) {\n    if (typeof graph === \"string\") {\n        graphFilter = Factory.namedNode(graph);\n    }\n    else {\n        graphFilter = graph;\n    }\n}\n$: if (newQuad !== null) {\n    addNewQuad(newQuad);\n    newQuad = null;\n}\nlet orderedQuads;\n//value is just us so it reacts for that var\n$: orderedQuads = value || subjectFilter || objectFilter ? getOrderedQuads() : null;\nfunction addNewQuad(q) {\n    addingQuad = false;\n    value.add(q);\n    value = value;\n}\nfunction addQuad() {\n    newQuad = null;\n    addingQuad = true;\n}\nfunction getOrderedQuads() {\n    const result = dm.orderQuads(value.match(subjectFilter, undefined, objectFilter, graphFilter));\n    console.log(\"getOrderedQuads\", result);\n    return result;\n}\nfunction setSubject(event) {\n    objectFilter = null;\n    subjectFilter = event.detail;\n}\nfunction setObject(event) {\n    console.log(\"setobj\", event.detail);\n    objectFilter = event.detail;\n    subjectFilter = null;\n}\n\n</script>\n<style>\n .icon {\n     padding: .4rem;\n }\n\n</style>\n\n<div>\n    {#if subjectFilter}\n        <h2>\n            <button class=\"icon\" on:click={() => {\n                    objectFilter = subjectFilter;\n                    subjectFilter = null;\n                }}>\n                <ObjExpand size=\"1rem\"/>\n            </button>\n            {subjectFilter.value}\n            <SubjExpand size=\"2em\"/>\n        </h2>\n    {/if}\n    {#if objectFilter}\n        <h2 style=\"text-align: end;\">\n            <ObjExpand size=\"2em\"/>\n            {objectFilter.value}\n            <button class=\"icon\" on:click={() => {\n                subjectFilter = objectFilter;\n                objectFilter = null;\n            }}>\n            <SubjExpand size=\"1rem\"/>\n        </button>\n        </h2>\n    {/if}\n    {#each orderedQuads as t (t.id)}\n    <span>\n      <BrowserRow bind:value={t.quad} fixedSubject={subjectFilter} \n      fixedGraph={graphFilter} fixedObject={objectFilter}\n      on:subject={setSubject} on:object={setObject} />\n    </span>\n    {/each}\n    {#if addingQuad}\n        <div>\n            <BrowserRow bind:value={newQuad} fixedSubject={subjectFilter} \n            fixedGraph={graphFilter} fixedObject={objectFilter}/>\n        </div>\n    {:else}\n        <div>\n            <button on:click={addQuad}>Add attribute</button>\n        </div>\n    {/if}\n</div>","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import * as N3 from \"n3\";\n  import {link} from 'svelte-spa-router'\n  import {\n    DatasetBrowser,\n  } from \"rdfjs-svelte\";\n\n  global.setImmediate = function(f) {\n    setTimeout(f,0);\n  }\n  let dataset = Dataset.dataset([]);\n  const parser = new N3.Parser();\n\n  fetch(\"./tbbt.nt\")\n    .then((r) => r.text())\n    .then((t) => {\n      parser.parse(\n        t,\n        (error, quad, prefixes) => {\n          if (quad) {\n            console.log(JSON.stringify(quad));\n            dataset.add(quad);\n          }\n          else {\n            console.log(\"# Tjhjhl, folks!\", prefixes);\n            console.log(\"dataset\", dataset);\n            dataset = dataset;\n          }\n        }\n      );\n    });\n\n\n  $: console.log(\"dataset\", dataset);\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n\n  main {\n    padding: 1em;\n    margin: 0 auto;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n\n<main>\n  <h1>RDFJS-Svelte</h1>\n  <p>\n    <a href=\"https://svelte.dev/\">Svelte</a>\n    components to edit\n    <a href=\"http://rdf.js.org/\">RDFSJS</a>\n    objects such as Literals, NamedNodes and Datasets.\n  </p>\n  <p>\n    The sources are available on\n    <a href=\"https://github.com/linked-solutions/rdfjs-svelte\">GitHub</a>\n    .\n  </p>\n  <p>\n    Also check out\n    <a href=\"https://rdfjs-vue.linked.solutions/\">RDFSJS Vue</a>\n    which offers similar functionality for\n    <a href=\"https://vuejs.org/\">Vue</a>\n    instead of Svelte.\n  </p>\n  <p>Try out the Dataset Browser below or any component <a href=\"/components\" use:link>here</a>.</p>\n  <DatasetBrowser\n    bind:value={dataset}\n    subject=\"http://example.org/person/sheldon-cooper\"\n    graph={Factory.defaultGraph()} />\n</main>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import { SimpleLiteralEditor, HtmlEditor, \n      BlankNodeEditor, NamedNodeEditor, \n      ExistingTermEditor, TermEditor,\n      QuadEditor, DatasetEditor, DatasetBrowser } from \"rdfjs-svelte\";\n  import {link} from 'svelte-spa-router'\n\n  let literal = Factory.literal(\n    \"My first literal\",\n    \"http://www.w3.org/2001/XMLSchema#string\"\n  );\n  let htmlLiteral = Factory.literal(\n    \"Hello <strong>world</strong>\",\n    \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\"\n  );\n  //$: console.log(\"htmlLiteral\", htmlLiteral);\n  let blankNode1 = Factory.blankNode();\n  let namedNode1 = Factory.namedNode(\"http://example.org/foo\");\n  let namedNode2 = Factory.namedNode(\"http://example.org/other\");\n  let newValue = null;\n  let newValue2 = null;\n  let quad1 = Factory.quad(Factory.namedNode(\"http://example.org/Alice\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Bob\"), Factory.defaultGraph());\n  //$: console.log(\"quad1\", quad1);\n  window.q1 = quad1;\n  let dataset = Dataset.dataset([Factory.quad(Factory.namedNode(\"http://example.org/Bill\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Berta\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Charlie\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Carl\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Carl\"), \n          Factory.namedNode(\"http://example.org/admires\"), \n          Factory.namedNode(\"http://example.org/Bill\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Berta\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Charlie\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Bill\"), \n          Factory.namedNode(\"http://example.org/loves\"), \n          Factory.namedNode(\"http://example.org/Alice\"), \n          Factory.namedNode(\"http://example.org/BillsSecrets\"))]);\n\n  $: console.log(\"dataset\", dataset);\n</script>\n\n<style>\n  main {\n    padding: 1em;\n    margin: 0 auto;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n\n<main>\n  <a href=\"/\" use:link>&lt;- back to entry page</a>\n  <h1>Demo of RDFJS-Svelte components</h1>\n  <p>\n  This page shows various components, many components are shown twice with the same variable to demonstrate reactivity.\n  </p>\n  <HtmlEditor bind:value={htmlLiteral} />\n  Same: <ExistingTermEditor bind:value={htmlLiteral} />\n  <hr>\n  <SimpleLiteralEditor bind:value={literal} />\n  Same: <ExistingTermEditor bind:value={literal} />\n  <hr>\n  <NamedNodeEditor bind:value={namedNode1} /><br />\n  Same: <ExistingTermEditor bind:value={namedNode1} />\n  <hr>\n  <BlankNodeEditor bind:value={blankNode1} />\n  same: <ExistingTermEditor bind:value={blankNode1} />\n  <hr>\n  <TermEditor bind:value={newValue} />\n  Same: <TermEditor bind:value={newValue} />\n  <hr>\n  Limited types:\n  <TermEditor bind:value={newValue2} termTypes=\"['BlankNode', 'NamedNode', 'DefaultGraph']\" />\n  <hr>\n  Existing resource:\n    <TermEditor bind:value={namedNode2} />\n<hr>\n  <QuadEditor bind:value={quad1} labels />\n  Same: <QuadEditor bind:value={quad1} />\n\n  <h2>Dataset</h2>\n  <DatasetEditor bind:value={dataset} />\n  <h2>Dataset Browser</h2>\n  <DatasetBrowser bind:value={dataset} \n  subject=\"http://example.org/Bill\" graph={Factory.defaultGraph()} />\n</main>\n","import Entry from './Entry.svelte'\nimport Components from './Components.svelte'\n\nconst routes = { \n  \n  '/':Entry,\n  '/index.html':Entry,\n  '/components': Components,\n  '*':Entry\n}\nexport { routes }","<script>\n  import Router from 'svelte-spa-router'\n  import { routes } from './routes'\n\n  document.title = 'RDFJS Svelte'\n</script>\n\n<Router {routes} />","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","select_option","select","i","length","option","__value","selected","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","type","detail","e","createEvent","initCustomEvent","custom_event","slice","call","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","outro_and_destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","set","Math","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","bind","index","props","undefined","bound","create_component","mount_component","on_destroy","new_on_destroy","map","filter","destroy_component","detaching","init","instance","create_fragment","not_equal","parent_component","prop_values","context","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","this","$destroy","indexOf","splice","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","getLocation","hashPosition","window","location","href","substr","qsPosition","querystring","loc","$loc","link","hrefVar","tagName","toLowerCase","updateLink","updated","charAt","routes","prefix","RouteItem","path","_sveltesparouter","RegExp","pattern","keys","str","loose","tmp","ext","arr","split","shift","substring","regexparam","route","conditions","userData","_pattern","_keys","startsWith","matches","exec","out","routesList","componentParams","dispatch","dispatchNextTick","match","checkConditions","BlankNode","id","nextId","DefaultGraph","NamedNode","iri","Literal","language","datatype","stringDatatype","langStringDatatype","Quad","subject","predicate","object","graph","prototype","equals","other","termType","defaultGraphInstance","namedNode","literal","languageOrDatatype","defaultGraph","quad","Variable","DataFactory","blankNode","variable","triple","DatasetCore","quads","size","localQuad","isMatch","constructor","Symbol","iterator","assign","dataset","rdf","RDF","XSD","SWAP","xsd","decimal","boolean","double","integer","string","nil","langString","owl","sameAs","forSome","forAll","log","implies","namespaces","DEFAULTGRAPH","_blankNodeCounter","Term","lastIndexOf","atPos","datatypeString","ch","dtPos","super","toJSON","languageOrDataType","Number","isFinite","isInteger","isNaN","internal","Triple","fromId","factory","endPos","toId","term","fromCharCode","String","escapeSequence","escapeReplacements","\\","'","\"","t","f","_","~",".","-","!","$","&","(",")","*","+",",",";","=","/","?","#","@","%","illegalIriChars","lineModeRegExps","_iri","_unescapedIri","_simpleQuotedString","_langcode","_blank","_newline","_comment","_whitespace","_endOfFile","invalidRegExp","N3Lexer","_simpleApostropheString","_prefix","_prefixed","_variable","_number","_boolean","_keyword","_sparqlKeyword","_shortPredicates","_lineMode","lineMode","_n3Mode","n3","_comments","comments","_literalClosingPos","inputFinished","_input","outputComments","whiteSpaceMatch","comment","line","_line","test","firstChar","matchLength","inconclusive","_previousMarker","_unescape","reportSyntaxError","_parseLiteral","toUpperCase","token","previousToken","self","_syntaxError","item","replace","sequence","unicode4","unicode8","escapedChar","charCode","parseInt","replacement","error","opening","openingLength","closingPos","max","backslashCount","raw","lines","issue","err","tokens","_tokenizeToEnd","setImmediate","_pendingBuffer","setEncoding","on","Buffer","concat","blankNodePrefix","N3Parser","_contextStack","_graph","_setBase","baseIRI","initDataFactory","format","isTurtle","isTriG","isNTriples","isNQuads","isN3","isLineMode","_supportsNamedGraphs","_readPredicateOrNamedGraph","_readPredicate","_supportsQuads","_resolveRelativeIRI","_blankNodePrefix","_lexer","lexer","_explicitQuantifiers","explicitQuantifiers","fragmentPos","_base","_basePath","_baseRoot","_baseScheme","n3Mode","inverse","_inversePredicate","blankPrefix","_prefixes","quantified","_quantified","_subject","_predicate","_object","_error","_callback","_sparqlStyle","_readPrefix","_readBaseIRI","_readSubject","_readNamedGraphLabel","quantifier","_resolveIRI","_namedNode","_blankNode","_saveContext","_readBlankNodeHead","RDF_NIL","_readListItem","_readPunctuation","N3_FORSOME","_quantifier","_readQuantifierList","N3_FORALL","_literalValue","_completeSubjectLiteral","_literal","_readEntity","_getPathReader","ABBREVIATIONS","_readBlankNodeTail","_readObject","_readDataTypeOrLang","_getContextEndReader","_readGraph","_readBlankNodePunctuation","_emit","_restoreContext","_readPredicateAfterBlank","previousList","stack","parent","RDF_FIRST","_readListItemDataTypeOrLang","RDF_REST","_completeObjectLiteral","_completeLiteral","listItem","completed","_readCallback","inversePredicate","_readFormulaTail","_readInTopContext","_readQuadPunctuation","_readPrefixIRI","prefixNode","_prefixCallback","_readDeclarationPunctuation","_readNamedGraphBlankLabel","entity","QUANTIFIERS_GRAPH","_readQuantifierPunctuation","afterPath","_afterPath","_readPath","_readForwardPath","_readBackwardPath","contextStack","_quad","message","_removeDotSegments","pathStart","segmentStart","quadCallback","prefixCallback","tokenize","every","parser",">","EventHandlers","EventEmitter","$getMaxListeners","that","_maxListeners","defaultMaxListeners","emitNone","isFn","len","listeners","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","args","apply","_addListener","listener","prepend","events","existing","TypeError","_events","newListener","emit","_eventsCount","unshift","warned","w","emitter","count","console","warn","_onceWrap","fired","g","removeListener","arguments","listenerCount","evlistener","copy","defaultSetTimout","defaultClearTimeout","N3DataFactory","usingDomains","domain","active","getPrototypeOf","setMaxListeners","getMaxListeners","er","doError","domainEmitter","domainThrown","addListener","prependListener","once","prependOnceListener","position","originalListener","k","spliceOne","removeAllListeners","unwrapListeners","eventNames","Reflect","ownKeys","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","global","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","nextTick","Item","array","ctor","superCtor","super_","enumerable","configurable","TempCtor","formatRegExp","isString","objects","inspect","join","x","JSON","stringify","isNull","isObject","deprecate","msg","isUndefined","process","debugEnviron","debugs","obj","opts","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","isFunction","primitive","simple","arg","formatPrimitive","visibleKeys","hash","val","idx","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","toString","isDate","Date","ar","output","base","braces","toUTCString","hasOwnProperty","formatProperty","formatArray","reduce","prev","cur","reduceToSingleString","desc","getOwnPropertyDescriptor","re","objectToString","origin","prop","bold","italic","underline","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","null","date","regexp","revLookup","Arr","Uint8Array","code","charCodeAt","encodeChunk","uint8","end","num","fromByteArray","extraBytes","parts","len2","read","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","pow","write","rt","floor","LN2","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","__proto__","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","internalIsBuffer","checked","fromObject","assertSize","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64.fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","poolSize","_augment","alloc","allocUnsafeSlow","isBuffer","isFastBuffer","readFloatLE","isSlowBuffer","compare","y","pos","swap16","swap32","swap64","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","b64","placeHolders","L","base64.toByteArray","trim","stringtrim","base64clean","src","dst","BufferList","head","tail","v","entry","isBufferEncoding","StringDecoder","assertEncoding","surrogateSize","detectIncompleteChar","utf16DetectIncompleteChar","base64DetectIncompleteChar","passThroughWrite","charBuffer","charReceived","charLength","charStr","available","cr","enc","Readable","ReadableState","debug","debuglog","stream","objectMode","Duplex","readableObjectMode","hwm","highWaterMark","defaultHwm","pipes","pipesCount","flowing","ended","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","_read","readableAddChunk","state","chunk","addToFront","chunkInvalid","emitReadable","onEofChunk","_e","skipAdd","maybeReadMore_","maybeReadMore","needMoreData","isPaused","howMuchToRead","computeNewHighWaterMark","emitReadable_","flow","nReadingNextTick","resume_","fromList","hasStrings","nb","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nop","WriteReq","cb","WritableState","defineProperty","getBuffer","writableObjectMode","needDrain","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","_writableState","writecb","writelen","onwriteStateUpdate","pendingcb","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","corkedRequestsFree","CorkedRequest","Writable","_write","writev","_writev","doWrite","onwriteDrain","finishMaybe","holder","finish","prefinish","need","_this","nOrig","doRead","pipe","dest","pipeOpts","endFn","onend","onunpipe","ondrain","pipeOnDrain","cleanedUp","onclose","onfinish","onerror","ondata","increasedAwaitDrain","pause","unpipe","resume","dests","_i","ev","wrap","paused","method","_fromList","current","writeAfterEnd","valid","validChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","allowHalfOpen","onEndNT","TransformState","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","Transform","transform","_transform","_flush","done","ws","PassThrough","Stream","EE","source","_isStdio","didOnEnd","content","lang","Factory.literal","module","get_store_value","component_subscribe","set_store_value","destroy_each","iterations","toggle_class","toggle","classList","HtmlTag","html","u","innerHTML","globals","command","execCommand","getTagsRecursive","tags","tag","textAlign","color","backgroundColor","_tag","saveRange","editor","documentSelection","getSelection","range","rangeCount","rangeStart","savedRange","getRangeAt","createRange","selectNodeContents","setEnd","startContainer","startOffset","metaRange","restoreRange","charIndex","nodeStack","foundStart","nodeType","nextCharIndex","setStart","cn","removeAllRanges","addRange","removeBlockTagsRecursive","elements","tagsToRemove","some","wrapper","docFrag","createDocumentFragment","firstChild","child","replaceChild","unwrap","getActionBtns","actions","action","removeBadTags","badTag","isEditorClick","editorWrapper","parentElement","linkSvg","defaultActions","viewHtml","icon","title","refs","references","actionObj","helper","showEditor","display","disabled","actionBtns","undo","redo","strike","sup","h1","h2","blockquote","ol","ul","hr","left","right","center","justify","selection","focusNode","actionBtn","modal","$set","show","label","$on","image","forecolor","colorPicker","showColorPicker","backcolor","removeFormat","removeFormatTags","cmd","create_if_block","span","textContent","div3","div0","t0","div2","div1","span0","t1","t2","form","label_1","t3","span2","span1","t4","t5","t6","button0","t8","button1","dispose","if_block","preventDefault","$$self","$$props","$$invalidate","dispatcher","confirm","cancel","focus","$$value","EditorModal","getElementById","get_each_context","button","t_value","click_handler","new_ctx","create_fragment$1","each_value","each_blocks","instance$1","getBtns","btns","close","selectColor","btn","EditorColorPicker","createStateStore","document_1","get_each_context$1","create_each_block$1","html_tag","button_class_value","button_title_value","button_disabled_value","raw_value","click_handler_1","create_fragment$2","textarea","editormodal","editorcolorpicker","editors","_onPaste","exec$1","clipboardData","getData","cleanHtml","instance$2","$state","$references","$helper","height","foreColor","backColor","foreColorModal","backColorModal","blurActive","contextKey","userActions","newActions","getNewActionObj","getHtml","getText","setHtml","saveRange$1","restoreRange$1","_btnClicked","_handleButtonStatus","clearBtns","_onChange","_documentClick","sanitize","innerText","setContext","editArea","Editor","Factory.blankNode","me","isOpened","properties","initial","attrValue","Function","configure","minChars","maxItems","autoFirst","DATA","FILTER_CONTAINS","sort","SORT_BYLENGTH","container","CONTAINER","ITEM","REPLACE","tabSelect","hidden","role","inside","status","className","aria-live","aria-atomic","evaluate","blur","reason","keydown","evt","keyCode","opened","submit","mousedown","click","li","nodeName","hasAttribute","all","Suggestion","_list","items","el","activeElement","fire","open","goto","unbind","indexOfAwesomplete","previous","lis","scrollTop","offsetTop","clientHeight","suggestions","originalEvent","siblingIndex","suggestion","regExpEscape","FILTER_STARTSWITH","around","item_id","aria-selected","valueOf","expr","con","querySelector","querySelectorAll","ref","initEvent","dispatchEvent","previousElementSibling","Awesomplete","Document","readyState","exports","escape","escapeAll","escapedCharacters","\t","\n","\r","\b","\f","SerializedTerm","N3Writer","outputStream","_prefixRegex","_lists","lists","_outputStream","_endStream","_writeQuad","_writeQuadLine","_prefixIRIs","prefixes","addPrefixes","_inDefaultGraph","_encodeIriOrBlank","_encodeObject","_encodePredicate","_prefixMatch","quadToString","characterReplacer","prefixMatch","_encodeLiteral","addQuad","prefixIRIs","hasPrefixes","IRIlist","prefixList","prefixIRI","contents","_blockedWrite","singleDone","character","isDefaultGraph","defaultPrefixes","processPrefix","cache","_size","_graphs","_id","_ids","_entities","_blankNodeIndex","_factory","addQuads","subjects","graphs","graphKey","subjectKey","predicateKey","index0","key0","key1","key2","index1","index2","existed","name0","name1","name2","entityKeys","value0","entity0","value1","entity1","uniqueIds","entities","graphItem","predicates","freeze","ids","changed","_addToIndex","_removeFromIndex","removeQuad","remove","removeMatches","subjectId","predicateId","objectId","_getGraphs","graphId","_findInIndex","getQuads","_countInIndex","results","forSubjects","_uniqueEntities","_loopBy2Keys","_loopByKey1","_loopByKey0","_loop","forPredicates","forObjects","forGraphs","suggestedName","ignoreErrors","onError","tails","toRemove","tailQuad","headPos","malformed","objectQuads","subjectQuads","removeQuads","onData","onEnd","parse","uri","writer","_writer","addPrefix","getGlobal","fetch","Headers","Request","Response","_typeof","N3","__esModule","default","_getRequireWildcardCache","newObj","hasPropertyDescriptor","_interopRequireWildcard","require$$0","_nodeFetch","require$$1","WeakMap","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","Constructor","_defineProperties","descriptor","SparqlEndpoint","logQueries","_uri","_logQueries","protoProps","staticProps","query","fetchOptions","encodedQuery","encodeURIComponent","headers","accept","response","ok","json","Parser","_awesomplete","_interopRequireDefault","_sparqlClient","Prefixplete","sparqlEndpoint","prefixGraphPrefix","getSparqlResultSet","_sparqlEndpoint","_prefixMappings","previousValue","prefixSuggestions","fullSuggestions","awesomplete","getFullUri","prefixedUri","splitup","mapping","find","getPrefixedUri","fullUri","_getPrefixedUri","populateSuggestions","getPrefixUrlSuggestions","getFullSuggestions","url","bindings","binding","_this2","setValue","inputElement","prefixplete","Factory.namedNode","types","http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML","http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","getType","termTypes","availableOptions","label with language","IRI","Blank Node","fromEntries","entries","previousValues","compType","selected_option","labels","elementChanged","Factory.quad","valueChanged","DatasetManager","changeListener","previousHolders","q","sorted","field","fr","finally","orderQuads","addingQuad","newQuad","dm","ds","orderedQuads","width","resource","fixedSubject","fixedObject","fixedGraph","setElements","subjectFilter","objectFilter","graphFilter","getOrderedQuads","Factory.defaultGraph","Dataset","N3.Parser","htmlLiteral","blankNode1","namedNode1","namedNode2","newValue","newValue2","quad1","q1","Entry","/index.html","/components","body"],"mappings":"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"}