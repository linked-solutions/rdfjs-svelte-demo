{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-router-spa/src/store.js","../../node_modules/url-params-parser/index.js","../../node_modules/url-params-parser/url_parser.js","../../node_modules/svelte-router-spa/src/lib/utils.js","../../node_modules/svelte-router-spa/src/router/current.js","../../node_modules/svelte-router-spa/src/router/guard.js","../../node_modules/svelte-router-spa/src/router/redirect.js","../../node_modules/svelte-router-spa/src/router/route.js","../../node_modules/svelte-router-spa/src/router/path.js","../../node_modules/svelte-router-spa/src/router/finder.js","../../node_modules/svelte-router-spa/src/spa_router.js","../../node_modules/svelte-router-spa/src/components/route.svelte","../../node_modules/svelte-router-spa/src/components/router.svelte","../../node_modules/svelte-router-spa/src/components/navigate.svelte","../../node_modules/svelte-router-spa/src/index.js","../../node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/variable.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/@rdfjs/dataset/isMatch.js","../../node_modules/@rdfjs/dataset/DatasetCore.js","../../node_modules/@rdfjs/dataset/index.js","../../node_modules/n3/src/IRIs.js","../../node_modules/n3/src/N3DataFactory.js","../../node_modules/n3/src/N3Lexer.js","../../node_modules/n3/src/N3Parser.js","../../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../../node_modules/process-es6/browser.js","../../node_modules/rollup-plugin-node-builtins/src/es6/inherits.js","../../node_modules/rollup-plugin-node-builtins/src/es6/util.js","../../node_modules/buffer-es6/base64.js","../../node_modules/buffer-es6/ieee754.js","../../node_modules/buffer-es6/isArray.js","../../node_modules/buffer-es6/index.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/buffer-list.js","../../node_modules/rollup-plugin-node-builtins/src/es6/string-decoder.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/readable.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/writable.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/duplex.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/transform.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/passthrough.js","../../node_modules/rollup-plugin-node-builtins/src/es6/stream.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/rdfjs-svelte/src/valueEditors/SimpleLiteralEditor.svelte","../../node_modules/rdfjs-svelte/node_modules/cl-editor/dist/index.js","../../node_modules/rdfjs-svelte/src/valueEditors/HtmlEditor.svelte","../../node_modules/rdfjs-svelte/src/valueEditors/BlankNodeEditor.svelte","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/awesomplete/awesomplete.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/IRIs.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3DataFactory.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Lexer.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Parser.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Writer.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Store.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3Util.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3StreamParser.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/n3/src/N3StreamWriter.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/node_modules/node-fetch/browser.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/node_modules/@retog/sparql-client/lib/SparqlEndpoint.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/lib/prefixplete.js","../../node_modules/rdfjs-svelte/src/valueEditors/NamedNodeEditor.svelte","../../node_modules/rdfjs-svelte/src/ExistingTermEditor.svelte","../../node_modules/rdfjs-svelte/src/TermEditor.svelte","../../node_modules/rdfjs-svelte/src/QuadEditor.svelte","../../node_modules/rdfjs-svelte/src/DatasetUtils.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/variable.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/isMatch.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/DatasetCore.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/index.js","../../node_modules/rdfjs-svelte/src/DatasetEditor.svelte","../../node_modules/rdfjs-svelte/src/images/SubjExpand.svelte","../../node_modules/rdfjs-svelte/src/images/ObjExpand.svelte","../../node_modules/rdfjs-svelte/src/ResourceNavigator.svelte","../../node_modules/rdfjs-svelte/src/BrowserRow.svelte","../../node_modules/rdfjs-svelte/src/DatasetBrowser.svelte","../../src/Entry.svelte","../../src/Components.svelte","../../src/routes.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    let unsubscribe;\n    if (is_crossorigin()) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        detach(iframe);\n        if (unsubscribe)\n            unsubscribe();\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next, lookup.has(block.key));\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.22.3' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","const writable = require('svelte/store').writable\n\nconst router = writable({})\n\nfunction set(route) {\n  router.set(route)\n}\n\nfunction remove() {\n  router.set({})\n}\n\nconst activeRoute = {\n  subscribe: router.subscribe,\n  set,\n  remove\n}\n\nmodule.exports = { activeRoute }\n","const UrlParser = require(\"./url_parser\").UrlParser;\n\nmodule.exports = {\n  UrlParser\n};\n","const UrlParser = (urlString, namedUrl = \"\") => {\n  const urlBase = new URL(urlString);\n\n  /**\n   * Wrapper for URL.host\n   *\n   **/\n  function host() {\n    return urlBase.host;\n  }\n\n  /**\n   * Wrapper for URL.hostname\n   *\n   **/\n  function hostname() {\n    return urlBase.hostname;\n  }\n\n  /**\n   * Returns an object with all the named params and their values\n   *\n   **/\n  function namedParams() {\n    const allPathName = pathNames();\n    const allNamedParamsKeys = namedParamsWithIndex();\n\n    return allNamedParamsKeys.reduce((values, paramKey) => {\n      values[paramKey.value] = allPathName[paramKey.index];\n      return values;\n    }, {});\n  }\n\n  /**\n   * Returns an array with all the named param keys\n   *\n   **/\n  function namedParamsKeys() {\n    const allNamedParamsKeys = namedParamsWithIndex(namedUrl);\n\n    return allNamedParamsKeys.reduce((values, paramKey) => {\n      values.push(paramKey.value);\n      return values;\n    }, []);\n  }\n\n  /**\n   * Returns an array with all the named param values\n   *\n   **/\n  function namedParamsValues() {\n    const allPathName = pathNames();\n    const allNamedParamsKeys = namedParamsWithIndex();\n\n    return allNamedParamsKeys.reduce((values, paramKey) => {\n      values.push(allPathName[paramKey.index]);\n      return values;\n    }, []);\n  }\n\n  /**\n   * Returns an array with all named param ids and their position in the path\n   * Private\n   **/\n  function namedParamsWithIndex() {\n    const namedUrlParams = getPathNames(namedUrl);\n\n    return namedUrlParams.reduce((validParams, param, index) => {\n      if (param[0] === \":\") {\n        validParams.push({ value: param.slice(1), index });\n      }\n      return validParams;\n    }, []);\n  }\n\n  /**\n   * Wrapper for URL.port\n   *\n   **/\n  function port() {\n    return urlBase.port;\n  }\n\n  /**\n   * Wrapper for URL.pathname\n   *\n   **/\n  function pathname() {\n    return urlBase.pathname;\n  }\n\n  /**\n   * Wrapper for URL.protocol\n   *\n   **/\n  function protocol() {\n    return urlBase.protocol;\n  }\n\n  /**\n   * Wrapper for URL.search\n   *\n   **/\n  function search() {\n    return urlBase.search;\n  }\n\n  /**\n   * Returns an object with all query params and their values\n   *\n   **/\n  function queryParams() {\n    const params = {};\n    urlBase.searchParams.forEach((value, key) => {\n      params[key] = value;\n    });\n\n    return params;\n  }\n\n  /**\n   * Returns an array with all the query param keys\n   *\n   **/\n  function queryParamsKeys() {\n    const params = [];\n    urlBase.searchParams.forEach((_value, key) => {\n      params.push(key);\n    });\n\n    return params;\n  }\n\n  /**\n   * Returns an array with all the query param values\n   *\n   **/\n  function queryParamsValues() {\n    const params = [];\n    urlBase.searchParams.forEach(value => {\n      params.push(value);\n    });\n\n    return params;\n  }\n\n  /**\n   * Returns an array with all the elements of a pathname\n   *\n   **/\n  function pathNames() {\n    return getPathNames(urlBase.pathname);\n  }\n\n  /**\n   * Returns an array with all the parts of a pathname\n   * Private method\n   **/\n  function getPathNames(pathName) {\n    if (pathName === \"/\" || pathName.trim().length === 0) return [pathName];\n    if (pathName.slice(-1) === \"/\") {\n      pathName = pathName.slice(0, -1);\n    }\n    if (pathName[0] === \"/\") {\n      pathName = pathName.slice(1);\n    }\n\n    return pathName.split(\"/\");\n  }\n\n  return Object.freeze({\n    host: host(),\n    hostname: hostname(),\n    namedParams: namedParams(),\n    namedParamsKeys: namedParamsKeys(),\n    namedParamsValues: namedParamsValues(),\n    pathNames: pathNames(),\n    port: port(),\n    pathname: pathname(),\n    protocol: protocol(),\n    search: search(),\n    queryParams: queryParams(),\n    queryParamsKeys: queryParamsKeys(),\n    queryParamsValues: queryParamsValues()\n  });\n};\n\nmodule.exports = { UrlParser };\n","/**\n * Returns true if object has any nested routes empty\n * @param routeObject\n **/\nfunction anyEmptyNestedRoutes(routeObject) {\n  let result = false\n  if (Object.keys(routeObject).length === 0) {\n    return true\n  }\n\n  if (routeObject.childRoute && Object.keys(routeObject.childRoute).length === 0) {\n    result = true\n  } else if (routeObject.childRoute) {\n    result = anyEmptyNestedRoutes(routeObject.childRoute)\n  }\n\n  return result\n}\n\n/**\n * Compare two routes ignoring named params\n * @param pathName string\n * @param routeName string\n **/\n\nfunction compareRoutes(pathName, routeName) {\n  routeName = removeSlash(routeName)\n\n  if (routeName.includes(':')) {\n    return routeName.includes(pathName)\n  } else {\n    return routeName.startsWith(pathName)\n  }\n}\n\n/**\n * Returns a boolean indicating if the name of path exists in the route based on the language parameter\n * @param pathName string\n * @param route object\n * @param language string\n **/\n\nfunction findLocalisedRoute(pathName, route, language) {\n  let exists = false\n\n  if (language) {\n    return { exists: route.lang && route.lang[language] && route.lang[language].includes(pathName), language }\n  }\n\n  exists = compareRoutes(pathName, route.name)\n\n  if (!exists && route.lang && typeof route.lang === 'object') {\n    for (const [key, value] of Object.entries(route.lang)) {\n      if (compareRoutes(pathName, value)) {\n        exists = true\n        language = key\n      }\n    }\n  }\n\n  return { exists, language }\n}\n\n/**\n * Return all the consecutive named param (placeholders) of a pathname\n * @param pathname\n **/\nfunction getNamedParams(pathName = '') {\n  if (pathName.trim().length === 0) return []\n  const namedUrlParams = getPathNames(pathName)\n  return namedUrlParams.reduce((validParams, param) => {\n    if (param[0] === ':') {\n      validParams.push(param.slice(1))\n    }\n\n    return validParams\n  }, [])\n}\n\n/**\n * Split a pathname based on /\n * @param pathName\n * Private method\n **/\nfunction getPathNames(pathName) {\n  if (pathName === '/' || pathName.trim().length === 0) return [pathName]\n\n  pathName = removeSlash(pathName, 'both')\n\n  return pathName.split('/')\n}\n\n/**\n * Return the first part of a pathname until the first named param is found\n * @param name\n **/\nfunction nameToPath(name = '') {\n  let routeName\n  if (name === '/' || name.trim().length === 0) return name\n  name = removeSlash(name, 'lead')\n  routeName = name.split(':')[0]\n  routeName = removeSlash(routeName, 'trail')\n\n  return routeName.toLowerCase()\n}\n\n/**\n * Return the path name excluding query params\n * @param name\n **/\nfunction pathWithoutQueryParams(currentRoute) {\n  const path = currentRoute.path.split('?')\n  return path[0]\n}\n\n/**\n * Return the path name including query params\n * @param name\n **/\nfunction pathWithQueryParams(currentRoute) {\n  let queryParams = []\n  if (currentRoute.queryParams) {\n    for (let [key, value] of Object.entries(currentRoute.queryParams)) {\n      queryParams.push(`${key}=${value}`)\n    }\n  }\n\n  if (queryParams.length > 0) {\n    return `${currentRoute.path}?${queryParams.join('&')}`\n  } else {\n    return currentRoute.path\n  }\n}\n\n/**\n * Returns a string with trailing or leading slash character removed\n * @param pathName string\n * @param position string - lead, trail, both\n **/\nfunction removeExtraPaths(pathNames, basePathNames) {\n  const names = basePathNames.split('/')\n  if (names.length > 1) {\n    names.forEach(function(name, index) {\n      if (name.length > 0 && index > 0) {\n        pathNames.shift()\n      }\n    })\n  }\n\n  return pathNames\n}\n\n/**\n * Returns a string with trailing or leading slash character removed\n * @param pathName string\n * @param position string - lead, trail, both\n **/\n\nfunction removeSlash(pathName, position = 'lead') {\n  if (pathName.trim().length < 1) {\n    return ''\n  }\n\n  if (position === 'trail' || position === 'both') {\n    if (pathName.slice(-1) === '/') {\n      pathName = pathName.slice(0, -1)\n    }\n  }\n\n  if (position === 'lead' || position === 'both') {\n    if (pathName[0] === '/') {\n      pathName = pathName.slice(1)\n    }\n  }\n\n  return pathName\n}\n\n/**\n * Returns the name of the route based on the language parameter\n * @param route object\n * @param language string\n **/\n\nfunction routeNameLocalised(route, language = null) {\n  if (!language || !route.lang || !route.lang[language]) {\n    return route.name\n  } else {\n    return route.lang[language]\n  }\n}\n\n/**\n * Updates the base route path.\n * Route objects can have nested routes (childRoutes) or just a long name like \"admin/employees/show/:id\"\n *\n * @param basePath string\n * @param pathNames array\n * @param route object\n * @param language string\n **/\n\nfunction updateRoutePath(basePath, pathNames, route, language, convert = false) {\n  if (basePath === '/' || basePath.trim().length === 0) return { result: basePath, language: null }\n\n  let basePathResult = basePath\n  let routeName = route.name\n  let currentLanguage = language\n\n  if (convert) {\n    currentLanguage = ''\n  }\n\n  routeName = removeSlash(routeName)\n  basePathResult = removeSlash(basePathResult)\n\n  if (!route.childRoute) {\n    let localisedRoute = findLocalisedRoute(basePathResult, route, currentLanguage)\n\n    if (localisedRoute.exists && convert) {\n      basePathResult = routeNameLocalised(route, language)\n    }\n\n    let routeNames = routeName.split(':')[0]\n    routeNames = removeSlash(routeNames, 'trail')\n    routeNames = routeNames.split('/')\n    routeNames.shift()\n    routeNames.forEach(() => {\n      const currentPathName = pathNames[0]\n      localisedRoute = findLocalisedRoute(`${basePathResult}/${currentPathName}`, route, currentLanguage)\n\n      if (currentPathName && localisedRoute.exists) {\n        if (convert) {\n          basePathResult = routeNameLocalised(route, language)\n        } else {\n          basePathResult = `${basePathResult}/${currentPathName}`\n        }\n        pathNames.shift()\n      } else {\n        return { result: basePathResult, language: localisedRoute.language }\n      }\n    })\n    return { result: basePathResult, language: localisedRoute.language }\n  } else {\n    return { result: basePath, language: currentLanguage }\n  }\n}\n\nmodule.exports = {\n  anyEmptyNestedRoutes,\n  compareRoutes,\n  findLocalisedRoute,\n  getNamedParams,\n  getPathNames,\n  nameToPath,\n  pathWithQueryParams,\n  pathWithoutQueryParams,\n  removeExtraPaths,\n  removeSlash,\n  routeNameLocalised,\n  updateRoutePath\n}\n","const { UrlParser } = require('url-params-parser')\n\nconst { pathWithQueryParams, removeSlash } = require('../lib/utils')\n\nfunction RouterCurrent(trackPage) {\n  const trackPageview = trackPage || false\n  let activeRoute = ''\n\n  function setActive(newRoute) {\n    activeRoute = newRoute.path\n    pushActiveRoute(newRoute)\n  }\n\n  function active() {\n    return activeRoute\n  }\n\n  /**\n   * Returns true if pathName is current active route\n   * @param pathName String The path name to check against the current route.\n   * @param includePath Boolean if true checks that pathName is included in current route. If false should match it.\n   **/\n  function isActive(queryPath, includePath = false) {\n    if (queryPath[0] !== '/') {\n      queryPath = '/' + queryPath\n    }\n\n    // remove query params for comparison\n    let pathName = UrlParser(`http://fake.com${queryPath}`).pathname\n    let activeRoutePath = UrlParser(`http://fake.com${activeRoute}`).pathname\n\n    pathName = removeSlash(pathName, 'trail')\n\n    activeRoutePath = removeSlash(activeRoutePath, 'trail')\n\n    if (includePath) {\n      return activeRoutePath.includes(pathName)\n    } else {\n      return activeRoutePath === pathName\n    }\n  }\n\n  function pushActiveRoute(newRoute) {\n    if (typeof window !== 'undefined') {\n      const pathAndSearch = pathWithQueryParams(newRoute)\n      //if (window.history && window.history.state && window.history.state.page !== pathAndSearch) {\n      window.history.pushState({ page: pathAndSearch }, '', pathAndSearch)\n      if (trackPageview) {\n        gaTracking(pathAndSearch)\n      }\n    }\n  }\n\n  function gaTracking(newPage) {\n    if (typeof ga !== 'undefined') {\n      ga('set', 'page', newPage)\n      ga('send', 'pageview')\n    }\n  }\n\n  return Object.freeze({ active, isActive, setActive })\n}\n\nmodule.exports = { RouterCurrent }\n","function RouterGuard(onlyIf) {\n  const guardInfo = onlyIf\n\n  function valid() {\n    return guardInfo && guardInfo.guard && typeof guardInfo.guard === 'function'\n  }\n\n  function redirect() {\n    return !guardInfo.guard()\n  }\n\n  function redirectPath() {\n    let destinationUrl = '/'\n    if (guardInfo.redirect && guardInfo.redirect.length > 0) {\n      destinationUrl = guardInfo.redirect\n    }\n\n    return destinationUrl\n  }\n\n  return Object.freeze({ valid, redirect, redirectPath })\n}\n\nmodule.exports = { RouterGuard }\n","const { RouterGuard } = require('./guard')\n\nfunction RouterRedirect(route, currentPath) {\n  const guard = RouterGuard(route.onlyIf)\n\n  function path() {\n    let redirectTo = currentPath\n    if (route.redirectTo && route.redirectTo.length > 0) {\n      redirectTo = route.redirectTo\n    }\n\n    if (guard.valid() && guard.redirect()) {\n      redirectTo = guard.redirectPath()\n    }\n\n    return redirectTo\n  }\n\n  return Object.freeze({ path })\n}\n\nmodule.exports = { RouterRedirect }\n","const { UrlParser } = require('url-params-parser')\n\nfunction RouterRoute({ routeInfo, path, routeNamedParams, urlParser, namedPath, language }) {\n  function namedParams() {\n    const parsedParams = UrlParser(`https://fake.com${urlParser.pathname}`, namedPath).namedParams\n\n    return { ...routeNamedParams, ...parsedParams }\n  }\n\n  function get() {\n    return {\n      name: path,\n      component: routeInfo.component,\n      layout: routeInfo.layout,\n      queryParams: urlParser.queryParams,\n      namedParams: namedParams(),\n      path,\n      language\n    }\n  }\n\n  return Object.freeze({ get, namedParams })\n}\n\nmodule.exports = { RouterRoute }\n","const { updateRoutePath, getNamedParams, nameToPath, removeExtraPaths, routeNameLocalised } = require('../lib/utils')\n\nfunction RouterPath({ basePath, basePathName, pathNames, convert, currentLanguage }) {\n  let updatedPathRoute\n  let route\n  let routePathLanguage = currentLanguage\n\n  function updatedPath(currentRoute) {\n    route = currentRoute\n    updatedPathRoute = updateRoutePath(basePathName, pathNames, route, routePathLanguage, convert)\n    routePathLanguage = convert ? currentLanguage : updatedPathRoute.language\n\n    return updatedPathRoute\n  }\n\n  function localisedPathName() {\n    return routeNameLocalised(route, routePathLanguage)\n  }\n\n  function localisedRouteWithoutNamedParams() {\n    return nameToPath(localisedPathName())\n  }\n\n  function basePathNameWithoutNamedParams() {\n    return nameToPath(updatedPathRoute.result)\n  }\n\n  function namedPath() {\n    const localisedPath = localisedPathName()\n\n    return basePath ? `${basePath}/${localisedPath}` : localisedPath\n  }\n\n  function routePath() {\n    let routePathValue = `${basePath}/${basePathNameWithoutNamedParams()}`\n    if (routePathValue === '//') {\n      routePathValue = '/'\n    }\n\n    if (routePathLanguage) {\n      pathNames = removeExtraPaths(pathNames, localisedRouteWithoutNamedParams())\n    }\n\n    const namedParams = getNamedParams(localisedPathName())\n    if (namedParams && namedParams.length > 0) {\n      namedParams.forEach(function() {\n        if (pathNames.length > 0) {\n          routePathValue += `/${pathNames.shift()}`\n        }\n      })\n    }\n\n    return routePathValue\n  }\n\n  function routeLanguage() {\n    return routePathLanguage\n  }\n\n  function basePathSameAsLocalised() {\n    return basePathNameWithoutNamedParams() === localisedRouteWithoutNamedParams()\n  }\n\n  return Object.freeze({\n    basePathSameAsLocalised,\n    updatedPath,\n    basePathNameWithoutNamedParams,\n    localisedPathName,\n    localisedRouteWithoutNamedParams,\n    namedPath,\n    pathNames,\n    routeLanguage,\n    routePath\n  })\n}\n\nmodule.exports = { RouterPath }\n","const { UrlParser } = require('url-params-parser')\n\nconst { RouterRedirect } = require('./redirect')\nconst { RouterRoute } = require('./route')\nconst { RouterPath } = require('./path')\nconst { anyEmptyNestedRoutes, pathWithoutQueryParams } = require('../lib/utils')\n\nconst NotFoundPage = '/404.html'\n\nfunction RouterFinder({ routes, currentUrl, routerOptions, convert }) {\n  const defaultLanguage = routerOptions.defaultLanguage\n  const urlParser = UrlParser(currentUrl)\n  let redirectTo = ''\n  let routeNamedParams = {}\n\n  function findActiveRoute() {\n    let searchActiveRoute = searchActiveRoutes(routes, '', urlParser.pathNames, routerOptions.lang, convert)\n\n    if (!searchActiveRoute || !Object.keys(searchActiveRoute).length || anyEmptyNestedRoutes(searchActiveRoute)) {\n      if (typeof window !== 'undefined') {\n        searchActiveRoute = routeNotFound(routerOptions.lang)\n      }\n    } else {\n      searchActiveRoute.path = pathWithoutQueryParams(searchActiveRoute)\n    }\n\n    return searchActiveRoute\n  }\n\n  /**\n   * Gets an array of routes and the browser pathname and return the active route\n   * @param routes\n   * @param basePath\n   * @param pathNames\n   **/\n  function searchActiveRoutes(routes, basePath, pathNames, currentLanguage, convert) {\n    let currentRoute = {}\n    let basePathName = pathNames.shift().toLowerCase()\n    const routerPath = RouterPath({ basePath, basePathName, pathNames, convert, currentLanguage })\n\n    routes.forEach(function (route) {\n      routerPath.updatedPath(route)\n      if (routerPath.basePathSameAsLocalised()) {\n        let routePath = routerPath.routePath()\n\n        redirectTo = RouterRedirect(route, redirectTo).path()\n\n        if (currentRoute.name !== routePath) {\n          currentRoute = setCurrentRoute({\n            route,\n            routePath,\n            routeLanguage: routerPath.routeLanguage(),\n            urlParser,\n            namedPath: routerPath.namedPath(),\n          })\n        }\n\n        if (route.nestedRoutes && route.nestedRoutes.length > 0 && routerPath.pathNames.length > 0) {\n          currentRoute.childRoute = searchActiveRoutes(\n            route.nestedRoutes,\n            routePath,\n            routerPath.pathNames,\n            routerPath.routeLanguage(),\n            convert\n          )\n          currentRoute.path = currentRoute.childRoute.path\n          currentRoute.language = currentRoute.childRoute.language\n        } else if (nestedRoutesAndNoPath(route, routerPath.pathNames)) {\n          const indexRoute = searchActiveRoutes(\n            route.nestedRoutes,\n            routePath,\n            ['index'],\n            routerPath.routeLanguage(),\n            convert\n          )\n          if (indexRoute && Object.keys(indexRoute).length > 0) {\n            currentRoute.childRoute = indexRoute\n            currentRoute.language = currentRoute.childRoute.language\n          }\n        }\n      }\n    })\n\n    if (redirectTo) {\n      currentRoute.redirectTo = redirectTo\n    }\n\n    return currentRoute\n  }\n\n  function nestedRoutesAndNoPath(route, pathNames) {\n    return route.nestedRoutes && route.nestedRoutes.length > 0 && pathNames.length === 0\n  }\n\n  function setCurrentRoute({ route, routePath, routeLanguage, urlParser, namedPath }) {\n    const routerRoute = RouterRoute({\n      routeInfo: route,\n      urlParser,\n      path: routePath,\n      routeNamedParams,\n      namedPath,\n      language: routeLanguage || defaultLanguage,\n    })\n    routeNamedParams = routerRoute.namedParams()\n\n    return routerRoute.get()\n  }\n\n  function routeNotFound(customLanguage) {\n    const custom404Page = routes.find((route) => route.name == '404')\n    const language = customLanguage || defaultLanguage || ''\n    if (custom404Page) {\n      return { ...custom404Page, language, path: '404' }\n    } else {\n      return { name: '404', component: '', path: '404', redirectTo: NotFoundPage }\n    }\n  }\n\n  return Object.freeze({ findActiveRoute })\n}\n\nmodule.exports = { RouterFinder }\n","const { activeRoute } = require('./store')\nconst { RouterCurrent } = require('./router/current')\nconst { RouterFinder } = require('./router/finder')\nconst { removeSlash } = require('./lib/utils')\n\nconst NotFoundPage = '/404.html'\n\nlet userDefinedRoutes = []\nlet routerOptions = {}\nlet routerCurrent\n\n/**\n * Object exposes one single property: activeRoute\n * @param routes  Array of routes\n * @param currentUrl current url\n * @param options configuration options\n **/\nfunction SpaRouter(routes, currentUrl, options = {}) {\n  routerOptions = { ...options }\n  if (typeof currentUrl === 'undefined' || currentUrl === '') {\n    currentUrl = document.location.href\n  }\n\n  routerCurrent = RouterCurrent(routerOptions.gaPageviews)\n\n  currentUrl = removeSlash(currentUrl, 'trail')\n  userDefinedRoutes = routes\n\n  function findActiveRoute() {\n    let convert = false\n\n    if (routerOptions.langConvertTo) {\n      routerOptions.lang = routerOptions.langConvertTo\n      convert = true\n    }\n\n    return RouterFinder({ routes, currentUrl, routerOptions, convert }).findActiveRoute()\n  }\n\n  /**\n   * Redirect current route to another\n   * @param destinationUrl\n   **/\n  function navigateNow(destinationUrl) {\n    if (typeof window !== 'undefined') {\n      if (destinationUrl === NotFoundPage) {\n        routerCurrent.setActive({ path: NotFoundPage })\n      } else {\n        navigateTo(destinationUrl)\n      }\n    }\n\n    return destinationUrl\n  }\n\n  function setActiveRoute() {\n    const currentRoute = findActiveRoute()\n    if (currentRoute.redirectTo) {\n      return navigateNow(currentRoute.redirectTo)\n    }\n\n    routerCurrent.setActive(currentRoute)\n    activeRoute.set(currentRoute)\n\n    return currentRoute\n  }\n\n  return Object.freeze({\n    setActiveRoute,\n    findActiveRoute\n  })\n}\n\n/**\n * Converts a route to its localised version\n * @param pathName\n **/\nfunction localisedRoute(pathName, language) {\n  pathName = removeSlash(pathName, 'lead')\n  routerOptions.langConvertTo = language\n\n  return SpaRouter(userDefinedRoutes, 'http://fake.com/' + pathName, routerOptions).findActiveRoute()\n}\n\n/**\n * Updates the current active route and updates the browser pathname\n * @param pathName String\n * @param language String\n **/\nfunction navigateTo(pathName, language = null) {\n  pathName = removeSlash(pathName, 'lead')\n\n  if (language) {\n    routerOptions.langConvertTo = language\n  }\n\n  return SpaRouter(userDefinedRoutes, 'http://fake.com/' + pathName, routerOptions).setActiveRoute()\n}\n\n/**\n * Returns true if pathName is current active route\n * @param pathName String The path name to check against the current route.\n * @param includePath Boolean if true checks that pathName is included in current route. If false should match it.\n **/\nfunction routeIsActive(queryPath, includePath = false) {\n  return routerCurrent.isActive(queryPath, includePath)\n}\n\nif (typeof window !== 'undefined') {\n  // Avoid full page reload on local routes\n  window.addEventListener('click', event => {\n    if (event.target.pathname && event.target.hostname === window.location.hostname && event.target.localName === 'a') {\n      event.preventDefault()\n      // event.stopPropagation()\n      navigateTo(event.target.pathname + event.target.search)\n    }\n  })\n\n  window.onpopstate = function(_event) {\n    navigateTo(window.location.pathname + window.location.search)\n  }\n}\n\nmodule.exports = { SpaRouter, localisedRoute, navigateTo, routeIsActive }\n","<script>\n  export let currentRoute = {}\n  export let params = {}\n</script>\n\n{#if currentRoute.layout}\n  <svelte:component this={currentRoute.layout} currentRoute={{ ...currentRoute, layout: '' }} {params} />\n{:else if currentRoute.component}\n  <svelte:component this={currentRoute.component} currentRoute={{ ...currentRoute, component: '' }} {params} />\n{:else if currentRoute.childRoute}\n  <svelte:self currentRoute={currentRoute.childRoute} {params} />\n{/if}\n","<script>\n  import { onMount } from 'svelte'\n\n  import { SpaRouter } from '../spa_router'\n  import Route from './route.svelte'\n  import { activeRoute } from '../store'\n\n  export let routes = []\n  export let options = {}\n\n  onMount(function() {\n    SpaRouter(routes, document.location.href, options).setActiveRoute()\n  })\n</script>\n\n<Route currentRoute={$activeRoute} />\n","<script>\n  import { onMount } from 'svelte'\n  import { localisedRoute, navigateTo, routeIsActive } from '../spa_router'\n  export let to = '/'\n  export let title = ''\n  export let styles = ''\n  export let lang = null\n\n  onMount(function() {\n    if (lang) {\n      const route = localisedRoute(to, lang)\n      if (route) {\n        to = route.path\n      }\n    }\n  })\n\n  function navigate(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    navigateTo(to)\n  }\n</script>\n\n<a href={to} {title} on:click={navigate} class={styles} class:active={routeIsActive(to)}>\n  <slot />\n</a>\n","const { SpaRouter, navigateTo, localisedRoute, routeIsActive } = require('./spa_router')\nconst Route = require('./components/route.svelte')\nconst Router = require('./components/router.svelte')\nconst Navigate = require('./components/navigate.svelte')\n\nmodule.exports = {\n  SpaRouter,\n  localisedRoute,\n  navigateTo,\n  routeIsActive,\n  Route,\n  Router,\n  Navigate\n}\n","export function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n","export function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n","export function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n","import { NamedNode } from './named-node'\n\nexport function Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n","import { DefaultGraph } from './default-graph'\n\nexport function Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n","import { BlankNode } from './blank-node'\nimport { DefaultGraph } from './default-graph'\nimport { Literal } from './literal'\nimport { NamedNode } from './named-node'\nimport { Quad } from './quad'\nimport { Variable } from './variable'\n\nexport const defaultGraphInstance = new DefaultGraph()\n\nexport function namedNode (value) {\n  return new NamedNode(value)\n}\n\nexport function blankNode (value) {\n  return new BlankNode(value)\n}\n\nexport function literal (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nexport function defaultGraph () {\n  return defaultGraphInstance\n}\n\nexport function variable (value) {\n  return new Variable(value)\n}\n\nexport function quad (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || defaultGraphInstance)\n}\n\nexport function triple (subject, predicate, object) {\n  return quad(subject, predicate, object)\n}\n","function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n\nmodule.exports = BlankNode\n","function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n\nmodule.exports = DefaultGraph\n","function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n\nmodule.exports = NamedNode\n","var NamedNode = require('./named-node')\n\nfunction Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n\nmodule.exports = Literal\n","var DefaultGraph = require('./default-graph')\n\nfunction Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n\nmodule.exports = Quad\n","function Variable (name) {\n  this.value = name\n}\n\nVariable.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nVariable.prototype.termType = 'Variable'\n\nmodule.exports = Variable\n","var BlankNode = require('./blank-node')\nvar DefaultGraph = require('./default-graph')\nvar Literal = require('./literal')\nvar NamedNode = require('./named-node')\nvar Quad = require('./quad')\nvar Variable = require('./variable')\n\nfunction DataFactory () {}\n\nDataFactory.namedNode = function (value) {\n  return new NamedNode(value)\n}\n\nDataFactory.blankNode = function (value) {\n  return new BlankNode(value)\n}\n\nDataFactory.literal = function (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, DataFactory.namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nDataFactory.defaultGraph = function () {\n  return DataFactory.defaultGraphInstance\n}\n\nDataFactory.variable = function (value) {\n  return new Variable(value)\n}\n\nDataFactory.triple = function (subject, predicate, object) {\n  return DataFactory.quad(subject, predicate, object)\n}\n\nDataFactory.quad = function (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || DataFactory.defaultGraphInstance)\n}\n\nDataFactory.defaultGraphInstance = new DefaultGraph()\n\nmodule.exports = DataFactory\n","function isMatch (quad, subject, predicate, object, graph) {\n  if (subject && !quad.subject.equals(subject)) {\n    return false\n  }\n\n  if (predicate && !quad.predicate.equals(predicate)) {\n    return false\n  }\n\n  if (object && !quad.object.equals(object)) {\n    return false\n  }\n\n  if (graph && !quad.graph.equals(graph)) {\n    return false\n  }\n\n  return true\n}\n\nmodule.exports = isMatch\n","const isMatch = require('./isMatch')\n\nclass DatasetCore {\n  constructor (quads) {\n    this.quads = new Set()\n\n    if (quads) {\n      for (const quad of quads) {\n        this.quads.add(quad)\n      }\n    }\n  }\n\n  get size () {\n    return this.quads.size\n  }\n\n  add (quad) {\n    if (!this.has(quad)) {\n      this.quads.add(quad)\n    }\n\n    return this\n  }\n\n  delete (quad) {\n    for (const localQuad of this) {\n      if (isMatch(quad, localQuad.subject, localQuad.predicate, localQuad.object, localQuad.graph)) {\n        this.quads.delete(localQuad)\n\n        return this\n      }\n    }\n\n    return this\n  }\n\n  has (quad) {\n    for (const other of this) {\n      if (isMatch(other, quad.subject, quad.predicate, quad.object, quad.graph)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  match (subject, predicate, object, graph) {\n    const matches = new Set()\n\n    for (const quad of this) {\n      if (isMatch(quad, subject, predicate, object, graph)) {\n        matches.add(quad)\n      }\n    }\n\n    return new this.constructor(matches)\n  }\n\n  [Symbol.iterator] () {\n    return this.quads[Symbol.iterator]()\n  }\n}\n\nmodule.exports = DatasetCore\n","const rdf = require('@rdfjs/data-model')\nconst DatasetCore = require('./DatasetCore')\n\nfunction dataset (quads) {\n  return new DatasetCore(quads)\n}\n\nmodule.exports = Object.assign({ dataset }, rdf)\n","var RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: XSD + 'decimal',\n    boolean: XSD + 'boolean',\n    double:  XSD + 'double',\n    integer: XSD + 'integer',\n    string:  XSD + 'string',\n  },\n  rdf: {\n    type:       RDF + 'type',\n    nil:        RDF + 'nil',\n    first:      RDF + 'first',\n    rest:       RDF + 'rest',\n    langString: RDF + 'langString',\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: SWAP + 'reify#forSome',\n    forAll:  SWAP + 'reify#forAll',\n  },\n  log: {\n    implies: SWAP + 'log#implies',\n  },\n};\n","// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nconst { rdf, xsd } = namespaces;\n\nvar DataFactory, DEFAULTGRAPH;\n\nvar _blankNodeCounter = 0;\n\n// ## Term constructor\nclass Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nclass NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nclass Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    var id = this.id, atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    var id = this.id, dtPos = id.lastIndexOf('\"') + 1, ch;\n    // If \"^\" it follows, return the remaining substring\n    return dtPos < id.length && (ch = id[dtPos]) === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (ch !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nclass BlankNode extends Term {\n  constructor(name) {\n    super('_:' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nclass Variable extends Term {\n  constructor(name) {\n    super('?' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nclass DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n\n// ### Constructs a term from the given internal string ID\nfunction fromId(id, factory) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '_': return factory.blankNode(id.substr(2));\n  case '?': return factory.variable(id.substr(1));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    var endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  default:  return factory.namedNode(id);\n  }\n}\n\n// ### Constructs an internal string ID from the given term or ID string\nfunction toId(term) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term)\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return '_:' + term.value;\n  case 'Variable':     return '?' + term.value;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return '\"' + term.value + '\"' +\n    (term.language ? '@' + term.language :\n      (term.datatype && term.datatype.value !== xsd.string ? '^^' + term.datatype.value : ''));\n  default: throw new Error('Unexpected termType: ' + term.termType);\n  }\n}\n\n\n// ## Quad constructor\nclass Quad {\n  constructor(subject, predicate, object, graph) {\n    this.subject   = subject;\n    this.predicate = predicate;\n    this.object    = object;\n    this.graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      subject:   this.subject.toJSON(),\n      predicate: this.predicate.toJSON(),\n      object:    this.object.toJSON(),\n      graph:     this.graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this.subject.equals(other.subject)     &&\n                      this.predicate.equals(other.predicate) &&\n                      this.object.equals(other.object)       &&\n                      this.graph.equals(other.graph);\n  }\n}\n\n\n// ## DataFactory singleton\nDataFactory = {\n  // ### Public factory functions\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n\n  // ### Internal datatype constructors\n  internal: {\n    Term,\n    NamedNode,\n    BlankNode,\n    Variable,\n    Literal,\n    DefaultGraph,\n    Quad,\n    Triple: Quad,\n    fromId,\n    toId,\n  },\n};\nexport default DataFactory;\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal('\"' + value + '\"@' + languageOrDataType.toLowerCase());\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal('\"' + value + '\"') :\n    new Literal('\"' + value + '\"^^' + datatype);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n","// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nconst { xsd } = namespaces;\n\nconst { fromCharCode } = String;\n\n// Regular expression and replacement string to escape N3 strings.\n// Note how we catch invalid unicode sequences separately (they will trigger an error).\nvar escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\[uU]|\\\\(.)/g;\nvar escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nvar illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nvar lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nvar invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._number = /^[\\-+]?(?:(\\d+\\.\\d*|\\.?\\d+)[eE][\\-+]?|\\d*(\\.)?)\\d+(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s()\\[\\]\\{\\}\"'<])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (var key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    var input = this._input, outputComments = this._comments;\n    while (true) {\n      // Count and skip whitespace lines\n      var whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (outputComments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (outputComments && (comment = this._comment.exec(input)))\n            callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n          callback(input = null, { line: this._line, type: 'eof', value: '', prefix: '' });\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      var line = this._line, type = '', value = '', prefix = '',\n          firstChar = input[0], match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(input + ' ')))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(input + ' '))) {\n          type = 'literal', value = match[0];\n          prefix = (typeof match[1] === 'string' ? xsd.double :\n                    (typeof match[2] === 'string' ? xsd.decimal : xsd.integer));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '{':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(input + ' ')))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      var token = { line: line, type: type, value: value, prefix: prefix };\n      callback(null, token);\n      this.previousToken = token;\n      this._previousMarker = type;\n      // Advance to next part to tokenize\n      input = input.substr(matchLength || match[0].length, input.length);\n    }\n\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    try {\n      return item.replace(escapeSequence, function (sequence, unicode4, unicode8, escapedChar) {\n        var charCode;\n        if (unicode4) {\n          charCode = parseInt(unicode4, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          return fromCharCode(charCode);\n        }\n        else if (unicode8) {\n          charCode = parseInt(unicode8, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          if (charCode <= 0xFFFF) return fromCharCode(charCode);\n          return fromCharCode(0xD800 + ((charCode -= 0x10000) / 0x400), 0xDC00 + (charCode & 0x3FF));\n        }\n        else {\n          var replacement = escapeReplacements[escapedChar];\n          if (!replacement)\n            throw new Error();\n          return replacement;\n        }\n      });\n    }\n    catch (error) { return null; }\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    var err = new Error('Unexpected \"' + issue + '\" on line ' + this._line + '.');\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    var self = this;\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = input;\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        setImmediate(function () { self._tokenizeToEnd(callback, true); });\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        var tokens = [], error;\n        this._tokenizeToEnd(function (e, t) { e ? (error = e) : tokens.push(t); }, true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._input = '';\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', function (data) {\n        if (self._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (self._pendingBuffer) {\n            data = Buffer.concat([self._pendingBuffer, data]);\n            self._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            self._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            self._input += data;\n            self._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', function () {\n        if (self._input !== null)\n          self._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n","// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    var format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = format === 'turtle', isTriG = format === 'trig',\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = function (iri) { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      var fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    var n3Mode = this._n3Mode;\n    this._contextStack.push({\n      subject: subject, predicate: predicate, object: object,\n      graph: graph, type: type,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? this._graph.id.substr(2) + '.' : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext() {\n    var context = this._contextStack.pop(), n3Mode = this._n3Mode;\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    var value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      var iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      var prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error('Undefined prefix \"' + token.prefix + ':\"', token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error('Expected entity but got ' + token.type, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    var type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error('Unexpected ' + type, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error('Expected graph but got ' + token.type, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    var empty = this._predicate === null;\n    this._restoreContext();\n    // If the blank node was the subject, continue reading the predicate\n    if (this._object === null)\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n    // If the blank node was the object, restore previous context and read punctuation\n    else\n      return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    var item = null,                      // The item of the list\n        list = null,                      // The list itself\n        previousList = this._subject,     // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1], // The parent containing the current list\n        next = this._readListItem;        // The next function to execute\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext();\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      var datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext();\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    var next, subject = this._subject, graph = this._graph,\n        inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      var predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    var next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error('Expected IRI to follow prefix \"' + this._prefix + ':\"', token);\n    var prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    var iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    var entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error('Unexpected ' + token.type, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      var stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        var item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext();\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    var subject, predicate, object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    var subject = this._blankNode(), predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    var contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    var err = new Error(message + ' on line ' + token.line + '.');\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    var result = '', length = iri.length, i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return result + '/' + iri.substr(i + 1);\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    var self = this;\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : 'b' + blankNodePrefix++ + '_';\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      var quads = [], error;\n      this._callback = function (e, t) { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(function (token) {\n        return self._readCallback = self._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, function (error, token) {\n      if (error !== null)\n        self._callback(error), self._callback = noop;\n      else if (self._readCallback)\n        self._readCallback = self._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  var namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","import {Buffer} from 'buffer';\n\nexport default BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return Buffer.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = Buffer.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport {Buffer} from 'buffer';\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nexport function StringDecoder(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","'use strict';\n\n\nReadable.ReadableState = ReadableState;\nimport EventEmitter from 'events';\nimport {inherits, debuglog} from 'util';\nimport BufferList from './buffer-list';\nimport {StringDecoder} from 'string_decoder';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\n\nvar debug = debuglog('stream');\ninherits(Readable, EventEmitter);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event])\n      emitter.on(event, fn);\n    else if (Array.isArray(emitter._events[event]))\n      emitter._events[event].unshift(fn);\n    else\n      emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\nfunction listenerCount (emitter, type) {\n  return emitter.listeners(type).length;\n}\nfunction ReadableState(options, stream) {\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nexport default Readable;\nexport function Readable(options) {\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  EventEmitter.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = Buffer.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false);\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (listenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && src.listeners('data').length) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var _i = 0; _i < len; _i++) {\n      dests[_i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1) return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = EventEmitter.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n\nimport {inherits, deprecate} from 'util';\nimport {Buffer} from 'buffer';\nWritable.WritableState = WritableState;\nimport {EventEmitter} from 'events';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\ninherits(Writable, EventEmitter);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Object.defineProperty(this, 'buffer', {\n    get: deprecate(function () {\n      return this.getBuffer();\n    }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n  });\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function writableStateGetBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\nexport default Writable;\nexport function Writable(options) {\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  EventEmitter.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  nextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) nextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n        nextTick(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n","\nimport {inherits} from 'util';\nimport {nextTick} from 'process';\nimport {Readable} from './readable';\nimport {Writable} from './writable';\n\n\ninherits(Duplex, Readable);\n\nvar keys = Object.keys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\nexport default Duplex;\nexport function Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n","// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n\nimport {Duplex} from './duplex';\n\n\nimport {inherits} from 'util';\ninherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\nexport default Transform;\nexport function Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er) {\n      done(stream, er);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('Not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er) {\n  if (er) return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","\nimport {Transform} from './transform';\n\nimport {inherits} from 'util';\ninherits(PassThrough, Transform);\nexport default PassThrough;\nexport function PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","import EE from 'events';\nimport {inherits} from 'util';\n\nimport {Duplex} from './readable-stream/duplex.js';\nimport {Readable} from './readable-stream/readable.js';\nimport {Writable} from './readable-stream/writable.js';\nimport {Transform} from './readable-stream/transform.js';\nimport {PassThrough} from './readable-stream/passthrough.js';\ninherits(Stream, EE);\nStream.Readable = Readable;\nStream.Writable = Writable;\nStream.Duplex = Duplex;\nStream.Transform = Transform;\nStream.PassThrough = PassThrough;\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nexport default Stream;\nexport {Readable,Writable,Duplex,Transform,PassThrough,Stream}\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","export function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n","export function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n","export function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n","import { NamedNode } from './named-node'\n\nexport function Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n","import { DefaultGraph } from './default-graph'\n\nexport function Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n","import { BlankNode } from './blank-node'\nimport { DefaultGraph } from './default-graph'\nimport { Literal } from './literal'\nimport { NamedNode } from './named-node'\nimport { Quad } from './quad'\nimport { Variable } from './variable'\n\nexport const defaultGraphInstance = new DefaultGraph()\n\nexport function namedNode (value) {\n  return new NamedNode(value)\n}\n\nexport function blankNode (value) {\n  return new BlankNode(value)\n}\n\nexport function literal (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nexport function defaultGraph () {\n  return defaultGraphInstance\n}\n\nexport function variable (value) {\n  return new Variable(value)\n}\n\nexport function quad (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || defaultGraphInstance)\n}\n\nexport function triple (subject, predicate, object) {\n  return quad(subject, predicate, object)\n}\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  let content = \"\";\n  let lang = \"\";\n  export let value;\n  $: content = value.value;\n  $: lang = value.language;\n  function userChange(e) {\n    value = lang\n      ? Factory.literal(content, lang)\n      : Factory.literal(content, \"http://www.w3.org/2001/XMLSchema#string\");\n  }\n</script>\n\n<div>\n  <input type=\"text\" bind:value={content} on:input={userChange} />\n  <input\n    class=\"language\"\n    type=\"text\"\n    size=\"2\"\n    pattern=\"[a-z][a-z]\"\n    spellcheck=\"false\"\n    bind:value={lang} on:input={userChange} />\n</div>\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.clEditor = factory());\n}(this, (function () { 'use strict';\n\n    function noop() {}\n\n    function run(fn) {\n      return fn();\n    }\n\n    function blank_object() {\n      return Object.create(null);\n    }\n\n    function run_all(fns) {\n      fns.forEach(run);\n    }\n\n    function is_function(thing) {\n      return typeof thing === 'function';\n    }\n\n    function safe_not_equal(a, b) {\n      return a != a ? b == b : a !== b || a && typeof a === 'object' || typeof a === 'function';\n    }\n\n    function subscribe(store, ...callbacks) {\n      if (store == null) {\n        return noop;\n      }\n\n      const unsub = store.subscribe(...callbacks);\n      return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n    }\n\n    function get_store_value(store) {\n      let value;\n      subscribe(store, _ => value = _)();\n      return value;\n    }\n\n    function component_subscribe(component, store, callback) {\n      component.$$.on_destroy.push(subscribe(store, callback));\n    }\n\n    function set_store_value(store, ret, value = ret) {\n      store.set(value);\n      return ret;\n    }\n\n    function append(target, node) {\n      target.appendChild(node);\n    }\n\n    function insert(target, node, anchor) {\n      target.insertBefore(node, anchor || null);\n    }\n\n    function detach(node) {\n      node.parentNode.removeChild(node);\n    }\n\n    function destroy_each(iterations, detaching) {\n      for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i]) iterations[i].d(detaching);\n      }\n    }\n\n    function element(name) {\n      return document.createElement(name);\n    }\n\n    function text(data) {\n      return document.createTextNode(data);\n    }\n\n    function space() {\n      return text(' ');\n    }\n\n    function listen(node, event, handler, options) {\n      node.addEventListener(event, handler, options);\n      return () => node.removeEventListener(event, handler, options);\n    }\n\n    function prevent_default(fn) {\n      return function (event) {\n        event.preventDefault(); // @ts-ignore\n\n        return fn.call(this, event);\n      };\n    }\n\n    function attr(node, attribute, value) {\n      if (value == null) node.removeAttribute(attribute);else if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n    }\n\n    function children(element) {\n      return Array.from(element.childNodes);\n    }\n\n    function set_data(text, data) {\n      data = '' + data;\n      if (text.data !== data) text.data = data;\n    }\n\n    function set_input_value(input, value) {\n      if (value != null || input.value) {\n        input.value = value;\n      }\n    }\n\n    function set_style(node, key, value, important) {\n      node.style.setProperty(key, value, important ? 'important' : '');\n    }\n\n    function toggle_class(element, name, toggle) {\n      element.classList[toggle ? 'add' : 'remove'](name);\n    }\n\n    function custom_event(type, detail) {\n      const e = document.createEvent('CustomEvent');\n      e.initCustomEvent(type, false, false, detail);\n      return e;\n    }\n\n    class HtmlTag {\n      constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n      }\n\n      m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n          insert(target, this.n[i], anchor);\n        }\n\n        this.t = target;\n      }\n\n      u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n      }\n\n      p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n      }\n\n      d() {\n        this.n.forEach(detach);\n      }\n\n    }\n\n    let current_component;\n\n    function set_current_component(component) {\n      current_component = component;\n    }\n\n    function get_current_component() {\n      if (!current_component) throw new Error(`Function called outside component initialization`);\n      return current_component;\n    }\n\n    function onMount(fn) {\n      get_current_component().$$.on_mount.push(fn);\n    }\n\n    function createEventDispatcher() {\n      const component = get_current_component();\n      return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n\n        if (callbacks) {\n          // TODO are there situations where events could be dispatched\n          // in a server (non-DOM) environment?\n          const event = custom_event(type, detail);\n          callbacks.slice().forEach(fn => {\n            fn.call(component, event);\n          });\n        }\n      };\n    }\n\n    function setContext(key, context) {\n      get_current_component().$$.context.set(key, context);\n    }\n\n    const dirty_components = [];\n    const binding_callbacks = [];\n    const render_callbacks = [];\n    const flush_callbacks = [];\n    const resolved_promise = Promise.resolve();\n    let update_scheduled = false;\n\n    function schedule_update() {\n      if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n      }\n    }\n\n    function add_render_callback(fn) {\n      render_callbacks.push(fn);\n    }\n\n    let flushing = false;\n    const seen_callbacks = new Set();\n\n    function flush() {\n      if (flushing) return;\n      flushing = true;\n\n      do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n          const component = dirty_components[i];\n          set_current_component(component);\n          update(component.$$);\n        }\n\n        dirty_components.length = 0;\n\n        while (binding_callbacks.length) binding_callbacks.pop()(); // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n\n\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n          const callback = render_callbacks[i];\n\n          if (!seen_callbacks.has(callback)) {\n            // ...so guard against infinite loops\n            seen_callbacks.add(callback);\n            callback();\n          }\n        }\n\n        render_callbacks.length = 0;\n      } while (dirty_components.length);\n\n      while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n      }\n\n      update_scheduled = false;\n      flushing = false;\n      seen_callbacks.clear();\n    }\n\n    function update($$) {\n      if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n      }\n    }\n\n    const outroing = new Set();\n    let outros;\n\n    function transition_in(block, local) {\n      if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n      }\n    }\n\n    function transition_out(block, local, detach, callback) {\n      if (block && block.o) {\n        if (outroing.has(block)) return;\n        outroing.add(block);\n        outros.c.push(() => {\n          outroing.delete(block);\n\n          if (callback) {\n            if (detach) block.d(1);\n            callback();\n          }\n        });\n        block.o(local);\n      }\n    }\n\n    const globals = typeof window !== 'undefined' ? window : global;\n\n    function create_component(block) {\n      block && block.c();\n    }\n\n    function mount_component(component, target, anchor) {\n      const {\n        fragment,\n        on_mount,\n        on_destroy,\n        after_update\n      } = component.$$;\n      fragment && fragment.m(target, anchor); // onMount happens before the initial afterUpdate\n\n      add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n\n        if (on_destroy) {\n          on_destroy.push(...new_on_destroy);\n        } else {\n          // Edge case - component was destroyed immediately,\n          // most likely as a result of a binding initialising\n          run_all(new_on_destroy);\n        }\n\n        component.$$.on_mount = [];\n      });\n      after_update.forEach(add_render_callback);\n    }\n\n    function destroy_component(component, detaching) {\n      const $$ = component.$$;\n\n      if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching); // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n      }\n    }\n\n    function make_dirty(component, i) {\n      if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n      }\n\n      component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n    }\n\n    function init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n      const parent_component = current_component;\n      set_current_component(component);\n      const prop_values = options.props || {};\n      const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n      };\n      let ready = false;\n      $$.ctx = instance ? instance(component, prop_values, (i, ret, ...rest) => {\n        const value = rest.length ? rest[0] : ret;\n\n        if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n          if ($$.bound[i]) $$.bound[i](value);\n          if (ready) make_dirty(component, i);\n        }\n\n        return ret;\n      }) : [];\n      $$.update();\n      ready = true;\n      run_all($$.before_update); // `false` as a special case of no DOM component\n\n      $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\n      if (options.target) {\n        if (options.hydrate) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          $$.fragment && $$.fragment.l(children(options.target));\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          $$.fragment && $$.fragment.c();\n        }\n\n        if (options.intro) transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n      }\n\n      set_current_component(parent_component);\n    }\n\n    class SvelteComponent {\n      $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n      }\n\n      $on(type, callback) {\n        const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n        callbacks.push(callback);\n        return () => {\n          const index = callbacks.indexOf(callback);\n          if (index !== -1) callbacks.splice(index, 1);\n        };\n      }\n\n      $set() {// overridden by instance, if it has props\n      }\n\n    }\n\n    let t = {};\n\n    const exec = (command, value = null) => {\n      document.execCommand(command, false, value);\n    };\n\n    const getTagsRecursive = (element, tags) => {\n      tags = tags || (element && element.tagName ? [element.tagName] : []);\n\n      if (element && element.parentNode) {\n        element = element.parentNode;\n      } else {\n        return tags;\n      }\n\n      const tag = element.tagName;\n      if (element.style && element.getAttribute) {\n        [element.style.textAlign || element.getAttribute('align'), element.style.color || tag === 'FONT' && 'forecolor', element.style.backgroundColor && 'backcolor']\n          .filter((item) => item)\n          .forEach((item) => tags.push(item));\n      }\n\n      if (tag === 'DIV') {\n        return tags;\n      }\n\n      tags.push(tag);\n\n      return getTagsRecursive(element, tags).filter((_tag) => _tag != null);\n    };\n\n    const saveRange = (editor) => {\n      const documentSelection = document.getSelection();\n\n      t.range = null;\n\n      if (documentSelection.rangeCount) {\n          let savedRange = t.range = documentSelection.getRangeAt(0);\n          let range = document.createRange();\n          let rangeStart;\n          range.selectNodeContents(editor);\n          range.setEnd(savedRange.startContainer, savedRange.startOffset);\n          rangeStart = (range + '').length;\n          t.metaRange = {\n              start: rangeStart,\n              end: rangeStart + (savedRange + '').length\n          };\n      }\n    };\n    const restoreRange = (editor) => {\n      let metaRange = t.metaRange;\n      let savedRange = t.range;\n      let documentSelection = document.getSelection();\n      let range;\n\n      if (!savedRange) {\n          return;\n      }\n\n      if (metaRange && metaRange.start !== metaRange.end) { // Algorithm from http://jsfiddle.net/WeWy7/3/\n          let charIndex = 0,\n              nodeStack = [editor],\n              node,\n              foundStart = false,\n              stop = false;\n\n          range = document.createRange();\n\n          while (!stop && (node = nodeStack.pop())) {\n              if (node.nodeType === 3) {\n                  let nextCharIndex = charIndex + node.length;\n                  if (!foundStart && metaRange.start >= charIndex && metaRange.start <= nextCharIndex) {\n                      range.setStart(node, metaRange.start - charIndex);\n                      foundStart = true;\n                  }\n                  if (foundStart && metaRange.end >= charIndex && metaRange.end <= nextCharIndex) {\n                      range.setEnd(node, metaRange.end - charIndex);\n                      stop = true;\n                  }\n                  charIndex = nextCharIndex;\n              } else {\n                  let cn = node.childNodes;\n                  let i = cn.length;\n\n                  while (i > 0) {\n                      i -= 1;\n                      nodeStack.push(cn[i]);\n                  }\n              }\n          }\n      }\n\n      documentSelection.removeAllRanges();\n      documentSelection.addRange(range || savedRange);\n    };\n\n    const cleanHtml = (input) => {\n      const html = input.match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);\n      let output = html && html[1] || input;\n      output = output\n        .replace(/\\r?\\n|\\r/g, ' ')\n        .replace(/<!--(.*?)-->/g, '')\n        .replace(new RegExp('<(/)*(meta|link|span|\\\\?xml:|st1:|o:|font|w:sdt)(.*?)>', 'gi'), '')\n        .replace(/<!\\[if !supportLists\\]>(.*?)<!\\[endif\\]>/gi, '')\n        .replace(/style=\"[^\"]*\"/gi, '')\n        .replace(/style='[^']*'/gi, '')\n        .replace(/&nbsp;/gi, ' ')\n        .replace(/>(\\s+)</g, '><')\n        .replace(/class=\"[^\"]*\"/gi, '')\n        .replace(/class='[^']*'/gi, '')\n        .replace(/<[^/].*?>/g, i => i.split(/[ >]/g)[0] + '>')\n        .trim();\n\n        output = removeBadTags(output);\n        return output;\n    };\n\n    const unwrap = (wrapper) => {\n    \tconst docFrag = document.createDocumentFragment();\n    \twhile (wrapper.firstChild) {\n    \t\tconst child = wrapper.removeChild(wrapper.firstChild);\n    \t\tdocFrag.appendChild(child);\n    \t}\n\n    \t// replace wrapper with document fragment\n    \twrapper.parentNode.replaceChild(docFrag, wrapper);\n    };\n\n    const removeBlockTagsRecursive = (elements, tagsToRemove) => {\n      Array.from(elements).forEach((item) => {\n        if (tagsToRemove.some((tag) => tag === item.tagName.toLowerCase())) {\n          if (item.children.length) {\n            removeBlockTagsRecursive(item.children, tagsToRemove);\n          }\n          unwrap(item);\n        }\n      });\n    };\n\n    const getActionBtns = (actions) => {\n      return Object.keys(actions).map((action) => actions[action]);\n    };\n\n    const getNewActionObj = (actions, userActions = []) => {\n        if (userActions && userActions.length) {\n            const newActions = {};\n            userActions.forEach((action) => {\n                if (typeof action === 'string') {\n                    newActions[action] = Object.assign({}, actions[action]);\n                } else if (actions[action.name]) {\n                    newActions[action.name] = Object.assign(actions[action.name], action);\n                } else {\n                    newActions[action.name] = Object.assign({}, action);\n                }\n            });\n\n            return newActions;\n        } else {\n            return actions;\n        }\n    };\n\n    const removeBadTags = (html) => {\n        ['style', 'script', 'applet', 'embed', 'noframes', 'noscript'].forEach((badTag) => {\n            html = html.replace(new RegExp(`<${badTag}.*?${badTag}(.*?)>`, 'gi'), '');\n        });\n\n        return html;\n    };\n\n    const isEditorClick = (target, editorWrapper) => {\n        if (target === editorWrapper) {\n            return true;\n        }\n        if (target.parentElement) {\n            return isEditorClick(target.parentElement, editorWrapper);\n        }\n        return false;\n    };\n\n    const subscriber_queue = [];\n    /**\n     * Create a `Writable` store that allows both updating and reading by subscription.\n     * @param {*=}value initial value\n     * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n     */\n\n\n    function writable(value, start = noop) {\n      let stop;\n      const subscribers = [];\n\n      function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n          value = new_value;\n\n          if (stop) {\n            // store is ready\n            const run_queue = !subscriber_queue.length;\n\n            for (let i = 0; i < subscribers.length; i += 1) {\n              const s = subscribers[i];\n              s[1]();\n              subscriber_queue.push(s, value);\n            }\n\n            if (run_queue) {\n              for (let i = 0; i < subscriber_queue.length; i += 2) {\n                subscriber_queue[i][0](subscriber_queue[i + 1]);\n              }\n\n              subscriber_queue.length = 0;\n            }\n          }\n        }\n      }\n\n      function update(fn) {\n        set(fn(value));\n      }\n\n      function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n\n        if (subscribers.length === 1) {\n          stop = start(set) || noop;\n        }\n\n        run(value);\n        return () => {\n          const index = subscribers.indexOf(subscriber);\n\n          if (index !== -1) {\n            subscribers.splice(index, 1);\n          }\n\n          if (subscribers.length === 0) {\n            stop();\n            stop = null;\n          }\n        };\n      }\n\n      return {\n        set,\n        update,\n        subscribe\n      };\n    }\n\n    const linkSvg =\n    \t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z\"></path><path d=\"M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z\"></path></svg>';\n    const unlinkSvg =\n    \t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z\"></path><path d=\"M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z\"></path></svg>';\n\n    var defaultActions = {\n    \tviewHtml: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path fill=\"none\" stroke=\"currentColor\" stroke-width=\"8\" stroke-miterlimit=\"10\" d=\"M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9\"></path></svg>',\n    \t\ttitle: \"View HTML\",\n    \t\tresult: function() {\n    \t\t\tlet refs = get_store_value(this.references);\n    \t\t\tlet actionObj = get_store_value(this.state).actionObj;\n    \t\t\tlet helper = get_store_value(this.helper);\n\n    \t\t\thelper.showEditor = !helper.showEditor;\n    \t\t\trefs.editor.style.display = helper.showEditor ? \"block\" : \"none\";\n    \t\t\trefs.raw.style.display = helper.showEditor ? \"none\" : \"block\";\n    \t\t\tif (helper.showEditor) {\n    \t\t\t\trefs.editor.innerHTML = refs.raw.value;\n    \t\t\t} else {\n    \t\t\t\trefs.raw.value = refs.editor.innerHTML;\n    \t\t\t}\n    \t\t\tsetTimeout(() => {\n    \t\t\t\tObject.keys(actionObj).forEach(\n    \t\t\t\t\taction => (actionObj[action].disabled = !helper.showEditor)\n    \t\t\t\t);\n    \t\t\t\tactionObj.viewHtml.disabled = false;\n    \t\t\t\tactionObj.viewHtml.active = !helper.showEditor;\n\n    \t\t\t\tthis.state.update(state => {\n    \t\t\t\t\tstate.actionBtns = getActionBtns(actionObj);\n    \t\t\t\t\tstate.actionObj = actionObj;\n    \t\t\t\t\treturn state;\n    \t\t\t\t});\n    \t\t\t});\n    \t\t}\n    \t},\n    \tundo: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z\"></path></svg>',\n    \t\ttitle: \"Undo\",\n    \t\tresult: () => exec(\"undo\")\n    \t},\n    \tredo: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z\"></path></svg>',\n    \t\ttitle: \"Redo\",\n    \t\tresult: () => exec(\"redo\")\n    \t},\n    \tb: {\n    \t\ticon: \"<b>B</b>\",\n    \t\ttitle: \"Bold\",\n    \t\tresult: () => exec(\"bold\")\n    \t},\n    \ti: {\n    \t\ticon: \"<i>I</i>\",\n    \t\ttitle: \"Italic\",\n    \t\tresult: () => exec(\"italic\")\n    \t},\n    \tu: {\n    \t\ticon: \"<u>U</u>\",\n    \t\ttitle: \"Underline\",\n    \t\tresult: () => exec(\"underline\")\n    \t},\n    \tstrike: {\n    \t\ticon: \"<strike>S</strike>\",\n    \t\ttitle: \"Strike-through\",\n    \t\tresult: () => exec(\"strikeThrough\")\n    \t},\n    \tsup: {\n    \t\ticon: \"A<sup>2</sup>\",\n    \t\ttitle: \"Superscript\",\n    \t\tresult: () => exec(\"superscript\")\n    \t},\n    \tsub: {\n    \t\ticon: \"A<sub>2</sub>\",\n    \t\ttitle: \"Subscript\",\n    \t\tresult: () => exec(\"subscript\")\n    \t},\n    \th1: {\n    \t\ticon: \"<b>H<sub>1</sub></b>\",\n    \t\ttitle: \"Heading 1\",\n    \t\tresult: () => exec(\"formatBlock\", \"<H1>\")\n    \t},\n    \th2: {\n    \t\ticon: \"<b>H<sub>2</sub></b>\",\n    \t\ttitle: \"Heading 2\",\n    \t\tresult: () => exec(\"formatBlock\", \"<H2>\")\n    \t},\n    \tp: {\n    \t\ticon: \"&#182;\",\n    \t\ttitle: \"Paragraph\",\n    \t\tresult: () => exec(\"formatBlock\", \"<P>\")\n    \t},\n    \tblockquote: {\n    \t\ticon: \"&#8220; &#8221;\",\n    \t\ttitle: \"Quote\",\n    \t\tresult: () => exec(\"formatBlock\", \"<BLOCKQUOTE>\")\n    \t},\n    \tol: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z\"></path></svg>',\n    \t\ttitle: \"Ordered List\",\n    \t\tresult: () => exec(\"insertOrderedList\")\n    \t},\n    \tul: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z\"></path></svg>',\n    \t\ttitle: \"Unordered List\",\n    \t\tresult: () => exec(\"insertUnorderedList\")\n    \t},\n    \thr: {\n    \t\ticon: \"&#8213;\",\n    \t\ttitle: \"Horizontal Line\",\n    \t\tresult: () => exec(\"insertHorizontalRule\")\n    \t},\n    \tleft: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z\"></path></svg>',\n    \t\ttitle: \"Justify left\",\n    \t\tresult: () => exec(\"justifyLeft\")\n    \t},\n    \tright: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z\"></path></svg>',\n    \t\ttitle: \"Justify right\",\n    \t\tresult: () => exec(\"justifyRight\")\n    \t},\n    \tcenter: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z\"></path></svg>',\n    \t\ttitle: \"Justify center\",\n    \t\tresult: () => exec(\"justifyCenter\")\n    \t},\n    \tjustify: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z\"></path></svg>',\n    \t\ttitle: \"Justify full\",\n    \t\tresult: () => exec(\"justifyFull\")\n    \t},\n    \ta: {\n    \t\ticon: linkSvg,\n    \t\ttitle: \"Insert link\",\n    \t\tresult: function() {\n    \t\t\tconst actionObj = get_store_value(this.state).actionObj;\n    \t\t\tconst refs = get_store_value(this.references);\n\n    \t\t\tif (actionObj.a.active) {\n    \t\t\t\tconst selection = window.getSelection();\n    \t\t\t\tconst range = document.createRange();\n    \t\t\t\trange.selectNodeContents(document.getSelection().focusNode);\n    \t\t\t\tselection.removeAllRanges();\n    \t\t\t\tselection.addRange(range);\n    \t\t\t\texec(\"unlink\");\n    \t\t\t\tactionObj.a.title = \"Insert link\";\n    \t\t\t\tactionObj.a.icon = linkSvg;\n    \t\t\t\tthis.state.update(state => {\n    \t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\n    \t\t\t\t\tstate.actionObj = actionObj;\n    \t\t\t\t\treturn state;\n    \t\t\t\t});\n    \t\t\t} else {\n    \t\t\t\tsaveRange(refs.editor);\n    \t\t\t\trefs.modal.$set({\n    \t\t\t\t\tshow: true,\n    \t\t\t\t\tevent: \"linkUrl\",\n    \t\t\t\t\ttitle: \"Insert link\",\n    \t\t\t\t\tlabel: \"Url\"\n    \t\t\t\t});\n    \t\t\t\tif (!get_store_value(this.helper).link) {\n    \t\t\t\t\tthis.helper.update(state => {\n    \t\t\t\t\t\tstate.link = true;\n    \t\t\t\t\t\treturn state;\n    \t\t\t\t\t});\n    \t\t\t\t\trefs.modal.$on(\"linkUrl\", event => {\n    \t\t\t\t\t\trestoreRange(refs.editor);\n    \t\t\t\t\t\texec(\"createLink\", event.detail);\n    \t\t\t\t\t\tactionObj.a.title = \"Unlink\";\n    \t\t\t\t\t\tactionObj.a.icon = unlinkSvg;\n\n    \t\t\t\t\t\tthis.state.update(state => {\n    \t\t\t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\n    \t\t\t\t\t\t\tstate.actionObj = actionObj;\n    \t\t\t\t\t\t\treturn state;\n    \t\t\t\t\t\t});\n    \t\t\t\t\t});\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t},\n    \timage: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M64 17v38H8V17h56m8-8H0v54h72V9z\"></path><path d=\"M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z\"></path></svg>',\n    \t\ttitle: \"Image\",\n    \t\tresult: function() {\n    \t\t\tconst actionObj = get_store_value(this.state).actionObj;\n    \t\t\tconst refs = get_store_value(this.references);\n    \t\t\tsaveRange(refs.editor);\n    \t\t\trefs.modal.$set({\n    \t\t\t\tshow: true,\n    \t\t\t\tevent: \"imageUrl\",\n    \t\t\t\ttitle: \"Insert image\",\n    \t\t\t\tlabel: \"Url\"\n    \t\t\t});\n    \t\t\tif (!get_store_value(this.helper).image) {\n    \t\t\t\tthis.helper.update(state => {\n    \t\t\t\t\tstate.image = true;\n    \t\t\t\t\treturn state;\n    \t\t\t\t});\n    \t\t\t\trefs.modal.$on(\"imageUrl\", event => {\n    \t\t\t\t\trestoreRange(refs.editor);\n    \t\t\t\t\texec(\"insertImage\", event.detail);\n    \t\t\t\t});\n    \t\t\t}\n    \t\t}\n    \t},\n    \tforecolor: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z\"></path></svg>',\n    \t\ttitle: \"Text color\",\n    \t\tcolorPicker: true,\n    \t\tresult: function() {\n    \t\t\tshowColorPicker.call(this, \"foreColor\");\n    \t\t}\n    \t},\n    \tbackcolor: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M36.5 22.3l-6.3 18.1H43l-6.3-18.1z\"></path><path d=\"M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z\"></path></svg>',\n    \t\ttitle: \"Background color\",\n    \t\tcolorPicker: true,\n    \t\tresult: function() {\n    \t\t\tshowColorPicker.call(this, \"backColor\");\n    \t\t}\n    \t},\n    \tremoveFormat: {\n    \t\ticon:\n    \t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z\"></path></svg>',\n    \t\ttitle: \"Remove format\",\n    \t\tresult: function() {\n    \t\t\tconst refs = get_store_value(this.references);\n    \t\t\tconst selection = window.getSelection();\n    \t\t\tif (!selection.toString().length) {\n    \t\t\t\tremoveBlockTagsRecursive(\n    \t\t\t\t\trefs.editor.children,\n    \t\t\t\t\tthis.removeFormatTags\n    \t\t\t\t);\n    \t\t\t\tconst range = document.createRange();\n    \t\t\t\trange.selectNodeContents(refs.editor);\n    \t\t\t\tselection.removeAllRanges();\n    \t\t\t\tselection.addRange(range);\n    \t\t\t}\n    \t\t\texec(\"removeFormat\");\n    \t\t\tselection.removeAllRanges();\n    \t\t}\n    \t}\n    };\n\n    const showColorPicker = function(cmd) {\n    \tconst refs = get_store_value(this.references);\n    \tsaveRange(refs.editor);\n    \tconsole.log(refs.colorPicker);\n    \trefs.colorPicker.$set({show: true, event: cmd});\n    \tif (!get_store_value(this.helper)[cmd]) {\n    \t\tthis.helper.update(state => {\n    \t\t\tstate[cmd] = true;\n    \t\t\treturn state;\n    \t\t});\n    \t\trefs.colorPicker.$on(cmd, event => {\n    \t\t\tlet item = event.detail;\n    \t\t\tif (item.modal) {\n    \t\t\t\tthis.modal.$set({\n    \t\t\t\t\tshow: true,\n    \t\t\t\t\tevent: \"colorHref\",\n    \t\t\t\t\ttitle: \"Text color\",\n    \t\t\t\t\tlabel:\n    \t\t\t\t\t\tcmd === \"foreColor\" ? \"Text color\" : \"Background color\"\n    \t\t\t\t});\n    \t\t\t\tconst command = cmd;\n    \t\t\t\tif (!get_store_value(this.helper)[`${command}Modal`]) {\n    \t\t\t\t\tget_store_value(this.helper)[`${command}Modal`] = true;\n    \t\t\t\t\tthis.modal.$on(\"colorHref\", event => {\n    \t\t\t\t\t\tlet color = event.detail;\n    \t\t\t\t\t\trestoreRange(refs.editor);\n    \t\t\t\t\t\texec(command, color);\n    \t\t\t\t\t});\n    \t\t\t\t}\n    \t\t\t} else {\n    \t\t\t\trestoreRange(refs.editor);\n    \t\t\t\texec(cmd, item.color);\n    \t\t\t}\n    \t\t});\n    \t}\n    };\n\n    /* src/helpers/EditorModal.svelte generated by Svelte v3.18.2 */\n\n    function add_css() {\n    \tvar style = element(\"style\");\n    \tstyle.id = \"svelte-1d1bzev-style\";\n    \tstyle.textContent = \".cl-editor-modal.svelte-1d1bzev.svelte-1d1bzev{position:absolute;top:37px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);max-width:520px;width:100%;height:140px;backface-visibility:hidden;z-index:11}.cl-editor-overlay.svelte-1d1bzev.svelte-1d1bzev{position:absolute;background-color:rgba(255,255,255,.5);height:100%;width:100%;left:0;top:0;z-index:10}.modal-box.svelte-1d1bzev.svelte-1d1bzev{position:absolute;top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);max-width:500px;width:calc(100% - 20px);padding-bottom:36px;z-index:1;background-color:#FFF;text-align:center;font-size:14px;box-shadow:rgba(0,0,0,.2) 0 2px 3px;-webkit-backface-visibility:hidden;backface-visibility:hidden}.modal-title.svelte-1d1bzev.svelte-1d1bzev{font-size:24px;font-weight:700;margin:0 0 20px;padding:2px 0 4px;display:block;border-bottom:1px solid #EEE;color:#333;background:#fbfcfc}.modal-label.svelte-1d1bzev.svelte-1d1bzev{display:block;position:relative;margin:15px 12px;height:29px;line-height:29px;overflow:hidden}.modal-label.svelte-1d1bzev input.svelte-1d1bzev{position:absolute;top:0;right:0;height:27px;line-height:25px;border:1px solid #DEDEDE;background:#fff;font-size:14px;max-width:330px;width:70%;padding:0 7px;transition:all 150ms}.modal-label.svelte-1d1bzev input.svelte-1d1bzev:focus{outline:none}.input-error.svelte-1d1bzev input.svelte-1d1bzev{border:1px solid #e74c3c}.input-info.svelte-1d1bzev.svelte-1d1bzev{display:block;text-align:left;height:25px;line-height:25px;transition:all 150ms}.input-info.svelte-1d1bzev span.svelte-1d1bzev{display:block;color:#69878f;background-color:#fbfcfc;border:1px solid #DEDEDE;padding:0 7px;width:150px}.input-error.svelte-1d1bzev .input-info.svelte-1d1bzev{margin-top:-27px}.input-error.svelte-1d1bzev .msg-error.svelte-1d1bzev{color:#e74c3c}.modal-button.svelte-1d1bzev.svelte-1d1bzev{position:absolute;bottom:10px;right:0;text-decoration:none;color:#FFF;display:block;width:100px;height:35px;line-height:33px;margin:0 10px;background-color:#333;border:none;cursor:pointer;font-family:\\\"Lato\\\",Helvetica,Verdana,sans-serif;font-size:16px;transition:all 150ms}.modal-submit.svelte-1d1bzev.svelte-1d1bzev{right:110px;background:#2bc06a}.modal-reset.svelte-1d1bzev.svelte-1d1bzev{color:#555;background:#e6e6e6}\";\n    \tappend(document.head, style);\n    }\n\n    // (12:24) {#if error}\n    function create_if_block(ctx) {\n    \tlet span;\n\n    \treturn {\n    \t\tc() {\n    \t\t\tspan = element(\"span\");\n    \t\t\tspan.textContent = \"Required\";\n    \t\t\tattr(span, \"class\", \"msg-error svelte-1d1bzev\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, span, anchor);\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(span);\n    \t\t}\n    \t};\n    }\n\n    function create_fragment(ctx) {\n    \tlet div3;\n    \tlet div0;\n    \tlet t0;\n    \tlet div2;\n    \tlet div1;\n    \tlet span0;\n    \tlet t1;\n    \tlet t2;\n    \tlet form;\n    \tlet label_1;\n    \tlet input;\n    \tlet t3;\n    \tlet span2;\n    \tlet span1;\n    \tlet t4;\n    \tlet t5;\n    \tlet t6;\n    \tlet button0;\n    \tlet t8;\n    \tlet button1;\n    \tlet dispose;\n    \tlet if_block = /*error*/ ctx[2] && create_if_block();\n\n    \treturn {\n    \t\tc() {\n    \t\t\tdiv3 = element(\"div\");\n    \t\t\tdiv0 = element(\"div\");\n    \t\t\tt0 = space();\n    \t\t\tdiv2 = element(\"div\");\n    \t\t\tdiv1 = element(\"div\");\n    \t\t\tspan0 = element(\"span\");\n    \t\t\tt1 = text(/*title*/ ctx[3]);\n    \t\t\tt2 = space();\n    \t\t\tform = element(\"form\");\n    \t\t\tlabel_1 = element(\"label\");\n    \t\t\tinput = element(\"input\");\n    \t\t\tt3 = space();\n    \t\t\tspan2 = element(\"span\");\n    \t\t\tspan1 = element(\"span\");\n    \t\t\tt4 = text(/*label*/ ctx[4]);\n    \t\t\tt5 = space();\n    \t\t\tif (if_block) if_block.c();\n    \t\t\tt6 = space();\n    \t\t\tbutton0 = element(\"button\");\n    \t\t\tbutton0.textContent = \"Confirm\";\n    \t\t\tt8 = space();\n    \t\t\tbutton1 = element(\"button\");\n    \t\t\tbutton1.textContent = \"Cancel\";\n    \t\t\tattr(div0, \"class\", \"cl-editor-overlay svelte-1d1bzev\");\n    \t\t\tattr(span0, \"class\", \"modal-title svelte-1d1bzev\");\n    \t\t\tattr(input, \"type\", \"text\");\n    \t\t\tattr(input, \"name\", \"text\");\n    \t\t\tattr(input, \"class\", \"svelte-1d1bzev\");\n    \t\t\tattr(span1, \"class\", \"svelte-1d1bzev\");\n    \t\t\tattr(span2, \"class\", \"input-info svelte-1d1bzev\");\n    \t\t\tattr(label_1, \"class\", \"modal-label svelte-1d1bzev\");\n    \t\t\ttoggle_class(label_1, \"input-error\", /*error*/ ctx[2]);\n    \t\t\tattr(button0, \"class\", \"modal-button modal-submit svelte-1d1bzev\");\n    \t\t\tattr(button0, \"type\", \"submit\");\n    \t\t\tattr(button1, \"class\", \"modal-button modal-reset svelte-1d1bzev\");\n    \t\t\tattr(button1, \"type\", \"reset\");\n    \t\t\tattr(div1, \"class\", \"modal-box svelte-1d1bzev\");\n    \t\t\tattr(div2, \"class\", \"cl-editor-modal svelte-1d1bzev\");\n    \t\t\tset_style(div3, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, div3, anchor);\n    \t\t\tappend(div3, div0);\n    \t\t\tappend(div3, t0);\n    \t\t\tappend(div3, div2);\n    \t\t\tappend(div2, div1);\n    \t\t\tappend(div1, span0);\n    \t\t\tappend(span0, t1);\n    \t\t\tappend(div1, t2);\n    \t\t\tappend(div1, form);\n    \t\t\tappend(form, label_1);\n    \t\t\tappend(label_1, input);\n    \t\t\t/*input_binding*/ ctx[11](input);\n    \t\t\tset_input_value(input, /*text*/ ctx[1]);\n    \t\t\tappend(label_1, t3);\n    \t\t\tappend(label_1, span2);\n    \t\t\tappend(span2, span1);\n    \t\t\tappend(span1, t4);\n    \t\t\tappend(span2, t5);\n    \t\t\tif (if_block) if_block.m(span2, null);\n    \t\t\tappend(form, t6);\n    \t\t\tappend(form, button0);\n    \t\t\tappend(form, t8);\n    \t\t\tappend(form, button1);\n\n    \t\t\tdispose = [\n    \t\t\t\tlisten(div0, \"click\", /*cancel*/ ctx[7]),\n    \t\t\t\tlisten(input, \"keyup\", /*hideError*/ ctx[8]),\n    \t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[12]),\n    \t\t\t\tlisten(button1, \"click\", /*cancel*/ ctx[7]),\n    \t\t\t\tlisten(form, \"submit\", prevent_default(/*submit_handler*/ ctx[13]))\n    \t\t\t];\n    \t\t},\n    \t\tp(ctx, [dirty]) {\n    \t\t\tif (dirty & /*title*/ 8) set_data(t1, /*title*/ ctx[3]);\n\n    \t\t\tif (dirty & /*text*/ 2 && input.value !== /*text*/ ctx[1]) {\n    \t\t\t\tset_input_value(input, /*text*/ ctx[1]);\n    \t\t\t}\n\n    \t\t\tif (dirty & /*label*/ 16) set_data(t4, /*label*/ ctx[4]);\n\n    \t\t\tif (/*error*/ ctx[2]) {\n    \t\t\t\tif (!if_block) {\n    \t\t\t\t\tif_block = create_if_block();\n    \t\t\t\t\tif_block.c();\n    \t\t\t\t\tif_block.m(span2, null);\n    \t\t\t\t}\n    \t\t\t} else if (if_block) {\n    \t\t\t\tif_block.d(1);\n    \t\t\t\tif_block = null;\n    \t\t\t}\n\n    \t\t\tif (dirty & /*error*/ 4) {\n    \t\t\t\ttoggle_class(label_1, \"input-error\", /*error*/ ctx[2]);\n    \t\t\t}\n\n    \t\t\tif (dirty & /*show*/ 1) {\n    \t\t\t\tset_style(div3, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t\t}\n    \t\t},\n    \t\ti: noop,\n    \t\to: noop,\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(div3);\n    \t\t\t/*input_binding*/ ctx[11](null);\n    \t\t\tif (if_block) if_block.d();\n    \t\t\trun_all(dispose);\n    \t\t}\n    \t};\n    }\n\n    function instance($$self, $$props, $$invalidate) {\n    \tlet dispatcher = new createEventDispatcher();\n    \tlet { show = false } = $$props;\n    \tlet { text = \"\" } = $$props;\n    \tlet { event = \"\" } = $$props;\n    \tlet { title = \"\" } = $$props;\n    \tlet { label = \"\" } = $$props;\n    \tlet { error = false } = $$props;\n    \tlet refs = {};\n\n    \tfunction confirm() {\n    \t\tif (text) {\n    \t\t\tconsole.log(\"dispatcher\", text, event);\n    \t\t\tdispatcher(event, text);\n    \t\t\tcancel();\n    \t\t} else {\n    \t\t\t$$invalidate(2, error = true);\n    \t\t\trefs.text.focus();\n    \t\t}\n    \t}\n\n    \tfunction cancel() {\n    \t\t$$invalidate(0, show = false);\n    \t\t$$invalidate(1, text = \"\");\n    \t\t$$invalidate(2, error = false);\n    \t}\n\n    \tfunction hideError() {\n    \t\t$$invalidate(2, error = false);\n    \t}\n\n    \tfunction input_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\trefs.text = $$value;\n    \t\t\t$$invalidate(5, refs);\n    \t\t});\n    \t}\n\n    \tfunction input_input_handler() {\n    \t\ttext = this.value;\n    \t\t$$invalidate(1, text);\n    \t}\n\n    \tconst submit_handler = event => confirm();\n\n    \t$$self.$set = $$props => {\n    \t\tif (\"show\" in $$props) $$invalidate(0, show = $$props.show);\n    \t\tif (\"text\" in $$props) $$invalidate(1, text = $$props.text);\n    \t\tif (\"event\" in $$props) $$invalidate(9, event = $$props.event);\n    \t\tif (\"title\" in $$props) $$invalidate(3, title = $$props.title);\n    \t\tif (\"label\" in $$props) $$invalidate(4, label = $$props.label);\n    \t\tif (\"error\" in $$props) $$invalidate(2, error = $$props.error);\n    \t};\n\n    \t$$self.$$.update = () => {\n    \t\tif ($$self.$$.dirty & /*show, refs*/ 33) {\n    \t\t\t {\n    \t\t\t\tif (show) {\n    \t\t\t\t\tsetTimeout(() => {\n    \t\t\t\t\t\trefs.text.focus();\n    \t\t\t\t\t});\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t};\n\n    \treturn [\n    \t\tshow,\n    \t\ttext,\n    \t\terror,\n    \t\ttitle,\n    \t\tlabel,\n    \t\trefs,\n    \t\tconfirm,\n    \t\tcancel,\n    \t\thideError,\n    \t\tevent,\n    \t\tdispatcher,\n    \t\tinput_binding,\n    \t\tinput_input_handler,\n    \t\tsubmit_handler\n    \t];\n    }\n\n    class EditorModal extends SvelteComponent {\n    \tconstructor(options) {\n    \t\tsuper();\n    \t\tif (!document.getElementById(\"svelte-1d1bzev-style\")) add_css();\n\n    \t\tinit(this, options, instance, create_fragment, safe_not_equal, {\n    \t\t\tshow: 0,\n    \t\t\ttext: 1,\n    \t\t\tevent: 9,\n    \t\t\ttitle: 3,\n    \t\t\tlabel: 4,\n    \t\t\terror: 2\n    \t\t});\n    \t}\n\n    \tget show() {\n    \t\treturn this.$$.ctx[0];\n    \t}\n\n    \tset show(show) {\n    \t\tthis.$set({ show });\n    \t\tflush();\n    \t}\n\n    \tget text() {\n    \t\treturn this.$$.ctx[1];\n    \t}\n\n    \tset text(text) {\n    \t\tthis.$set({ text });\n    \t\tflush();\n    \t}\n\n    \tget event() {\n    \t\treturn this.$$.ctx[9];\n    \t}\n\n    \tset event(event) {\n    \t\tthis.$set({ event });\n    \t\tflush();\n    \t}\n\n    \tget title() {\n    \t\treturn this.$$.ctx[3];\n    \t}\n\n    \tset title(title) {\n    \t\tthis.$set({ title });\n    \t\tflush();\n    \t}\n\n    \tget label() {\n    \t\treturn this.$$.ctx[4];\n    \t}\n\n    \tset label(label) {\n    \t\tthis.$set({ label });\n    \t\tflush();\n    \t}\n\n    \tget error() {\n    \t\treturn this.$$.ctx[2];\n    \t}\n\n    \tset error(error) {\n    \t\tthis.$set({ error });\n    \t\tflush();\n    \t}\n    }\n\n    /* src/helpers/EditorColorPicker.svelte generated by Svelte v3.18.2 */\n\n    function add_css$1() {\n    \tvar style = element(\"style\");\n    \tstyle.id = \"svelte-njq4pk-style\";\n    \tstyle.textContent = \".color-picker-wrapper.svelte-njq4pk{border:1px solid #ecf0f1;border-top:none;background:#FFF;box-shadow:rgba(0,0,0,.1) 0 2px 3px;width:290px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:0;position:absolute;top:37px;z-index:11}.color-picker-overlay.svelte-njq4pk{position:absolute;background-color:rgba(255,255,255,.5);height:100%;width:100%;left:0;top:0;z-index:10}.color-picker-btn.svelte-njq4pk{display:block;position:relative;float:left;height:20px;width:20px;border:1px solid #333;padding:0;margin:2px;line-height:35px;text-decoration:none;background:#FFF;color:#333!important;cursor:pointer;text-align:left;font-size:15px;transition:all 150ms;line-height:20px;padding:0px 5px}.color-picker-btn.svelte-njq4pk:hover::after{content:\\\" \\\";display:block;position:absolute;top:-5px;left:-5px;height:27px;width:27px;background:inherit;border:1px solid #FFF;box-shadow:#000 0 0 2px;z-index:10}\";\n    \tappend(document.head, style);\n    }\n\n    function get_each_context(ctx, list, i) {\n    \tconst child_ctx = ctx.slice();\n    \tchild_ctx[9] = list[i];\n    \treturn child_ctx;\n    }\n\n    // (4:8) {#each btns as btn}\n    function create_each_block(ctx) {\n    \tlet button;\n    \tlet t_value = (/*btn*/ ctx[9].text || \"\") + \"\";\n    \tlet t;\n    \tlet dispose;\n\n    \tfunction click_handler(...args) {\n    \t\treturn /*click_handler*/ ctx[8](/*btn*/ ctx[9], ...args);\n    \t}\n\n    \treturn {\n    \t\tc() {\n    \t\t\tbutton = element(\"button\");\n    \t\t\tt = text(t_value);\n    \t\t\tattr(button, \"type\", \"button\");\n    \t\t\tattr(button, \"class\", \"color-picker-btn svelte-njq4pk\");\n    \t\t\tset_style(button, \"background-color\", /*btn*/ ctx[9].color);\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, button, anchor);\n    \t\t\tappend(button, t);\n    \t\t\tdispose = listen(button, \"click\", click_handler);\n    \t\t},\n    \t\tp(new_ctx, dirty) {\n    \t\t\tctx = new_ctx;\n    \t\t\tif (dirty & /*btns*/ 2 && t_value !== (t_value = (/*btn*/ ctx[9].text || \"\") + \"\")) set_data(t, t_value);\n\n    \t\t\tif (dirty & /*btns*/ 2) {\n    \t\t\t\tset_style(button, \"background-color\", /*btn*/ ctx[9].color);\n    \t\t\t}\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(button);\n    \t\t\tdispose();\n    \t\t}\n    \t};\n    }\n\n    function create_fragment$1(ctx) {\n    \tlet div2;\n    \tlet div0;\n    \tlet t;\n    \tlet div1;\n    \tlet dispose;\n    \tlet each_value = /*btns*/ ctx[1];\n    \tlet each_blocks = [];\n\n    \tfor (let i = 0; i < each_value.length; i += 1) {\n    \t\teach_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n    \t}\n\n    \treturn {\n    \t\tc() {\n    \t\t\tdiv2 = element(\"div\");\n    \t\t\tdiv0 = element(\"div\");\n    \t\t\tt = space();\n    \t\t\tdiv1 = element(\"div\");\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].c();\n    \t\t\t}\n\n    \t\t\tattr(div0, \"class\", \"color-picker-overlay svelte-njq4pk\");\n    \t\t\tattr(div1, \"class\", \"color-picker-wrapper svelte-njq4pk\");\n    \t\t\tset_style(div2, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, div2, anchor);\n    \t\t\tappend(div2, div0);\n    \t\t\tappend(div2, t);\n    \t\t\tappend(div2, div1);\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].m(div1, null);\n    \t\t\t}\n\n    \t\t\tdispose = listen(div0, \"click\", /*close*/ ctx[2]);\n    \t\t},\n    \t\tp(ctx, [dirty]) {\n    \t\t\tif (dirty & /*btns, selectColor*/ 10) {\n    \t\t\t\teach_value = /*btns*/ ctx[1];\n    \t\t\t\tlet i;\n\n    \t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n    \t\t\t\t\tconst child_ctx = get_each_context(ctx, each_value, i);\n\n    \t\t\t\t\tif (each_blocks[i]) {\n    \t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n    \t\t\t\t\t} else {\n    \t\t\t\t\t\teach_blocks[i] = create_each_block(child_ctx);\n    \t\t\t\t\t\teach_blocks[i].c();\n    \t\t\t\t\t\teach_blocks[i].m(div1, null);\n    \t\t\t\t\t}\n    \t\t\t\t}\n\n    \t\t\t\tfor (; i < each_blocks.length; i += 1) {\n    \t\t\t\t\teach_blocks[i].d(1);\n    \t\t\t\t}\n\n    \t\t\t\teach_blocks.length = each_value.length;\n    \t\t\t}\n\n    \t\t\tif (dirty & /*show*/ 1) {\n    \t\t\t\tset_style(div2, \"display\", /*show*/ ctx[0] ? \"block\" : \"none\");\n    \t\t\t}\n    \t\t},\n    \t\ti: noop,\n    \t\to: noop,\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(div2);\n    \t\t\tdestroy_each(each_blocks, detaching);\n    \t\t\tdispose();\n    \t\t}\n    \t};\n    }\n\n    function instance$1($$self, $$props, $$invalidate) {\n    \tlet dispatcher = new createEventDispatcher();\n\n    \tconst colors = [\n    \t\t\"ffffff\",\n    \t\t\"000000\",\n    \t\t\"eeece1\",\n    \t\t\"1f497d\",\n    \t\t\"4f81bd\",\n    \t\t\"c0504d\",\n    \t\t\"9bbb59\",\n    \t\t\"8064a2\",\n    \t\t\"4bacc6\",\n    \t\t\"f79646\",\n    \t\t\"ffff00\",\n    \t\t\"f2f2f2\",\n    \t\t\"7f7f7f\",\n    \t\t\"ddd9c3\",\n    \t\t\"c6d9f0\",\n    \t\t\"dbe5f1\",\n    \t\t\"f2dcdb\",\n    \t\t\"ebf1dd\",\n    \t\t\"e5e0ec\",\n    \t\t\"dbeef3\",\n    \t\t\"fdeada\",\n    \t\t\"fff2ca\",\n    \t\t\"d8d8d8\",\n    \t\t\"595959\",\n    \t\t\"c4bd97\",\n    \t\t\"8db3e2\",\n    \t\t\"b8cce4\",\n    \t\t\"e5b9b7\",\n    \t\t\"d7e3bc\",\n    \t\t\"ccc1d9\",\n    \t\t\"b7dde8\",\n    \t\t\"fbd5b5\",\n    \t\t\"ffe694\",\n    \t\t\"bfbfbf\",\n    \t\t\"3f3f3f\",\n    \t\t\"938953\",\n    \t\t\"548dd4\",\n    \t\t\"95b3d7\",\n    \t\t\"d99694\",\n    \t\t\"c3d69b\",\n    \t\t\"b2a2c7\",\n    \t\t\"b7dde8\",\n    \t\t\"fac08f\",\n    \t\t\"f2c314\",\n    \t\t\"a5a5a5\",\n    \t\t\"262626\",\n    \t\t\"494429\",\n    \t\t\"17365d\",\n    \t\t\"366092\",\n    \t\t\"953734\",\n    \t\t\"76923c\",\n    \t\t\"5f497a\",\n    \t\t\"92cddc\",\n    \t\t\"e36c09\",\n    \t\t\"c09100\",\n    \t\t\"7f7f7f\",\n    \t\t\"0c0c0c\",\n    \t\t\"1d1b10\",\n    \t\t\"0f243e\",\n    \t\t\"244061\",\n    \t\t\"632423\",\n    \t\t\"4f6128\",\n    \t\t\"3f3151\",\n    \t\t\"31859b\",\n    \t\t\"974806\",\n    \t\t\"7f6000\"\n    \t];\n\n    \tconst getBtns = () => {\n    \t\tconst btns = colors.map(color => ({ color: `#${color}` }));\n    \t\tbtns.push({ text: \"#\", modal: true });\n    \t\treturn btns;\n    \t};\n\n    \tlet { show = false } = $$props;\n    \tlet { btns = [] } = $$props;\n    \tlet { event = \"\" } = $$props;\n\n    \tonMount(() => {\n    \t\t$$invalidate(1, btns = getBtns());\n    \t});\n\n    \tfunction close() {\n    \t\t$$invalidate(0, show = false);\n    \t}\n\n    \tfunction selectColor(btn) {\n    \t\tdispatcher(event, btn);\n    \t\tclose();\n    \t}\n\n    \tconst click_handler = (btn, event) => selectColor(btn);\n\n    \t$$self.$set = $$props => {\n    \t\tif (\"show\" in $$props) $$invalidate(0, show = $$props.show);\n    \t\tif (\"btns\" in $$props) $$invalidate(1, btns = $$props.btns);\n    \t\tif (\"event\" in $$props) $$invalidate(4, event = $$props.event);\n    \t};\n\n    \treturn [\n    \t\tshow,\n    \t\tbtns,\n    \t\tclose,\n    \t\tselectColor,\n    \t\tevent,\n    \t\tdispatcher,\n    \t\tcolors,\n    \t\tgetBtns,\n    \t\tclick_handler\n    \t];\n    }\n\n    class EditorColorPicker extends SvelteComponent {\n    \tconstructor(options) {\n    \t\tsuper();\n    \t\tif (!document.getElementById(\"svelte-njq4pk-style\")) add_css$1();\n    \t\tinit(this, options, instance$1, create_fragment$1, safe_not_equal, { show: 0, btns: 1, event: 4 });\n    \t}\n    }\n\n    const state = (function(name ){\n\n        let state = {\n            actionBtns: [],\n            actionObj: {}\n        };\n\n        const { subscribe, set, update } = writable(state);\n\n        return {\n            name,\n            set,\n            update,\n            subscribe\n        }\n    });\n\n    const createStateStore = state;\n\n    /* src/Editor.svelte generated by Svelte v3.18.2 */\n\n    const { document: document_1 } = globals;\n\n    function add_css$2() {\n    \tvar style = element(\"style\");\n    \tstyle.id = \"svelte-1a534py-style\";\n    \tstyle.textContent = \".cl.svelte-1a534py .svelte-1a534py{box-sizing:border-box}.cl.svelte-1a534py.svelte-1a534py{box-shadow:0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);box-sizing:border-box;width:100%;position:relative}.cl-content.svelte-1a534py.svelte-1a534py{height:300px;outline:0;overflow-y:auto;padding:10px;width:100%;background-color:white}.cl-actionbar.svelte-1a534py.svelte-1a534py{background-color:#ecf0f1;border-bottom:1px solid rgba(10, 10, 10, 0.1);width:100%}.cl-button.svelte-1a534py.svelte-1a534py{background-color:transparent;border:none;cursor:pointer;height:35px;outline:0;width:35px;vertical-align:top;position:relative}.cl-button.svelte-1a534py.svelte-1a534py:hover,.cl-button.active.svelte-1a534py.svelte-1a534py{background-color:#fff}.cl-button.svelte-1a534py.svelte-1a534py:disabled{opacity:.5;pointer-events:none}.cl-textarea.svelte-1a534py.svelte-1a534py{display:none;max-width:100%;min-width:100%;border:none;padding:10px}.cl-textarea.svelte-1a534py.svelte-1a534py:focus{outline:none}\";\n    \tappend(document_1.head, style);\n    }\n\n    function get_each_context$1(ctx, list, i) {\n    \tconst child_ctx = ctx.slice();\n    \tchild_ctx[35] = list[i];\n    \treturn child_ctx;\n    }\n\n    // (8:4) {#each $state.actionBtns as action}\n    function create_each_block$1(ctx) {\n    \tlet button;\n    \tlet html_tag;\n    \tlet raw_value = /*action*/ ctx[35].icon + \"\";\n    \tlet t;\n    \tlet button_class_value;\n    \tlet button_title_value;\n    \tlet button_disabled_value;\n    \tlet dispose;\n\n    \tfunction click_handler_1(...args) {\n    \t\treturn /*click_handler_1*/ ctx[25](/*action*/ ctx[35], ...args);\n    \t}\n\n    \treturn {\n    \t\tc() {\n    \t\t\tbutton = element(\"button\");\n    \t\t\tt = space();\n    \t\t\thtml_tag = new HtmlTag(raw_value, t);\n    \t\t\tattr(button, \"class\", button_class_value = \"cl-button \" + (/*action*/ ctx[35].active ? \"active\" : \"\") + \" svelte-1a534py\");\n    \t\t\tattr(button, \"title\", button_title_value = /*action*/ ctx[35].title);\n    \t\t\tbutton.disabled = button_disabled_value = /*action*/ ctx[35].disabled;\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, button, anchor);\n    \t\t\thtml_tag.m(button);\n    \t\t\tappend(button, t);\n    \t\t\tdispose = listen(button, \"click\", click_handler_1);\n    \t\t},\n    \t\tp(new_ctx, dirty) {\n    \t\t\tctx = new_ctx;\n    \t\t\tif (dirty[0] & /*$state*/ 2 && raw_value !== (raw_value = /*action*/ ctx[35].icon + \"\")) html_tag.p(raw_value);\n\n    \t\t\tif (dirty[0] & /*$state*/ 2 && button_class_value !== (button_class_value = \"cl-button \" + (/*action*/ ctx[35].active ? \"active\" : \"\") + \" svelte-1a534py\")) {\n    \t\t\t\tattr(button, \"class\", button_class_value);\n    \t\t\t}\n\n    \t\t\tif (dirty[0] & /*$state*/ 2 && button_title_value !== (button_title_value = /*action*/ ctx[35].title)) {\n    \t\t\t\tattr(button, \"title\", button_title_value);\n    \t\t\t}\n\n    \t\t\tif (dirty[0] & /*$state*/ 2 && button_disabled_value !== (button_disabled_value = /*action*/ ctx[35].disabled)) {\n    \t\t\t\tbutton.disabled = button_disabled_value;\n    \t\t\t}\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(button);\n    \t\t\tdispose();\n    \t\t}\n    \t};\n    }\n\n    function create_fragment$2(ctx) {\n    \tlet div2;\n    \tlet div0;\n    \tlet t0;\n    \tlet div1;\n    \tlet t1;\n    \tlet textarea;\n    \tlet t2;\n    \tlet t3;\n    \tlet current;\n    \tlet dispose;\n    \tlet each_value = /*$state*/ ctx[1].actionBtns;\n    \tlet each_blocks = [];\n\n    \tfor (let i = 0; i < each_value.length; i += 1) {\n    \t\teach_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n    \t}\n\n    \tlet editormodal_props = {};\n    \tconst editormodal = new EditorModal({ props: editormodal_props });\n    \t/*editormodal_binding*/ ctx[32](editormodal);\n    \tlet editorcolorpicker_props = {};\n    \tconst editorcolorpicker = new EditorColorPicker({ props: editorcolorpicker_props });\n    \t/*editorcolorpicker_binding*/ ctx[33](editorcolorpicker);\n\n    \treturn {\n    \t\tc() {\n    \t\t\tdiv2 = element(\"div\");\n    \t\t\tdiv0 = element(\"div\");\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].c();\n    \t\t\t}\n\n    \t\t\tt0 = space();\n    \t\t\tdiv1 = element(\"div\");\n    \t\t\tt1 = space();\n    \t\t\ttextarea = element(\"textarea\");\n    \t\t\tt2 = space();\n    \t\t\tcreate_component(editormodal.$$.fragment);\n    \t\t\tt3 = space();\n    \t\t\tcreate_component(editorcolorpicker.$$.fragment);\n    \t\t\tattr(div0, \"class\", \"cl-actionbar svelte-1a534py\");\n    \t\t\tattr(div1, \"class\", \"cl-content svelte-1a534py\");\n    \t\t\tset_style(div1, \"height\", /*height*/ ctx[0]);\n    \t\t\tattr(div1, \"contenteditable\", \"true\");\n    \t\t\tattr(textarea, \"class\", \"cl-textarea svelte-1a534py\");\n    \t\t\tset_style(textarea, \"max-height\", /*height*/ ctx[0]);\n    \t\t\tset_style(textarea, \"min-height\", /*height*/ ctx[0]);\n    \t\t\tattr(div2, \"class\", \"cl svelte-1a534py\");\n    \t\t},\n    \t\tm(target, anchor) {\n    \t\t\tinsert(target, div2, anchor);\n    \t\t\tappend(div2, div0);\n\n    \t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n    \t\t\t\teach_blocks[i].m(div0, null);\n    \t\t\t}\n\n    \t\t\tappend(div2, t0);\n    \t\t\tappend(div2, div1);\n    \t\t\t/*div1_binding*/ ctx[26](div1);\n    \t\t\tappend(div2, t1);\n    \t\t\tappend(div2, textarea);\n    \t\t\t/*textarea_binding*/ ctx[31](textarea);\n    \t\t\tappend(div2, t2);\n    \t\t\tmount_component(editormodal, div2, null);\n    \t\t\tappend(div2, t3);\n    \t\t\tmount_component(editorcolorpicker, div2, null);\n    \t\t\t/*div2_binding*/ ctx[34](div2);\n    \t\t\tcurrent = true;\n\n    \t\t\tdispose = [\n    \t\t\t\tlisten(window, \"click\", /*click_handler*/ ctx[24]),\n    \t\t\t\tlisten(div1, \"input\", /*input_handler*/ ctx[27]),\n    \t\t\t\tlisten(div1, \"mouseup\", /*mouseup_handler*/ ctx[28]),\n    \t\t\t\tlisten(div1, \"keyup\", /*keyup_handler*/ ctx[29]),\n    \t\t\t\tlisten(div1, \"paste\", /*paste_handler*/ ctx[30])\n    \t\t\t];\n    \t\t},\n    \t\tp(ctx, dirty) {\n    \t\t\tif (dirty[0] & /*$state, _btnClicked*/ 66) {\n    \t\t\t\teach_value = /*$state*/ ctx[1].actionBtns;\n    \t\t\t\tlet i;\n\n    \t\t\t\tfor (i = 0; i < each_value.length; i += 1) {\n    \t\t\t\t\tconst child_ctx = get_each_context$1(ctx, each_value, i);\n\n    \t\t\t\t\tif (each_blocks[i]) {\n    \t\t\t\t\t\teach_blocks[i].p(child_ctx, dirty);\n    \t\t\t\t\t} else {\n    \t\t\t\t\t\teach_blocks[i] = create_each_block$1(child_ctx);\n    \t\t\t\t\t\teach_blocks[i].c();\n    \t\t\t\t\t\teach_blocks[i].m(div0, null);\n    \t\t\t\t\t}\n    \t\t\t\t}\n\n    \t\t\t\tfor (; i < each_blocks.length; i += 1) {\n    \t\t\t\t\teach_blocks[i].d(1);\n    \t\t\t\t}\n\n    \t\t\t\teach_blocks.length = each_value.length;\n    \t\t\t}\n\n    \t\t\tif (!current || dirty[0] & /*height*/ 1) {\n    \t\t\t\tset_style(div1, \"height\", /*height*/ ctx[0]);\n    \t\t\t}\n\n    \t\t\tif (!current || dirty[0] & /*height*/ 1) {\n    \t\t\t\tset_style(textarea, \"max-height\", /*height*/ ctx[0]);\n    \t\t\t}\n\n    \t\t\tif (!current || dirty[0] & /*height*/ 1) {\n    \t\t\t\tset_style(textarea, \"min-height\", /*height*/ ctx[0]);\n    \t\t\t}\n\n    \t\t\tconst editormodal_changes = {};\n    \t\t\teditormodal.$set(editormodal_changes);\n    \t\t\tconst editorcolorpicker_changes = {};\n    \t\t\teditorcolorpicker.$set(editorcolorpicker_changes);\n    \t\t},\n    \t\ti(local) {\n    \t\t\tif (current) return;\n    \t\t\ttransition_in(editormodal.$$.fragment, local);\n    \t\t\ttransition_in(editorcolorpicker.$$.fragment, local);\n    \t\t\tcurrent = true;\n    \t\t},\n    \t\to(local) {\n    \t\t\ttransition_out(editormodal.$$.fragment, local);\n    \t\t\ttransition_out(editorcolorpicker.$$.fragment, local);\n    \t\t\tcurrent = false;\n    \t\t},\n    \t\td(detaching) {\n    \t\t\tif (detaching) detach(div2);\n    \t\t\tdestroy_each(each_blocks, detaching);\n    \t\t\t/*div1_binding*/ ctx[26](null);\n    \t\t\t/*textarea_binding*/ ctx[31](null);\n    \t\t\t/*editormodal_binding*/ ctx[32](null);\n    \t\t\tdestroy_component(editormodal);\n    \t\t\t/*editorcolorpicker_binding*/ ctx[33](null);\n    \t\t\tdestroy_component(editorcolorpicker);\n    \t\t\t/*div2_binding*/ ctx[34](null);\n    \t\t\trun_all(dispose);\n    \t\t}\n    \t};\n    }\n\n    const editors = [];\n\n    function _onPaste(event) {\n    \tevent.preventDefault();\n\n    \texec$1(\"insertHTML\", event.clipboardData.getData(\"text/html\")\n    \t? cleanHtml(event.clipboardData.getData(\"text/html\"))\n    \t: event.clipboardData.getData(\"text\"));\n    }\n\n    function exec$1(cmd, value) {\n    \texec(cmd, value);\n    }\n\n    function instance$2($$self, $$props, $$invalidate) {\n    \tlet $state;\n    \tlet $references;\n    \tlet $helper;\n    \tlet dispatcher = new createEventDispatcher();\n    \tlet { actions = [] } = $$props;\n    \tlet { height = \"300px\" } = $$props;\n    \tlet { html = \"\" } = $$props;\n    \tlet { removeFormatTags = [\"h1\", \"h2\", \"blockquote\"] } = $$props;\n\n    \tlet helper = writable({\n    \t\tforeColor: false,\n    \t\tbackColor: false,\n    \t\tforeColorModal: false,\n    \t\tbackColorModal: false,\n    \t\timage: false,\n    \t\tlink: false,\n    \t\tshowEditor: true,\n    \t\tblurActive: false\n    \t});\n\n    \tcomponent_subscribe($$self, helper, value => $$invalidate(20, $helper = value));\n    \teditors.push({});\n    \tlet contextKey = \"editor_\" + editors.length;\n    \tlet state = createStateStore(contextKey);\n    \tcomponent_subscribe($$self, state, value => $$invalidate(1, $state = value));\n    \tlet references = writable({});\n    \tcomponent_subscribe($$self, references, value => $$invalidate(2, $references = value));\n    \tset_store_value(state, $state.actionObj = getNewActionObj(defaultActions, actions), $state);\n\n    \tlet context = {\n    \t\texec: exec$1,\n    \t\tgetHtml,\n    \t\tgetText,\n    \t\tsetHtml,\n    \t\tsaveRange: saveRange$1,\n    \t\trestoreRange: restoreRange$1,\n    \t\thelper,\n    \t\treferences,\n    \t\tstate,\n    \t\tremoveFormatTags\n    \t};\n\n    \tsetContext(contextKey, context);\n\n    \tonMount(() => {\n    \t\tset_store_value(state, $state.actionBtns = getActionBtns($state.actionObj), $state);\n    \t\tsetHtml(html);\n    \t});\n\n    \tfunction _btnClicked(action) {\n    \t\t$references.editor.focus();\n    \t\tsaveRange$1($references.editor);\n    \t\trestoreRange$1($references.editor);\n    \t\taction.result.call(context);\n    \t\t_handleButtonStatus();\n    \t}\n\n    \tfunction _handleButtonStatus(clearBtns) {\n    \t\tconst tags = clearBtns\n    \t\t? []\n    \t\t: getTagsRecursive(document.getSelection().focusNode);\n\n    \t\tObject.keys($state.actionObj).forEach(action => set_store_value(state, $state.actionObj[action].active = false, $state));\n    \t\ttags.forEach(tag => ($state.actionObj[tag.toLowerCase()] || {}).active = true);\n    \t\tset_store_value(state, $state.actionBtns = getActionBtns($state.actionObj), $state);\n    \t\tstate.set($state);\n    \t}\n\n    \tfunction _onChange(html) {\n    \t\tdispatcher(\"change\", html);\n    \t}\n\n    \tfunction _documentClick(event) {\n    \t\tif (!isEditorClick(event.target, $references.editorWrapper) && $helper.blurActive) {\n    \t\t\tdispatcher(\"blur\", event);\n    \t\t}\n\n    \t\tset_store_value(helper, $helper.blurActive = true, $helper);\n    \t}\n\n    \t\n\n    \tfunction getHtml(sanitize) {\n    \t\treturn sanitize\n    \t\t? removeBadTags($references.editor.innerHTML)\n    \t\t: $references.editor.innerHTML;\n    \t}\n\n    \tfunction getText() {\n    \t\treturn $references.editor.innerText;\n    \t}\n\n    \tfunction setHtml(html, sanitize) {\n    \t\tset_store_value(references, $references.editor.innerHTML = sanitize ? removeBadTags(html) : html || \"\", $references);\n    \t}\n\n    \tfunction saveRange$1() {\n    \t\tsaveRange($references.editor);\n    \t}\n\n    \tfunction restoreRange$1() {\n    \t\trestoreRange($references.editor);\n    \t}\n\n    \tconst refs = $references;\n    \tconst click_handler = event => _documentClick(event);\n    \tconst click_handler_1 = (action, event) => _btnClicked(action);\n\n    \tfunction div1_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.editor = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tconst input_handler = event => _onChange(event.target.innerHTML);\n    \tconst mouseup_handler = () => _handleButtonStatus();\n    \tconst keyup_handler = () => _handleButtonStatus();\n    \tconst paste_handler = event => _onPaste(event);\n\n    \tfunction textarea_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.raw = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tfunction editormodal_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.modal = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tfunction editorcolorpicker_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.colorPicker = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \tfunction div2_binding($$value) {\n    \t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n    \t\t\t$references.editorWrapper = $$value;\n    \t\t\treferences.set($references);\n    \t\t});\n    \t}\n\n    \t$$self.$set = $$props => {\n    \t\tif (\"actions\" in $$props) $$invalidate(10, actions = $$props.actions);\n    \t\tif (\"height\" in $$props) $$invalidate(0, height = $$props.height);\n    \t\tif (\"html\" in $$props) $$invalidate(11, html = $$props.html);\n    \t\tif (\"removeFormatTags\" in $$props) $$invalidate(12, removeFormatTags = $$props.removeFormatTags);\n    \t};\n\n    \treturn [\n    \t\theight,\n    \t\t$state,\n    \t\t$references,\n    \t\thelper,\n    \t\tstate,\n    \t\treferences,\n    \t\t_btnClicked,\n    \t\t_handleButtonStatus,\n    \t\t_onChange,\n    \t\t_documentClick,\n    \t\tactions,\n    \t\thtml,\n    \t\tremoveFormatTags,\n    \t\texec$1,\n    \t\tgetHtml,\n    \t\tgetText,\n    \t\tsetHtml,\n    \t\tsaveRange$1,\n    \t\trestoreRange$1,\n    \t\trefs,\n    \t\t$helper,\n    \t\tdispatcher,\n    \t\tcontextKey,\n    \t\tcontext,\n    \t\tclick_handler,\n    \t\tclick_handler_1,\n    \t\tdiv1_binding,\n    \t\tinput_handler,\n    \t\tmouseup_handler,\n    \t\tkeyup_handler,\n    \t\tpaste_handler,\n    \t\ttextarea_binding,\n    \t\teditormodal_binding,\n    \t\teditorcolorpicker_binding,\n    \t\tdiv2_binding\n    \t];\n    }\n\n    class Editor extends SvelteComponent {\n    \tconstructor(options) {\n    \t\tsuper();\n    \t\tif (!document_1.getElementById(\"svelte-1a534py-style\")) add_css$2();\n\n    \t\tinit(\n    \t\t\tthis,\n    \t\t\toptions,\n    \t\t\tinstance$2,\n    \t\t\tcreate_fragment$2,\n    \t\t\tsafe_not_equal,\n    \t\t\t{\n    \t\t\t\tactions: 10,\n    \t\t\t\theight: 0,\n    \t\t\t\thtml: 11,\n    \t\t\t\tremoveFormatTags: 12,\n    \t\t\t\texec: 13,\n    \t\t\t\tgetHtml: 14,\n    \t\t\t\tgetText: 15,\n    \t\t\t\tsetHtml: 16,\n    \t\t\t\tsaveRange: 17,\n    \t\t\t\trestoreRange: 18,\n    \t\t\t\trefs: 19\n    \t\t\t},\n    \t\t\t[-1, -1]\n    \t\t);\n    \t}\n\n    \tget actions() {\n    \t\treturn this.$$.ctx[10];\n    \t}\n\n    \tset actions(actions) {\n    \t\tthis.$set({ actions });\n    \t\tflush();\n    \t}\n\n    \tget height() {\n    \t\treturn this.$$.ctx[0];\n    \t}\n\n    \tset height(height) {\n    \t\tthis.$set({ height });\n    \t\tflush();\n    \t}\n\n    \tget html() {\n    \t\treturn this.$$.ctx[11];\n    \t}\n\n    \tset html(html) {\n    \t\tthis.$set({ html });\n    \t\tflush();\n    \t}\n\n    \tget removeFormatTags() {\n    \t\treturn this.$$.ctx[12];\n    \t}\n\n    \tset removeFormatTags(removeFormatTags) {\n    \t\tthis.$set({ removeFormatTags });\n    \t\tflush();\n    \t}\n\n    \tget exec() {\n    \t\treturn exec$1;\n    \t}\n\n    \tget getHtml() {\n    \t\treturn this.$$.ctx[14];\n    \t}\n\n    \tget getText() {\n    \t\treturn this.$$.ctx[15];\n    \t}\n\n    \tget setHtml() {\n    \t\treturn this.$$.ctx[16];\n    \t}\n\n    \tget saveRange() {\n    \t\treturn this.$$.ctx[17];\n    \t}\n\n    \tget restoreRange() {\n    \t\treturn this.$$.ctx[18];\n    \t}\n\n    \tget refs() {\n    \t\treturn this.$$.ctx[19];\n    \t}\n    }\n\n    return Editor;\n\n})));\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Editor from \"cl-editor/dist\";\n  import { onMount } from \"svelte\";\n\n  let editArea;\n  let editor;\n\n  export let value;\n\n  let content;\n\n  $: {\n    content = value.value;\n    if (editor) {\n      if (editor.getHtml() !== content) {\n        editor.setHtml(content)\n      }\n    }\n  }\n  onMount(() => {\n    editor = new Editor({\n      target: editArea,\n      props: {\n        actions: ['b', 'i', 'u', 'strike', 'removeFormat'],\n        height: 'auto',\n        html: content\n      }\n    });\n    editor.$on(\"change\", (e) => {\n      value = Factory.literal(\n        editor.getHtml(),\n        \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\"\n      );\n    });\n  });\n</script>\n\n<div bind:this={editArea} />\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  export let value;\n  let content;\n  $: content = value.value;\n  function userChange(e) {\n    value = Factory.blankNode(content);\n  }\n</script>\n\n<div>\n  <input type=\"text\" size=\"5\" bind:value={content} on:input={userChange} />\n</div>\n","/**\n * Simple, lightweight, usable local autocomplete library for modern browsers\n * Because there weren’t enough autocomplete scripts in the world? Because I’m completely insane and have NIH syndrome? Probably both. :P\n * @author Lea Verou http://leaverou.github.io/awesomplete\n * MIT license\n */\n\n(function () {\n\nvar _ = function (input, o) {\n\tvar me = this;\n\n    // Keep track of number of instances for unique IDs\n    _.count = (_.count || 0) + 1;\n    this.count = _.count;\n\n\t// Setup\n\n\tthis.isOpened = false;\n\n\tthis.input = $(input);\n\tthis.input.setAttribute(\"autocomplete\", \"off\");\n\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\tthis.input.setAttribute(\"aria-owns\", \"awesomplete_list_\" + this.count);\n\tthis.input.setAttribute(\"role\", \"combobox\");\n\n\t// store constructor options in case we need to distinguish\n\t// between default and customized behavior later on\n\tthis.options = o = o || {};\n\n\tconfigure(this, {\n\t\tminChars: 2,\n\t\tmaxItems: 10,\n\t\tautoFirst: false,\n\t\tdata: _.DATA,\n\t\tfilter: _.FILTER_CONTAINS,\n\t\tsort: o.sort === false ? false : _.SORT_BYLENGTH,\n\t\tcontainer: _.CONTAINER,\n\t\titem: _.ITEM,\n\t\treplace: _.REPLACE,\n\t\ttabSelect: false\n\t}, o);\n\n\tthis.index = -1;\n\n\t// Create necessary elements\n\n\tthis.container = this.container(input);\n\n\tthis.ul = $.create(\"ul\", {\n\t\thidden: \"hidden\",\n        role: \"listbox\",\n        id: \"awesomplete_list_\" + this.count,\n\t\tinside: this.container\n\t});\n\n\tthis.status = $.create(\"span\", {\n\t\tclassName: \"visually-hidden\",\n\t\trole: \"status\",\n\t\t\"aria-live\": \"assertive\",\n        \"aria-atomic\": true,\n        inside: this.container,\n        textContent: this.minChars != 0 ? (\"Type \" + this.minChars + \" or more characters for results.\") : \"Begin typing for results.\"\n\t});\n\n\t// Bind events\n\n\tthis._events = {\n\t\tinput: {\n\t\t\t\"input\": this.evaluate.bind(this),\n\t\t\t\"blur\": this.close.bind(this, { reason: \"blur\" }),\n\t\t\t\"keydown\": function(evt) {\n\t\t\t\tvar c = evt.keyCode;\n\n\t\t\t\t// If the dropdown `ul` is in view, then act on keydown for the following keys:\n\t\t\t\t// Enter / Esc / Up / Down\n\t\t\t\tif(me.opened) {\n\t\t\t\t\tif (c === 13 && me.selected) { // Enter\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 9 && me.selected && me.tabSelect) {\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 27) { // Esc\n\t\t\t\t\t\tme.close({ reason: \"esc\" });\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 38 || c === 40) { // Down/Up arrow\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme[c === 38? \"previous\" : \"next\"]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tform: {\n\t\t\t\"submit\": this.close.bind(this, { reason: \"submit\" })\n\t\t},\n\t\tul: {\n\t\t\t// Prevent the default mousedowm, which ensures the input is not blurred.\n\t\t\t// The actual selection will happen on click. This also ensures dragging the\n\t\t\t// cursor away from the list item will cancel the selection\n\t\t\t\"mousedown\": function(evt) {\n\t\t\t\tevt.preventDefault();\n\t\t\t},\n\t\t\t// The click event is fired even if the corresponding mousedown event has called preventDefault\n\t\t\t\"click\": function(evt) {\n\t\t\t\tvar li = evt.target;\n\n\t\t\t\tif (li !== this) {\n\n\t\t\t\t\twhile (li && !/li/i.test(li.nodeName)) {\n\t\t\t\t\t\tli = li.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (li && evt.button === 0) {  // Only select on left click\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(li, evt.target, evt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.bind(this.input, this._events.input);\n\t$.bind(this.input.form, this._events.form);\n\t$.bind(this.ul, this._events.ul);\n\n\tif (this.input.hasAttribute(\"list\")) {\n\t\tthis.list = \"#\" + this.input.getAttribute(\"list\");\n\t\tthis.input.removeAttribute(\"list\");\n\t}\n\telse {\n\t\tthis.list = this.input.getAttribute(\"data-list\") || o.list || [];\n\t}\n\n\t_.all.push(this);\n};\n\n_.prototype = {\n\tset list(list) {\n\t\tif (Array.isArray(list)) {\n\t\t\tthis._list = list;\n\t\t}\n\t\telse if (typeof list === \"string\" && list.indexOf(\",\") > -1) {\n\t\t\t\tthis._list = list.split(/\\s*,\\s*/);\n\t\t}\n\t\telse { // Element or CSS selector\n\t\t\tlist = $(list);\n\n\t\t\tif (list && list.children) {\n\t\t\t\tvar items = [];\n\t\t\t\tslice.apply(list.children).forEach(function (el) {\n\t\t\t\t\tif (!el.disabled) {\n\t\t\t\t\t\tvar text = el.textContent.trim();\n\t\t\t\t\t\tvar value = el.value || text;\n\t\t\t\t\t\tvar label = el.label || text;\n\t\t\t\t\t\tif (value !== \"\") {\n\t\t\t\t\t\t\titems.push({ label: label, value: value });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis._list = items;\n\t\t\t}\n\t\t}\n\n\t\tif (document.activeElement === this.input) {\n\t\t\tthis.evaluate();\n\t\t}\n\t},\n\n\tget selected() {\n\t\treturn this.index > -1;\n\t},\n\n\tget opened() {\n\t\treturn this.isOpened;\n\t},\n\n\tclose: function (o) {\n\t\tif (!this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\t\tthis.ul.setAttribute(\"hidden\", \"\");\n\t\tthis.isOpened = false;\n\t\tthis.index = -1;\n\n\t\tthis.status.setAttribute(\"hidden\", \"\");\n\n\t\t$.fire(this.input, \"awesomplete-close\", o || {});\n\t},\n\n\topen: function () {\n\t\tthis.input.setAttribute(\"aria-expanded\", \"true\");\n\t\tthis.ul.removeAttribute(\"hidden\");\n\t\tthis.isOpened = true;\n\n\t\tthis.status.removeAttribute(\"hidden\");\n\n\t\tif (this.autoFirst && this.index === -1) {\n\t\t\tthis.goto(0);\n\t\t}\n\n\t\t$.fire(this.input, \"awesomplete-open\");\n\t},\n\n\tdestroy: function() {\n\t\t//remove events from the input and its form\n\t\t$.unbind(this.input, this._events.input);\n\t\t$.unbind(this.input.form, this._events.form);\n\n\t\t// cleanup container if it was created by Awesomplete but leave it alone otherwise\n\t\tif (!this.options.container) {\n\t\t\t//move the input out of the awesomplete container and remove the container and its children\n\t\t\tvar parentNode = this.container.parentNode;\n\n\t\t\tparentNode.insertBefore(this.input, this.container);\n\t\t\tparentNode.removeChild(this.container);\n\t\t}\n\n\t\t//remove autocomplete and aria-autocomplete attributes\n\t\tthis.input.removeAttribute(\"autocomplete\");\n\t\tthis.input.removeAttribute(\"aria-autocomplete\");\n\n\t\t//remove this awesomeplete instance from the global array of instances\n\t\tvar indexOfAwesomplete = _.all.indexOf(this);\n\n\t\tif (indexOfAwesomplete !== -1) {\n\t\t\t_.all.splice(indexOfAwesomplete, 1);\n\t\t}\n\t},\n\n\tnext: function () {\n\t\tvar count = this.ul.children.length;\n\t\tthis.goto(this.index < count - 1 ? this.index + 1 : (count ? 0 : -1) );\n\t},\n\n\tprevious: function () {\n\t\tvar count = this.ul.children.length;\n\t\tvar pos = this.index - 1;\n\n\t\tthis.goto(this.selected && pos !== -1 ? pos : count - 1);\n\t},\n\n\t// Should not be used, highlights specific item without any checks!\n\tgoto: function (i) {\n\t\tvar lis = this.ul.children;\n\n\t\tif (this.selected) {\n\t\t\tlis[this.index].setAttribute(\"aria-selected\", \"false\");\n\t\t}\n\n\t\tthis.index = i;\n\n\t\tif (i > -1 && lis.length > 0) {\n\t\t\tlis[i].setAttribute(\"aria-selected\", \"true\");\n\n\t\t\tthis.status.textContent = lis[i].textContent + \", list item \" + (i + 1) + \" of \" + lis.length;\n\n            this.input.setAttribute(\"aria-activedescendant\", this.ul.id + \"_item_\" + this.index);\n\n\t\t\t// scroll to highlighted element in case parent's height is fixed\n\t\t\tthis.ul.scrollTop = lis[i].offsetTop - this.ul.clientHeight + lis[i].clientHeight;\n\n\t\t\t$.fire(this.input, \"awesomplete-highlight\", {\n\t\t\t\ttext: this.suggestions[this.index]\n\t\t\t});\n\t\t}\n\t},\n\n\tselect: function (selected, origin, originalEvent) {\n\t\tif (selected) {\n\t\t\tthis.index = $.siblingIndex(selected);\n\t\t} else {\n\t\t\tselected = this.ul.children[this.index];\n\t\t}\n\n\t\tif (selected) {\n\t\t\tvar suggestion = this.suggestions[this.index];\n\n\t\t\tvar allowed = $.fire(this.input, \"awesomplete-select\", {\n\t\t\t\ttext: suggestion,\n\t\t\t\torigin: origin || selected,\n\t\t\t\toriginalEvent: originalEvent\n\t\t\t});\n\n\t\t\tif (allowed) {\n\t\t\t\tthis.replace(suggestion);\n\t\t\t\tthis.close({ reason: \"select\" });\n\t\t\t\t$.fire(this.input, \"awesomplete-selectcomplete\", {\n\t\t\t\t\ttext: suggestion,\n\t\t\t\t\toriginalEvent: originalEvent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\tevaluate: function() {\n\t\tvar me = this;\n\t\tvar value = this.input.value;\n\n\t\tif (value.length >= this.minChars && this._list && this._list.length > 0) {\n\t\t\tthis.index = -1;\n\t\t\t// Populate list with options that match\n\t\t\tthis.ul.innerHTML = \"\";\n\n\t\t\tthis.suggestions = this._list\n\t\t\t\t.map(function(item) {\n\t\t\t\t\treturn new Suggestion(me.data(item, value));\n\t\t\t\t})\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn me.filter(item, value);\n\t\t\t\t});\n\n\t\t\tif (this.sort !== false) {\n\t\t\t\tthis.suggestions = this.suggestions.sort(this.sort);\n\t\t\t}\n\n\t\t\tthis.suggestions = this.suggestions.slice(0, this.maxItems);\n\n\t\t\tthis.suggestions.forEach(function(text, index) {\n\t\t\t\t\tme.ul.appendChild(me.item(text, value, index));\n\t\t\t\t});\n\n\t\t\tif (this.ul.children.length === 0) {\n\n                this.status.textContent = \"No results found\";\n\n\t\t\t\tthis.close({ reason: \"nomatches\" });\n\n\t\t\t} else {\n\t\t\t\tthis.open();\n\n                this.status.textContent = this.ul.children.length + \" results found\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.close({ reason: \"nomatches\" });\n\n                this.status.textContent = \"No results found\";\n\t\t}\n\t}\n};\n\n// Static methods/properties\n\n_.all = [];\n\n_.FILTER_CONTAINS = function (text, input) {\n\treturn RegExp($.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.FILTER_STARTSWITH = function (text, input) {\n\treturn RegExp(\"^\" + $.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.SORT_BYLENGTH = function (a, b) {\n\tif (a.length !== b.length) {\n\t\treturn a.length - b.length;\n\t}\n\n\treturn a < b? -1 : 1;\n};\n\n_.CONTAINER = function (input) {\n\treturn $.create(\"div\", {\n\t\tclassName: \"awesomplete\",\n\t\taround: input\n\t});\n}\n\n_.ITEM = function (text, input, item_id) {\n\tvar html = input.trim() === \"\" ? text : text.replace(RegExp($.regExpEscape(input.trim()), \"gi\"), \"<mark>$&</mark>\");\n\treturn $.create(\"li\", {\n\t\tinnerHTML: html,\n\t\t\"role\": \"option\",\n\t\t\"aria-selected\": \"false\",\n\t\t\"id\": \"awesomplete_list_\" + this.count + \"_item_\" + item_id\n\t});\n};\n\n_.REPLACE = function (text) {\n\tthis.input.value = text.value;\n};\n\n_.DATA = function (item/*, input*/) { return item; };\n\n// Private functions\n\nfunction Suggestion(data) {\n\tvar o = Array.isArray(data)\n\t  ? { label: data[0], value: data[1] }\n\t  : typeof data === \"object\" && \"label\" in data && \"value\" in data ? data : { label: data, value: data };\n\n\tthis.label = o.label || o.value;\n\tthis.value = o.value;\n}\nObject.defineProperty(Suggestion.prototype = Object.create(String.prototype), \"length\", {\n\tget: function() { return this.label.length; }\n});\nSuggestion.prototype.toString = Suggestion.prototype.valueOf = function () {\n\treturn \"\" + this.label;\n};\n\nfunction configure(instance, properties, o) {\n\tfor (var i in properties) {\n\t\tvar initial = properties[i],\n\t\t    attrValue = instance.input.getAttribute(\"data-\" + i.toLowerCase());\n\n\t\tif (typeof initial === \"number\") {\n\t\t\tinstance[i] = parseInt(attrValue);\n\t\t}\n\t\telse if (initial === false) { // Boolean options must be false by default anyway\n\t\t\tinstance[i] = attrValue !== null;\n\t\t}\n\t\telse if (initial instanceof Function) {\n\t\t\tinstance[i] = null;\n\t\t}\n\t\telse {\n\t\t\tinstance[i] = attrValue;\n\t\t}\n\n\t\tif (!instance[i] && instance[i] !== 0) {\n\t\t\tinstance[i] = (i in o)? o[i] : initial;\n\t\t}\n\t}\n}\n\n// Helpers\n\nvar slice = Array.prototype.slice;\n\nfunction $(expr, con) {\n\treturn typeof expr === \"string\"? (con || document).querySelector(expr) : expr || null;\n}\n\nfunction $$(expr, con) {\n\treturn slice.call((con || document).querySelectorAll(expr));\n}\n\n$.create = function(tag, o) {\n\tvar element = document.createElement(tag);\n\n\tfor (var i in o) {\n\t\tvar val = o[i];\n\n\t\tif (i === \"inside\") {\n\t\t\t$(val).appendChild(element);\n\t\t}\n\t\telse if (i === \"around\") {\n\t\t\tvar ref = $(val);\n\t\t\tref.parentNode.insertBefore(element, ref);\n\t\t\telement.appendChild(ref);\n\n\t\t\tif (ref.getAttribute(\"autofocus\") != null) {\n\t\t\t\tref.focus();\n\t\t\t}\n\t\t}\n\t\telse if (i in element) {\n\t\t\telement[i] = val;\n\t\t}\n\t\telse {\n\t\t\telement.setAttribute(i, val);\n\t\t}\n\t}\n\n\treturn element;\n};\n\n$.bind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function (event) {\n\t\t\t\telement.addEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.unbind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function(event) {\n\t\t\t\telement.removeEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.fire = function(target, type, properties) {\n\tvar evt = document.createEvent(\"HTMLEvents\");\n\n\tevt.initEvent(type, true, true );\n\n\tfor (var j in properties) {\n\t\tevt[j] = properties[j];\n\t}\n\n\treturn target.dispatchEvent(evt);\n};\n\n$.regExpEscape = function (s) {\n\treturn s.replace(/[-\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\n\n$.siblingIndex = function (el) {\n\t/* eslint-disable no-cond-assign */\n\tfor (var i = 0; el = el.previousElementSibling; i++);\n\treturn i;\n};\n\n// Initialization\n\nfunction init() {\n\t$$(\"input.awesomplete\").forEach(function (input) {\n\t\tnew _(input);\n\t});\n}\n\n// Make sure to export Awesomplete on self when in a browser\nif (typeof self !== \"undefined\") {\n\tself.Awesomplete = _;\n}\n\n// Are we in a browser? Check for Document constructor\nif (typeof Document !== \"undefined\") {\n\t// DOM already loaded?\n\tif (document.readyState !== \"loading\") {\n\t\tinit();\n\t}\n\telse {\n\t\t// Wait for it\n\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t}\n}\n\n_.$ = $;\n_.$$ = $$;\n\n// Expose Awesomplete as a CJS module\nif (typeof module === \"object\" && module.exports) {\n\tmodule.exports = _;\n}\n\nreturn _;\n\n}());\n","var RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: XSD + 'decimal',\n    boolean: XSD + 'boolean',\n    double:  XSD + 'double',\n    integer: XSD + 'integer',\n    string:  XSD + 'string',\n  },\n  rdf: {\n    type:       RDF + 'type',\n    nil:        RDF + 'nil',\n    first:      RDF + 'first',\n    rest:       RDF + 'rest',\n    langString: RDF + 'langString',\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: SWAP + 'reify#forSome',\n    forAll:  SWAP + 'reify#forAll',\n  },\n  log: {\n    implies: SWAP + 'log#implies',\n  },\n};\n","// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nconst { rdf, xsd } = namespaces;\n\nvar DataFactory, DEFAULTGRAPH;\n\nvar _blankNodeCounter = 0;\n\n// ## Term constructor\nclass Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nclass NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nclass Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    var id = this.id, atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    var id = this.id, dtPos = id.lastIndexOf('\"') + 1, ch;\n    // If \"^\" it follows, return the remaining substring\n    return dtPos < id.length && (ch = id[dtPos]) === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (ch !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nclass BlankNode extends Term {\n  constructor(name) {\n    super('_:' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nclass Variable extends Term {\n  constructor(name) {\n    super('?' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nclass DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n\n// ### Constructs a term from the given internal string ID\nfunction fromId(id, factory) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '_': return factory.blankNode(id.substr(2));\n  case '?': return factory.variable(id.substr(1));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    var endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  default:  return factory.namedNode(id);\n  }\n}\n\n// ### Constructs an internal string ID from the given term or ID string\nfunction toId(term) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term)\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return '_:' + term.value;\n  case 'Variable':     return '?' + term.value;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return '\"' + term.value + '\"' +\n    (term.language ? '@' + term.language :\n      (term.datatype && term.datatype.value !== xsd.string ? '^^' + term.datatype.value : ''));\n  default: throw new Error('Unexpected termType: ' + term.termType);\n  }\n}\n\n\n// ## Quad constructor\nclass Quad {\n  constructor(subject, predicate, object, graph) {\n    this.subject   = subject;\n    this.predicate = predicate;\n    this.object    = object;\n    this.graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      subject:   this.subject.toJSON(),\n      predicate: this.predicate.toJSON(),\n      object:    this.object.toJSON(),\n      graph:     this.graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this.subject.equals(other.subject)     &&\n                      this.predicate.equals(other.predicate) &&\n                      this.object.equals(other.object)       &&\n                      this.graph.equals(other.graph);\n  }\n}\n\n\n// ## DataFactory singleton\nDataFactory = {\n  // ### Public factory functions\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n\n  // ### Internal datatype constructors\n  internal: {\n    Term,\n    NamedNode,\n    BlankNode,\n    Variable,\n    Literal,\n    DefaultGraph,\n    Quad,\n    Triple: Quad,\n    fromId,\n    toId,\n  },\n};\nexport default DataFactory;\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal('\"' + value + '\"@' + languageOrDataType.toLowerCase());\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal('\"' + value + '\"') :\n    new Literal('\"' + value + '\"^^' + datatype);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n","// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nconst { xsd } = namespaces;\n\nconst { fromCharCode } = String;\n\n// Regular expression and replacement string to escape N3 strings.\n// Note how we catch invalid unicode sequences separately (they will trigger an error).\nvar escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\[uU]|\\\\(.)/g;\nvar escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nvar illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nvar lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nvar invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._number = /^[\\-+]?(?:\\d+\\.?\\d*([eE](?:[\\-\\+])?\\d+)|\\d*\\.?\\d+)(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s()\\[\\]\\{\\}\"'<])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (var key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    var input = this._input, outputComments = this._comments;\n    while (true) {\n      // Count and skip whitespace lines\n      var whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (outputComments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (outputComments && (comment = this._comment.exec(input)))\n            callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n          callback(input = null, { line: this._line, type: 'eof', value: '', prefix: '' });\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      var line = this._line, type = '', value = '', prefix = '',\n          firstChar = input[0], match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(input + ' ')))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(input + ' '))) {\n          type = 'literal', value = match[0];\n          prefix = (match[1] ? xsd.double :\n                    (/^[+\\-]?\\d+$/.test(match[0]) ? xsd.integer : xsd.decimal));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '{':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(input + ' ')))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      var token = { line: line, type: type, value: value, prefix: prefix };\n      callback(null, token);\n      this.previousToken = token;\n      this._previousMarker = type;\n      // Advance to next part to tokenize\n      input = input.substr(matchLength || match[0].length, input.length);\n    }\n\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    try {\n      return item.replace(escapeSequence, function (sequence, unicode4, unicode8, escapedChar) {\n        var charCode;\n        if (unicode4) {\n          charCode = parseInt(unicode4, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          return fromCharCode(charCode);\n        }\n        else if (unicode8) {\n          charCode = parseInt(unicode8, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          if (charCode <= 0xFFFF) return fromCharCode(charCode);\n          return fromCharCode(0xD800 + ((charCode -= 0x10000) / 0x400), 0xDC00 + (charCode & 0x3FF));\n        }\n        else {\n          var replacement = escapeReplacements[escapedChar];\n          if (!replacement)\n            throw new Error();\n          return replacement;\n        }\n      });\n    }\n    catch (error) { return null; }\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    var err = new Error('Unexpected \"' + issue + '\" on line ' + this._line + '.');\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    var self = this;\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = input;\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        setImmediate(function () { self._tokenizeToEnd(callback, true); });\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        var tokens = [], error;\n        this._tokenizeToEnd(function (e, t) { e ? (error = e) : tokens.push(t); }, true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._input = '';\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', function (data) {\n        if (self._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (self._pendingBuffer) {\n            data = Buffer.concat([self._pendingBuffer, data]);\n            self._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            self._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            self._input += data;\n            self._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', function () {\n        if (self._input !== null)\n          self._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n","// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    var format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = format === 'turtle', isTriG = format === 'trig',\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = function (iri) { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      var fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    var n3Mode = this._n3Mode;\n    this._contextStack.push({\n      subject: subject, predicate: predicate, object: object,\n      graph: graph, type: type,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? this._graph.id.substr(2) + '.' : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext() {\n    var context = this._contextStack.pop(), n3Mode = this._n3Mode;\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    var value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      var iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      var prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error('Undefined prefix \"' + token.prefix + ':\"', token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error('Expected entity but got ' + token.type, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    var type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error('Unexpected ' + type, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error('Expected graph but got ' + token.type, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    var empty = this._predicate === null;\n    this._restoreContext();\n    // If the blank node was the subject, continue reading the predicate\n    if (this._object === null)\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n    // If the blank node was the object, restore previous context and read punctuation\n    else\n      return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    var item = null,                      // The item of the list\n        list = null,                      // The list itself\n        previousList = this._subject,     // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1], // The parent containing the current list\n        next = this._readListItem;        // The next function to execute\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext();\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      var datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext();\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    var next, subject = this._subject, graph = this._graph,\n        inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      var predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    var next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error('Expected IRI to follow prefix \"' + this._prefix + ':\"', token);\n    var prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    var iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    var entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error('Unexpected ' + token.type, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      var stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        var item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext();\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    var subject, predicate, object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    var subject = this._blankNode(), predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    var contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    var err = new Error(message + ' on line ' + token.line + '.');\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    var result = '', length = iri.length, i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return result + '/' + iri.substr(i + 1);\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    var self = this;\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : 'b' + blankNodePrefix++ + '_';\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      var quads = [], error;\n      this._callback = function (e, t) { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(function (token) {\n        return self._readCallback = self._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, function (error, token) {\n      if (error !== null)\n        self._callback(error), self._callback = noop;\n      else if (self._readCallback)\n        self._readCallback = self._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  var namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n","// **N3Writer** writes N3 documents.\nimport namespaces from './IRIs';\nimport N3DataFactory from './N3DataFactory';\n\nconst DEFAULTGRAPH = N3DataFactory.defaultGraph();\n\nconst { rdf, xsd } = namespaces;\n\n// Characters in literals that require escaping\nvar escape    = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019\\ud800-\\udbff]/,\n    escapeAll = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019]|[\\ud800-\\udbff][\\udc00-\\udfff]/g,\n    escapedCharacters = {\n      '\\\\': '\\\\\\\\', '\"': '\\\\\"', '\\t': '\\\\t',\n      '\\n': '\\\\n', '\\r': '\\\\r', '\\b': '\\\\b', '\\f': '\\\\f',\n    };\n\n// ## Placeholder class to represent already pretty-printed terms\nclass SerializedTerm extends N3DataFactory.internal.Term {\n  // Pretty-printed nodes are not equal to any other node\n  // (e.g., [] does not equal [])\n  equals() {\n    return false;\n  }\n}\n\n// ## Constructor\nexport default class N3Writer {\n  constructor(outputStream, options) {\n    // ### `_prefixRegex` matches a prefixed name or IRI that begins with one of the added prefixes\n    this._prefixRegex = /$0^/;\n\n    // Shift arguments if the first argument is not a stream\n    if (outputStream && typeof outputStream.write !== 'function')\n      options = outputStream, outputStream = null;\n    options = options || {};\n    this._lists = options.lists;\n\n    // If no output stream given, send the output as string through the end callback\n    if (!outputStream) {\n      var output = '';\n      this._outputStream = {\n        write(chunk, encoding, done) { output += chunk; done && done(); },\n        end:   function (done) { done && done(null, output); },\n      };\n      this._endStream = true;\n    }\n    else {\n      this._outputStream = outputStream;\n      this._endStream = options.end === undefined ? true : !!options.end;\n    }\n\n    // Initialize writer, depending on the format\n    this._subject = null;\n    if (!(/triple|quad/i).test(options.format)) {\n      this._graph = DEFAULTGRAPH;\n      this._prefixIRIs = Object.create(null);\n      options.prefixes && this.addPrefixes(options.prefixes);\n    }\n    else {\n      this._writeQuad = this._writeQuadLine;\n    }\n  }\n\n  // ## Private methods\n\n  // ### Whether the current graph is the default graph\n  get _inDefaultGraph() {\n    return DEFAULTGRAPH.equals(this._graph);\n  }\n\n  // ### `_write` writes the argument to the output stream\n  _write(string, callback) {\n    this._outputStream.write(string, 'utf8', callback);\n  }\n\n  // ### `_writeQuad` writes the quad to the output stream\n  _writeQuad(subject, predicate, object, graph, done) {\n    try {\n      // Write the graph's label if it has changed\n      if (!graph.equals(this._graph)) {\n        // Close the previous graph and start the new one\n        this._write((this._subject === null ? '' : (this._inDefaultGraph ? '.\\n' : '\\n}\\n')) +\n                    (DEFAULTGRAPH.equals(graph) ? '' : this._encodeIriOrBlank(graph) + ' {\\n'));\n        this._graph = graph;\n        this._subject = null;\n      }\n      // Don't repeat the subject if it's the same\n      if (subject.equals(this._subject)) {\n        // Don't repeat the predicate if it's the same\n        if (predicate.equals(this._predicate))\n          this._write(', ' + this._encodeObject(object), done);\n        // Same subject, different predicate\n        else\n          this._write(';\\n    ' +\n                      this._encodePredicate(this._predicate = predicate) + ' ' +\n                      this._encodeObject(object), done);\n      }\n      // Different subject; write the whole quad\n      else\n        this._write((this._subject === null ? '' : '.\\n') +\n                    this._encodeIriOrBlank(this._subject = subject) + ' ' +\n                    this._encodePredicate(this._predicate = predicate) + ' ' +\n                    this._encodeObject(object), done);\n    }\n    catch (error) { done && done(error); }\n  }\n\n  // ### `_writeQuadLine` writes the quad to the output stream as a single line\n  _writeQuadLine(subject, predicate, object, graph, done) {\n    // Write the quad without prefixes\n    delete this._prefixMatch;\n    this._write(this.quadToString(subject, predicate, object, graph), done);\n  }\n\n  // ### `quadToString` serializes a quad as a string\n  quadToString(subject, predicate, object, graph) {\n    return  this._encodeIriOrBlank(subject)   + ' ' +\n            this._encodeIriOrBlank(predicate) + ' ' +\n            this._encodeObject(object) +\n            (graph && graph.value ? ' ' + this._encodeIriOrBlank(graph) + ' .\\n' : ' .\\n');\n  }\n\n  // ### `quadsToString` serializes an array of quads as a string\n  quadsToString(quads) {\n    return quads.map(function (t) {\n      return this.quadToString(t.subject, t.predicate, t.object, t.graph);\n    }, this).join('');\n  }\n\n  // ### `_encodeIriOrBlank` represents an IRI or blank node\n  _encodeIriOrBlank(entity) {\n    // A blank node or list is represented as-is\n    if (entity.termType !== 'NamedNode') {\n      // If it is a list head, pretty-print it\n      if (this._lists && (entity.value in this._lists))\n        entity = this.list(this._lists[entity.value]);\n      return 'id' in entity ? entity.id : '_:' + entity.value;\n    }\n    // Escape special characters\n    var iri = entity.value;\n    if (escape.test(iri))\n      iri = iri.replace(escapeAll, characterReplacer);\n    // Try to represent the IRI as prefixed name\n    var prefixMatch = this._prefixRegex.exec(iri);\n    return !prefixMatch ? '<' + iri + '>' :\n           (!prefixMatch[1] ? iri : this._prefixIRIs[prefixMatch[1]] + prefixMatch[2]);\n  }\n\n  // ### `_encodeLiteral` represents a literal\n  _encodeLiteral(literal) {\n    // Escape special characters\n    var value = literal.value;\n    if (escape.test(value))\n      value = value.replace(escapeAll, characterReplacer);\n    // Write the literal, possibly with type or language\n    if (literal.language)\n      return '\"' + value + '\"@' + literal.language;\n    else if (literal.datatype.value !== xsd.string)\n      return '\"' + value + '\"^^' + this._encodeIriOrBlank(literal.datatype);\n    else\n      return '\"' + value + '\"';\n  }\n\n  // ### `_encodePredicate` represents a predicate\n  _encodePredicate(predicate) {\n    return predicate.value === rdf.type ? 'a' : this._encodeIriOrBlank(predicate);\n  }\n\n  // ### `_encodeObject` represents an object\n  _encodeObject(object) {\n    return object.termType === 'Literal' ? this._encodeLiteral(object) : this._encodeIriOrBlank(object);\n  }\n\n  // ### `_blockedWrite` replaces `_write` after the writer has been closed\n  _blockedWrite() {\n    throw new Error('Cannot write because the writer has been closed.');\n  }\n\n  // ### `addQuad` adds the quad to the output stream\n  addQuad(subject, predicate, object, graph, done) {\n    // The quad was given as an object, so shift parameters\n    if (object === undefined)\n      this._writeQuad(subject.subject, subject.predicate, subject.object, subject.graph, predicate);\n    // The optional `graph` parameter was not provided\n    else if (typeof graph === 'function')\n      this._writeQuad(subject, predicate, object, DEFAULTGRAPH, graph);\n    // The `graph` parameter was provided\n    else\n      this._writeQuad(subject, predicate, object, graph || DEFAULTGRAPH, done);\n  }\n\n  // ### `addQuads` adds the quads to the output stream\n  addQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `addPrefix` adds the prefix to the output stream\n  addPrefix(prefix, iri, done) {\n    var prefixes = {};\n    prefixes[prefix] = iri;\n    this.addPrefixes(prefixes, done);\n  }\n\n  // ### `addPrefixes` adds the prefixes to the output stream\n  addPrefixes(prefixes, done) {\n    var prefixIRIs = this._prefixIRIs, hasPrefixes = false;\n    for (var prefix in prefixes) {\n      var iri = prefixes[prefix];\n      if (typeof iri !== 'string')\n        iri = iri.value;\n      hasPrefixes = true;\n      // Finish a possible pending quad\n      if (this._subject !== null) {\n        this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n        this._subject = null, this._graph = '';\n      }\n      // Store and write the prefix\n      prefixIRIs[iri] = (prefix += ':');\n      this._write('@prefix ' + prefix + ' <' + iri + '>.\\n');\n    }\n    // Recreate the prefix matcher\n    if (hasPrefixes) {\n      var IRIlist = '', prefixList = '';\n      for (var prefixIRI in prefixIRIs) {\n        IRIlist += IRIlist ? '|' + prefixIRI : prefixIRI;\n        prefixList += (prefixList ? '|' : '') + prefixIRIs[prefixIRI];\n      }\n      IRIlist = IRIlist.replace(/[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n      this._prefixRegex = new RegExp('^(?:' + prefixList + ')[^\\/]*$|' +\n                                     '^(' + IRIlist + ')([a-zA-Z][\\\\-_a-zA-Z0-9]*)$');\n    }\n    // End a prefix block with a newline\n    this._write(hasPrefixes ? '\\n' : '', done);\n  }\n\n  // ### `blank` creates a blank node with the given content\n  blank(predicate, object) {\n    var children = predicate, child, length;\n    // Empty blank node\n    if (predicate === undefined)\n      children = [];\n    // Blank node passed as blank(Term(\"predicate\"), Term(\"object\"))\n    else if (predicate.termType)\n      children = [{ predicate: predicate, object: object }];\n    // Blank node passed as blank({ predicate: predicate, object: object })\n    else if (!('length' in predicate))\n      children = [predicate];\n\n    switch (length = children.length) {\n    // Generate an empty blank node\n    case 0:\n      return new SerializedTerm('[]');\n    // Generate a non-nested one-triple blank node\n    case 1:\n      child = children[0];\n      if (!(child.object instanceof SerializedTerm))\n        return new SerializedTerm('[ ' + this._encodePredicate(child.predicate) + ' ' +\n                                  this._encodeObject(child.object) + ' ]');\n    // Generate a multi-triple or nested blank node\n    default:\n      var contents = '[';\n      // Write all triples in order\n      for (var i = 0; i < length; i++) {\n        child = children[i];\n        // Write only the object is the predicate is the same as the previous\n        if (child.predicate.equals(predicate))\n          contents += ', ' + this._encodeObject(child.object);\n        // Otherwise, write the predicate and the object\n        else {\n          contents += (i ? ';\\n  ' : '\\n  ') +\n                      this._encodePredicate(child.predicate) + ' ' +\n                      this._encodeObject(child.object);\n          predicate = child.predicate;\n        }\n      }\n      return new SerializedTerm(contents + '\\n]');\n    }\n  }\n\n  // ### `list` creates a list node with the given content\n  list(elements) {\n    var length = elements && elements.length || 0, contents = new Array(length);\n    for (var i = 0; i < length; i++)\n      contents[i] = this._encodeObject(elements[i]);\n    return new SerializedTerm('(' + contents.join(' ') + ')');\n  }\n\n  // ### `end` signals the end of the output stream\n  end(done) {\n    // Finish a possible pending quad\n    if (this._subject !== null) {\n      this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n      this._subject = null;\n    }\n    // Disallow further writing\n    this._write = this._blockedWrite;\n\n    // Try to end the underlying stream, ensuring done is called exactly one time\n    var singleDone = done && function (error, result) { singleDone = null, done(error, result); };\n    if (this._endStream) {\n      try { return this._outputStream.end(singleDone); }\n      catch (error) { /* error closing stream */ }\n    }\n    singleDone && singleDone();\n  }\n}\n\n// Replaces a character by its escaped version\nfunction characterReplacer(character) {\n  // Replace a single character by its escaped version\n  var result = escapedCharacters[character];\n  if (result === undefined) {\n    // Replace a single character with its 4-bit unicode escape sequence\n    if (character.length === 1) {\n      result = character.charCodeAt(0).toString(16);\n      result = '\\\\u0000'.substr(0, 6 - result.length) + result;\n    }\n    // Replace a surrogate pair with its 8-bit unicode escape sequence\n    else {\n      result = ((character.charCodeAt(0) - 0xD800) * 0x400 +\n                 character.charCodeAt(1) + 0x2400).toString(16);\n      result = '\\\\U00000000'.substr(0, 10 - result.length) + result;\n    }\n  }\n  return result;\n}\n","// **N3Store** objects store N3 quads by graph in memory.\nimport N3DataFactory from './N3DataFactory';\nimport { Readable } from 'stream';\nimport namespaces from './IRIs';\n\nconst { toId, fromId } = N3DataFactory.internal;\n\n// ## Constructor\nexport default class N3Store {\n  constructor(quads, options) {\n    // The number of quads is initially zero\n    this._size = 0;\n    // `_graphs` contains subject, predicate, and object indexes per graph\n    this._graphs = Object.create(null);\n    // `_ids` maps entities such as `http://xmlns.com/foaf/0.1/name` to numbers,\n    // saving memory by using only numbers as keys in `_graphs`\n    this._id = 0;\n    this._ids = Object.create(null);\n    this._ids['><'] = 0; // dummy entry, so the first actual key is non-zero\n    this._entities = Object.create(null); // inverse of `_ids`\n    // `_blankNodeIndex` is the index of the last automatically named blank node\n    this._blankNodeIndex = 0;\n\n    // Shift parameters if `quads` is not given\n    if (!options && quads && !quads[0])\n      options = quads, quads = null;\n    options = options || {};\n    this._factory = options.factory || N3DataFactory;\n\n    // Add quads if passed\n    if (quads)\n      this.addQuads(quads);\n  }\n\n  // ## Public properties\n\n  // ### `size` returns the number of quads in the store\n  get size() {\n    // Return the quad count if if was cached\n    var size = this._size;\n    if (size !== null)\n      return size;\n\n    // Calculate the number of quads by counting to the deepest level\n    size = 0;\n    var graphs = this._graphs, subjects, subject;\n    for (var graphKey in graphs)\n      for (var subjectKey in (subjects = graphs[graphKey].subjects))\n        for (var predicateKey in (subject = subjects[subjectKey]))\n          size += Object.keys(subject[predicateKey]).length;\n    return this._size = size;\n  }\n\n  // ## Private methods\n\n  // ### `_addToIndex` adds a quad to a three-layered index.\n  // Returns if the index has changed, if the entry did not already exist.\n  _addToIndex(index0, key0, key1, key2) {\n    // Create layers as necessary\n    var index1 = index0[key0] || (index0[key0] = {});\n    var index2 = index1[key1] || (index1[key1] = {});\n    // Setting the key to _any_ value signals the presence of the quad\n    var existed = key2 in index2;\n    if (!existed)\n      index2[key2] = null;\n    return !existed;\n  }\n\n  // ### `_removeFromIndex` removes a quad from a three-layered index\n  _removeFromIndex(index0, key0, key1, key2) {\n    // Remove the quad from the index\n    var index1 = index0[key0], index2 = index1[key1], key;\n    delete index2[key2];\n\n    // Remove intermediary index layers if they are empty\n    for (key in index2) return;\n    delete index1[key1];\n    for (key in index1) return;\n    delete index0[key0];\n  }\n\n  // ### `_findInIndex` finds a set of quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  // `name0`, `name1`, and `name2` are the names of the keys at each level,\n  // used when reconstructing the resulting quad\n  // (for instance: _subject_, _predicate_, and _object_).\n  // Finally, `graph` will be the graph of the created quads.\n  // If `callback` is given, each result is passed through it\n  // and iteration halts when it returns truthy for any quad.\n  // If instead `array` is given, each result is added to the array.\n  _findInIndex(index0, key0, key1, key2, name0, name1, name2, graph, callback, array) {\n    var tmp, index1, index2, varCount = !key0 + !key1 + !key2,\n        // depending on the number of variables, keys or reverse index are faster\n        entityKeys = varCount > 1 ? Object.keys(this._ids) : this._entities;\n\n    // If a key is specified, use only that part of index 0.\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (var value0 in index0) {\n      var entity0 = entityKeys[value0];\n\n      if (index1 = index0[value0]) {\n        // If a key is specified, use only that part of index 1.\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (var value1 in index1) {\n          var entity1 = entityKeys[value1];\n\n          if (index2 = index1[value1]) {\n            // If a key is specified, use only that part of index 2, if it exists.\n            var values = key2 ? (key2 in index2 ? [key2] : []) : Object.keys(index2);\n            // Create quads for all items found in index 2.\n            for (var l = 0; l < values.length; l++) {\n              var parts = { subject: null, predicate: null, object: null };\n              parts[name0] = fromId(entity0, this._factory);\n              parts[name1] = fromId(entity1, this._factory);\n              parts[name2] = fromId(entityKeys[values[l]], this._factory);\n              var quad = this._factory.quad(\n                parts.subject, parts.predicate, parts.object, fromId(graph, this._factory));\n              if (array)\n                array.push(quad);\n              else if (callback(quad))\n                return true;\n            }\n          }\n        }\n      }\n    }\n    return array;\n  }\n\n  // ### `_loop` executes the callback on all keys of index 0\n  _loop(index0, callback) {\n    for (var key0 in index0)\n      callback(key0);\n  }\n\n  // ### `_loopByKey0` executes the callback on all keys of a certain entry in index 0\n  _loopByKey0(index0, key0, callback) {\n    var index1, key1;\n    if (index1 = index0[key0]) {\n      for (key1 in index1)\n        callback(key1);\n    }\n  }\n\n  // ### `_loopByKey1` executes the callback on given keys of all entries in index 0\n  _loopByKey1(index0, key1, callback) {\n    var key0, index1;\n    for (key0 in index0) {\n      index1 = index0[key0];\n      if (index1[key1])\n        callback(key0);\n    }\n  }\n\n  // ### `_loopBy2Keys` executes the callback on given keys of certain entries in index 2\n  _loopBy2Keys(index0, key0, key1, callback) {\n    var index1, index2, key2;\n    if ((index1 = index0[key0]) && (index2 = index1[key1])) {\n      for (key2 in index2)\n        callback(key2);\n    }\n  }\n\n  // ### `_countInIndex` counts matching quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  _countInIndex(index0, key0, key1, key2) {\n    var count = 0, tmp, index1, index2;\n\n    // If a key is specified, count only that part of index 0\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (var value0 in index0) {\n      if (index1 = index0[value0]) {\n        // If a key is specified, count only that part of index 1\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (var value1 in index1) {\n          if (index2 = index1[value1]) {\n            // If a key is specified, count the quad if it exists\n            if (key2) (key2 in index2) && count++;\n            // Otherwise, count all quads\n            else count += Object.keys(index2).length;\n          }\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `_getGraphs` returns an array with the given graph,\n  // or all graphs if the argument is null or undefined.\n  _getGraphs(graph) {\n    if (!isString(graph))\n      return this._graphs;\n    var graphs = {};\n    graphs[graph] = this._graphs[graph];\n    return graphs;\n  }\n\n  // ### `_uniqueEntities` returns a function that accepts an entity ID\n  // and passes the corresponding entity to callback if it hasn't occurred before.\n  _uniqueEntities(callback) {\n    var uniqueIds = Object.create(null), entities = this._entities;\n    return function (id) {\n      if (!(id in uniqueIds)) {\n        uniqueIds[id] = true;\n        callback(fromId(entities[id]));\n      }\n    };\n  }\n\n  // ## Public methods\n\n  // ### `addQuad` adds a new quad to the store.\n  // Returns if the quad index has changed, if the quad did not already exist.\n  addQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = toId(subject);\n    predicate = toId(predicate);\n    object = toId(object);\n    graph = toId(graph);\n\n    // Find the graph that will contain the triple\n    var graphItem = this._graphs[graph];\n    // Create the graph if it doesn't exist yet\n    if (!graphItem) {\n      graphItem = this._graphs[graph] = { subjects: {}, predicates: {}, objects: {} };\n      // Freezing a graph helps subsequent `add` performance,\n      // and properties will never be modified anyway\n      Object.freeze(graphItem);\n    }\n\n    // Since entities can often be long IRIs, we avoid storing them in every index.\n    // Instead, we have a separate index that maps entities to numbers,\n    // which are then used as keys in the other indexes.\n    var ids = this._ids;\n    var entities = this._entities;\n    subject   = ids[subject]   || (ids[entities[++this._id] = subject]   = this._id);\n    predicate = ids[predicate] || (ids[entities[++this._id] = predicate] = this._id);\n    object    = ids[object]    || (ids[entities[++this._id] = object]    = this._id);\n\n    var changed = this._addToIndex(graphItem.subjects,   subject,   predicate, object);\n    this._addToIndex(graphItem.predicates, predicate, object,    subject);\n    this._addToIndex(graphItem.objects,    object,    subject,   predicate);\n\n    // The cached quad count is now invalid\n    this._size = null;\n    return changed;\n  }\n\n  // ### `addQuads` adds multiple quads to the store\n  addQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `import` adds a stream of quads to the store\n  import(stream) {\n    var self = this;\n    stream.on('data', function (quad) { self.addQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeQuad` removes a quad from the store if it exists\n  removeQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = toId(subject);\n    predicate = toId(predicate);\n    object = toId(object);\n    graph = toId(graph);\n\n    // Find internal identifiers for all components\n    // and verify the quad exists.\n    var graphItem, ids = this._ids, graphs = this._graphs, subjects, predicates;\n    if (!(subject    = ids[subject]) || !(predicate = ids[predicate]) ||\n        !(object     = ids[object])  || !(graphItem = graphs[graph])  ||\n        !(subjects   = graphItem.subjects[subject]) ||\n        !(predicates = subjects[predicate]) ||\n        !(object in predicates))\n      return false;\n\n    // Remove it from all indexes\n    this._removeFromIndex(graphItem.subjects,   subject,   predicate, object);\n    this._removeFromIndex(graphItem.predicates, predicate, object,    subject);\n    this._removeFromIndex(graphItem.objects,    object,    subject,   predicate);\n    if (this._size !== null) this._size--;\n\n    // Remove the graph if it is empty\n    for (subject in graphItem.subjects) return true;\n    delete graphs[graph];\n    return true;\n  }\n\n  // ### `removeQuads` removes multiple quads from the store\n  removeQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.removeQuad(quads[i]);\n  }\n\n  // ### `remove` removes a stream of quads from the store\n  remove(stream) {\n    var self = this;\n    stream.on('data', function (quad) { self.removeQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeMatches` removes all matching quads from the store\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  removeMatches(subject, predicate, object, graph) {\n    return this.remove(this.match(subject, predicate, object, graph));\n  }\n\n  // ### `deleteGraph` removes all triples with the given graph from the store\n  deleteGraph(graph) {\n    return this.removeMatches(null, null, null, graph);\n  }\n\n  // ### `getQuads` returns an array of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var quads = [], graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return quads;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the object index will be the fastest\n            this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                              'object', 'subject', 'predicate', graphId, null, quads);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            this._findInIndex(content.subjects, subjectId, predicateId, null,\n                              'subject', 'predicate', 'object', graphId, null, quads);\n        }\n        else if (predicateId)\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          this._findInIndex(content.predicates, predicateId, objectId, null,\n                            'predicate', 'object', 'subject', graphId, null, quads);\n        else if (objectId)\n          // If only object is given, the object index will be the fastest\n          this._findInIndex(content.objects, objectId, null, null,\n                            'object', 'subject', 'predicate', graphId, null, quads);\n        else\n          // If nothing is given, iterate subjects and predicates first\n          this._findInIndex(content.subjects, null, null, null,\n                            'subject', 'predicate', 'object', graphId, null, quads);\n      }\n    }\n    return quads;\n  }\n\n  // ### `match` returns a stream of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  match(subject, predicate, object, graph) {\n    var stream = new Readable({ objectMode: true });\n\n    // Initialize stream once it is being read\n    stream._read = () => {\n      for (var quad of this.getQuads(subject, predicate, object, graph))\n        stream.push(quad);\n      stream.push(null);\n    };\n\n    return stream;\n  }\n\n  // ### `countQuads` returns the number of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  countQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var count = 0, graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return 0;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subject) {\n          if (object)\n            // If subject and object are given, the object index will be the fastest\n            count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            count += this._countInIndex(content.subjects, subjectId, predicateId, objectId);\n        }\n        else if (predicate) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          count += this._countInIndex(content.predicates, predicateId, objectId, subjectId);\n        }\n        else {\n          // If only object is possibly given, the object index will be the fastest\n          count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `forEach` executes the callback on all quads.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forEach(callback, subject, predicate, object, graph) {\n    this.some(function (quad) {\n      callback(quad);\n      return false;\n    }, subject, predicate, object, graph);\n  }\n\n  // ### `every` executes the callback on all quads,\n  // and returns `true` if it returns truthy for all them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  every(callback, subject, predicate, object, graph) {\n    var some = false;\n    var every = !this.some(function (quad) {\n      some = true;\n      return !callback(quad);\n    }, subject, predicate, object, graph);\n    return some && every;\n  }\n\n  // ### `some` executes the callback on all quads,\n  // and returns `true` if it returns truthy for any of them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  some(callback, subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return false;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId) {\n          // If subject and object are given, the object index will be the fastest\n            if (this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                                  'object', 'subject', 'predicate', graphId, callback, null))\n              return true;\n          }\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            if (this._findInIndex(content.subjects, subjectId, predicateId, null,\n                                  'subject', 'predicate', 'object', graphId, callback, null))\n              return true;\n        }\n        else if (predicateId) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          if (this._findInIndex(content.predicates, predicateId, objectId, null,\n                                'predicate', 'object', 'subject', graphId, callback, null)) {\n            return true;\n          }\n        }\n        else if (objectId) {\n          // If only object is given, the object index will be the fastest\n          if (this._findInIndex(content.objects, objectId, null, null,\n                                'object', 'subject', 'predicate', graphId, callback, null)) {\n            return true;\n          }\n        }\n        else\n        // If nothing is given, iterate subjects and predicates first\n        if (this._findInIndex(content.subjects, null, null, null,\n                              'subject', 'predicate', 'object', graphId, callback, null)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // ### `getSubjects` returns all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getSubjects(predicate, object, graph) {\n    var results = [];\n    this.forSubjects(function (s) { results.push(s); }, predicate, object, graph);\n    return results;\n  }\n\n  // ### `forSubjects` executes the callback on all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forSubjects(callback, predicate, object, graph) {\n    // Convert terms to internal string representation\n    predicate = predicate && toId(predicate);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, predicateId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (predicateId) {\n          if (objectId)\n            // If predicate and object are given, the POS index is best.\n            this._loopBy2Keys(content.predicates, predicateId, objectId, callback);\n          else\n            // If only predicate is given, the SPO index is best.\n            this._loopByKey1(content.subjects, predicateId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the OSP index is best.\n          this._loopByKey0(content.objects, objectId, callback);\n        else\n          // If no params given, iterate all the subjects\n          this._loop(content.subjects, callback);\n      }\n    }\n  }\n\n  // ### `getPredicates` returns all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getPredicates(subject, object, graph) {\n    var results = [];\n    this.forPredicates(function (p) { results.push(p); }, subject, object, graph);\n    return results;\n  }\n\n  // ### `forPredicates` executes the callback on all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forPredicates(callback, subject, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    object = object && toId(object);\n    graph = graph && toId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, subjectId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject) && !(subjectId = ids[subject]) ||\n        isString(object)  && !(objectId  = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the OSP index is best.\n            this._loopBy2Keys(content.objects, objectId, subjectId, callback);\n          else\n            // If only subject is given, the SPO index is best.\n            this._loopByKey0(content.subjects, subjectId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the POS index is best.\n          this._loopByKey1(content.predicates, objectId, callback);\n        else\n          // If no params given, iterate all the predicates.\n          this._loop(content.predicates, callback);\n      }\n    }\n  }\n\n  // ### `getObjects` returns all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getObjects(subject, predicate, graph) {\n    var results = [];\n    this.forObjects(function (o) { results.push(o); }, subject, predicate, graph);\n    return results;\n  }\n\n  // ### `forObjects` executes the callback on all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forObjects(callback, subject, predicate, graph) {\n    // Convert terms to internal string representation\n    subject = subject && toId(subject);\n    predicate = predicate && toId(predicate);\n    graph = graph && toId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, subjectId, predicateId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject]) ||\n        isString(predicate) && !(predicateId = ids[predicate]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (predicateId)\n            // If subject and predicate are given, the SPO index is best.\n            this._loopBy2Keys(content.subjects, subjectId, predicateId, callback);\n          else\n            // If only subject is given, the OSP index is best.\n            this._loopByKey1(content.objects, subjectId, callback);\n        }\n        else if (predicateId)\n          // If only predicate is given, the POS index is best.\n          this._loopByKey0(content.predicates, predicateId, callback);\n        else\n          // If no params given, iterate all the objects.\n          this._loop(content.objects, callback);\n      }\n    }\n  }\n\n  // ### `getGraphs` returns all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getGraphs(subject, predicate, object) {\n    var results = [];\n    this.forGraphs(function (g) { results.push(g); }, subject, predicate, object);\n    return results;\n  }\n\n  // ### `forGraphs` executes the callback on all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forGraphs(callback, subject, predicate, object) {\n    for (var graph in this._graphs) {\n      this.some(function (quad) {\n        callback(quad.graph);\n        return true; // Halt iteration of some()\n      }, subject, predicate, object, graph);\n    }\n  }\n\n  // ### `createBlankNode` creates a new blank node, returning its name\n  createBlankNode(suggestedName) {\n    var name, index;\n    // Generate a name based on the suggested name\n    if (suggestedName) {\n      name = suggestedName = '_:' + suggestedName, index = 1;\n      while (this._ids[name])\n        name = suggestedName + index++;\n    }\n    // Generate a generic blank node name\n    else {\n      do { name = '_:b' + this._blankNodeIndex++; }\n      while (this._ids[name]);\n    }\n    // Add the blank node to the entities, avoiding the generation of duplicates\n    this._ids[name] = ++this._id;\n    this._entities[this._id] = name;\n    return this._factory.blankNode(name.substr(2));\n  }\n\n  // ### `extractLists` finds and removes all list triples\n  // and returns the items per list.\n  extractLists({ remove = false, ignoreErrors = false } = {}) {\n    var lists = {}; // has scalar keys so could be a simple Object\n    var onError = ignoreErrors ? (() => true) :\n                  ((node, message) => { throw new Error(`${node.value} ${message}`); });\n\n    // Traverse each list from its tail\n    var tails = this.getQuads(null, namespaces.rdf.rest, namespaces.rdf.nil, null);\n    var toRemove = remove ? [...tails] : [];\n    tails.forEach(tailQuad => {\n      var items = [];             // the members found as objects of rdf:first quads\n      var malformed = false;      // signals whether the current list is malformed\n      var head;                   // the head of the list (_:b1 in above example)\n      var headPos;                // set to subject or object when head is set\n      var graph = tailQuad.graph; // make sure list is in exactly one graph\n\n      // Traverse the list from tail to end\n      var current = tailQuad.subject;\n      while (current && !malformed) {\n        var objectQuads = this.getQuads(null, null, current, null);\n        var subjectQuads = this.getQuads(current, null, null, null);\n        var i, quad, first = null, rest = null, parent = null;\n\n        // Find the first and rest of this list node\n        for (i = 0; i < subjectQuads.length && !malformed; i++) {\n          quad = subjectQuads[i];\n          if (!quad.graph.equals(graph))\n            malformed = onError(current, 'not confined to single graph');\n          else if (head)\n            malformed = onError(current, 'has non-list arcs out');\n\n          // one rdf:first\n          else if (quad.predicate.value === namespaces.rdf.first) {\n            if (first)\n              malformed = onError(current, 'has multiple rdf:first arcs');\n            else\n              toRemove.push(first = quad);\n          }\n\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (rest)\n              malformed = onError(current, 'has multiple rdf:rest arcs');\n            else\n              toRemove.push(rest = quad);\n          }\n\n          // alien triple\n          else if (objectQuads.length)\n            malformed = onError(current, 'can\\'t be subject and object');\n          else {\n            head = quad; // e.g. { (1 2 3) :p :o }\n            headPos = 'subject';\n          }\n        }\n\n        // { :s :p (1 2) } arrives here with no head\n        // { (1 2) :p :o } arrives here with head set to the list.\n        for (i = 0; i < objectQuads.length && !malformed; ++i) {\n          quad = objectQuads[i];\n          if (head)\n            malformed = onError(current, 'can\\'t have coreferences');\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (parent)\n              malformed = onError(current, 'has incoming rdf:rest arcs');\n            else\n              parent = quad;\n          }\n          else {\n            head = quad; // e.g. { :s :p (1 2) }\n            headPos = 'object';\n          }\n        }\n\n        // Store the list item and continue with parent\n        if (!first)\n          malformed = onError(current, 'has no list head');\n        else\n          items.unshift(first.object);\n        current = parent && parent.subject;\n      }\n\n      // Don't remove any quads if the list is malformed\n      if (malformed)\n        remove = false;\n      // Store the list under the value of its head\n      else if (head)\n        lists[head[headPos].value] = items;\n    });\n\n    // Remove list quads if requested\n    if (remove)\n      this.removeQuads(toRemove);\n    return lists;\n  }\n}\n\n// Determines whether the argument is a string\nfunction isString(s) {\n  return typeof s === 'string' || s instanceof String;\n}\n","// **N3Util** provides N3 utility functions.\n\nimport N3DataFactory from './N3DataFactory';\n\n// Tests whether the given term represents an IRI\nexport function isNamedNode(term) {\n  return !!term && term.termType === 'NamedNode';\n}\n\n// Tests whether the given term represents a blank node\nexport function isBlankNode(term) {\n  return !!term && term.termType === 'BlankNode';\n}\n\n// Tests whether the given term represents a literal\nexport function isLiteral(term) {\n  return !!term && term.termType === 'Literal';\n}\n\n// Tests whether the given term represents a variable\nexport function isVariable(term) {\n  return !!term && term.termType === 'Variable';\n}\n\n// Tests whether the given term represents the default graph\nexport function isDefaultGraph(term) {\n  return !!term && term.termType === 'DefaultGraph';\n}\n\n// Tests whether the given quad is in the default graph\nexport function inDefaultGraph(quad) {\n  return isDefaultGraph(quad.graph);\n}\n\n// Creates a function that prepends the given IRI to a local name\nexport function prefix(iri, factory) {\n  return prefixes({ '': iri }, factory)('');\n}\n\n// Creates a function that allows registering and expanding prefixes\nexport function prefixes(defaultPrefixes, factory) {\n  // Add all of the default prefixes\n  var prefixes = Object.create(null);\n  for (var prefix in defaultPrefixes)\n    processPrefix(prefix, defaultPrefixes[prefix]);\n  // Set the default factory if none was specified\n  factory = factory || N3DataFactory;\n\n  // Registers a new prefix (if an IRI was specified)\n  // or retrieves a function that expands an existing prefix (if no IRI was specified)\n  function processPrefix(prefix, iri) {\n    // Create a new prefix if an IRI is specified or the prefix doesn't exist\n    if (typeof iri === 'string') {\n      // Create a function that expands the prefix\n      var cache = Object.create(null);\n      prefixes[prefix] = function (local) {\n        return cache[local] || (cache[local] = factory.namedNode(iri + local));\n      };\n    }\n    else if (!(prefix in prefixes)) {\n      throw new Error('Unknown prefix: ' + prefix);\n    }\n    return prefixes[prefix];\n  }\n  return processPrefix;\n}\n","// **N3StreamParser** parses a text stream into a quad stream.\nimport N3Parser from './N3Parser';\nimport { Transform } from 'stream';\n\n// ## Constructor\nexport default class N3StreamParser extends Transform {\n  constructor(options) {\n    super({ decodeStrings: true });\n    this._readableState.objectMode = true;\n\n    // Set up parser with dummy stream to obtain `data` and `end` callbacks\n    var self = this, parser = new N3Parser(options), onData, onEnd;\n    parser.parse({\n      on: function (event, callback) {\n        switch (event) {\n        case 'data': onData = callback; break;\n        case 'end':   onEnd = callback; break;\n        }\n      },\n    },\n      // Handle quads by pushing them down the pipeline\n      function (error, quad) { error && self.emit('error', error) || quad && self.push(quad); },\n      // Emit prefixes through the `prefix` event\n      function (prefix, uri) { self.emit('prefix', prefix, uri); }\n    );\n\n    // Implement Transform methods through parser callbacks\n    this._transform = function (chunk, encoding, done) { onData(chunk); done(); };\n    this._flush = function (done) { onEnd(); done(); };\n  }\n\n  // ### Parses a stream of strings\n  import(stream) {\n    var self = this;\n    stream.on('data',  function (chunk) { self.write(chunk); });\n    stream.on('end',   function ()      { self.end(); });\n    stream.on('error', function (error) { self.emit('error', error); });\n    return this;\n  }\n}\n","// **N3StreamWriter** serializes a quad stream into a text stream.\nimport { Transform } from 'stream';\nimport N3Writer from './N3Writer';\n\n// ## Constructor\nexport default class N3StreamWriter extends Transform {\n  constructor(options) {\n    super({ encoding: 'utf8' });\n    this._writableState.objectMode = true;\n\n    // Set up writer with a dummy stream object\n    var self = this;\n    var writer = this._writer = new N3Writer({\n      write: function (quad, encoding, callback) { self.push(quad); callback && callback(); },\n      end: function (callback) { self.push(null); callback && callback(); },\n    }, options);\n\n    // Implement Transform methods on top of writer\n    this._transform = function (quad, encoding, done) { writer.addQuad(quad, done); };\n    this._flush = function (done) { writer.end(done); };\n  }\n\n// ### Serializes a stream of quads\n  import(stream) {\n    var self = this;\n    stream.on('data',   function (quad)  { self.write(quad); });\n    stream.on('end',    function ()      { self.end(); });\n    stream.on('error',  function (error) { self.emit('error', error); });\n    stream.on('prefix', function (prefix, iri) { self._writer.addPrefix(prefix, iri); });\n    return this;\n  }\n}\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar N3 = _interopRequireWildcard(require(\"n3\"));\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SparqlEndpoint = /*#__PURE__*/function () {\n  function SparqlEndpoint(uri) {\n    var logQueries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, SparqlEndpoint);\n\n    this._uri = uri;\n    this._logQueries = logQueries;\n  }\n\n  _createClass(SparqlEndpoint, [{\n    key: \"getSparqlResultSet\",\n    value: function getSparqlResultSet(query) {\n      var fetchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this._logQueries) console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return (0, _nodeFetch[\"default\"])(this._uri + \"?query=\" + encodedQuery, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n        headers: {\n          accept: \"application/sparql-results+json\"\n        }\n      })).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.json();\n        }\n      });\n    }\n  }, {\n    key: \"getSparqlRDF\",\n    value: function getSparqlRDF(query) {\n      var fetchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var parser = new N3.Parser();\n      if (this._logQueries) console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return (0, _nodeFetch[\"default\"])(this._uri + \"?query=\" + encodedQuery, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n        headers: {\n          accept: \"text/turtle\"\n        }\n      })).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.text();\n        }\n      }).then(function (text) {\n        return parser.parse(text);\n      });\n    }\n  }]);\n\n  return SparqlEndpoint;\n}();\n\nexports[\"default\"] = SparqlEndpoint;\nmodule.exports = exports.default;\n//# sourceMappingURL=SparqlEndpoint.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _awesomplete = _interopRequireDefault(require(\"awesomplete\"));\n\nvar _sparqlClient = _interopRequireDefault(require(\"@retog/sparql-client\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Prefixplete =\n/*#__PURE__*/\nfunction () {\n  function Prefixplete(input) {\n    var _this = this;\n\n    var sparqlEndpoint = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _sparqlClient[\"default\"](\"https://mtp.linked.solutions/sparql\");\n    var prefixGraphPrefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"https://mtp.linked.solutions/\";\n\n    _classCallCheck(this, Prefixplete);\n\n    if (sparqlEndpoint.getSparqlResultSet) {\n      this._sparqlEndpoint = sparqlEndpoint;\n    } else {\n      this._sparqlEndpoint = new _sparqlClient[\"default\"](sparqlEndpoint);\n    }\n\n    this._input = input;\n    this._prefixMappings = [];\n    var self = this;\n    var previousValue = input.value;\n    var prefixSuggestions = [];\n    var fullSuggestions = [];\n    var awesomplete = new _awesomplete[\"default\"](input);\n    awesomplete.maxItems = 15;\n    awesomplete.input.addEventListener(\"keyup\", function (e) {\n      if (input.value.length >= 2 && e.key !== \"Enter\" && input.value !== previousValue) {\n        populateSuggestions();\n      }\n\n      return true;\n    });\n    input.addEventListener(\"awesomplete-selectcomplete\", function (e) {\n      if (input.value.trim().split(\":\").length < 2 || input.value.trim().split(\":\")[1] === \"\") {\n        populateSuggestions();\n        awesomplete.open();\n      } else {\n        _this.lookup();\n      }\n    });\n\n    function getFullUri(prefixedUri) {\n      var splitup = prefixedUri.split(\":\"); //console.log(\"%cPrefixplete > getFullUri\", \"color: #4527a0\", splitup, prefixMappings);\n\n      var mapping = self._prefixMappings.find(function (m) {\n        return splitup[0] === m.prefix;\n      });\n\n      if (mapping) {\n        return mapping.uri + splitup[1];\n      } else {\n        return prefixedUri;\n      }\n    }\n\n    function getPrefixedUri(fullUri) {\n      var uri = self._getPrefixedUri(fullUri);\n\n      return uri != null ? uri : fullUri;\n    }\n\n    function populateSuggestions() {\n      if (input.value.toString().indexOf(\":\") === -1) {\n        previousValue = input.value;\n        getPrefixUrlSuggestions(input.value).then(function (_) {\n          awesomplete.list = prefixSuggestions.map(function (i) {\n            return i.display;\n          });\n          awesomplete.open();\n        });\n      } else {\n        previousValue = input.value;\n        var splitup = input.value.toString().split(\":\");\n        getFullSuggestions({\n          prefix: splitup[0],\n          url: getFullUri(input.value.toString())\n        }).then(function (_) {\n          awesomplete.list = fullSuggestions.map(function (i) {\n            return i.display !== i.prefix + \":\" ? i.display : undefined;\n          }); //console.log(\"%cPrefixplete > populateSuggestions\", \"color: #4527a0\", fullSuggestions.map(i => i.display !== i.prefix + \":\" ? i.display : undefined));\n\n          awesomplete.open();\n        });\n      }\n    }\n\n    function getPrefixUrlSuggestions(prefix) {\n      var query = \"PREFIX vann: <http://purl.org/vocab/vann/>\\n\" + \"SELECT ?prefix ?uri WHERE {\\n\" + \"    ?sub vann:preferredNamespacePrefix ?prefix ;\\n\" + \"         vann:preferredNamespaceUri ?uri .\\n\" + \"    FILTER ( REGEX (?prefix, \\\"\" + prefix + \"\\\") )\\n\" + \"}\\n\" + \"LIMIT 40\";\n      return self._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n        prefixSuggestions = json.results.bindings.map(function (binding) {\n          return {\n            prefix: binding.prefix.value,\n            display: binding.prefix.value + \":\",\n            uri: binding.uri.value\n          };\n        });\n        self._prefixMappings = self._prefixMappings.concat(prefixSuggestions);\n        return true;\n      });\n    }\n\n    function getFullSuggestions(prefix) {\n      //console.log(\"%cPrefixplete > getFullSuggestions\", \"color: #4527a0\", prefix);\n      var query = \"SELECT DISTINCT ?uri WHERE {\\n\" + \"  GRAPH <\" + prefixGraphPrefix + prefix.prefix + \"> {\\n\" + \"    ?uri ?p ?o .\\n\" + \"    FILTER ( REGEX ( STR(?uri), \\\"\" + prefix.url.replace(/\\./g, \"\\\\\\\\.\") + \"\\\") )\\n\" + \"  }\\n\" + \"}\\n\" + \"LIMIT 40\";\n      return self._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n        fullSuggestions = json.results.bindings.map(function (binding) {\n          return {\n            prefix: prefix.prefix,\n            display: getPrefixedUri(binding.uri.value),\n            uri: binding.uri.value\n          };\n        });\n        return true;\n      });\n    }\n  }\n\n  _createClass(Prefixplete, [{\n    key: \"_getPrefixedUri\",\n    value: function _getPrefixedUri(fullUri) {\n      var mapping = this._prefixMappings.find(function (m) {\n        return fullUri.startsWith(m.uri);\n      });\n\n      if (mapping) {\n        return fullUri.replace(mapping.uri, mapping.prefix + \":\");\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      var _this2 = this;\n\n      var prefixedUri = this._getPrefixedUri(value);\n\n      if (prefixedUri) {\n        this._input.value = prefixedUri;\n      } else {\n        this._input.value = value;\n        var query = \"PREFIX vann: <http://purl.org/vocab/vann/>\\n\" + \"SELECT DISTINCT ?prefix ?uri WHERE {\\n\" + \"    ?sub vann:preferredNamespacePrefix ?prefix ;\\n\" + \"         vann:preferredNamespaceUri ?uri .\\n\" + \"    FILTER ( REGEX (\\\"\" + value + \"\\\", \\\"^\\\" + str(?uri)) )\\n\" + \"}\\n\" + \"LIMIT 1\";\n        return this._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n          if (json.results.bindings[0]) {\n            _this2._input.value = value.replace(json.results.bindings[0].uri.value, json.results.bindings[0].prefix.value + \":\");\n\n            _this2._prefixMappings.push({\n              'prefix': json.results.bindings[0].prefix.value,\n              'uri': json.results.bindings[0].uri.value\n            });\n          }\n\n          return true;\n        });\n      }\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup() {\n      this.action(this.value);\n    }\n  }, {\n    key: \"action\",\n    value: function action(value) {\n      console.log(\"%cPrefixplete.action(value)\", \"color: #4527a0\", \"Value \" + value + \" selected, overwrite Prefixplete.action(value) method to have something happen.\");\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      var splitup = this._input.value.toString().split(\":\");\n\n      var mapping = this._prefixMappings.find(function (m) {\n        return splitup[0] === m.prefix;\n      });\n\n      if (mapping && this._input.value.toString().indexOf(\":\") !== -1) {\n        return mapping.uri + splitup[1];\n      } else {\n        return this._input.value.toString();\n      }\n    },\n    set: function set(value) {\n      this.setValue(value);\n    }\n  }]);\n\n  return Prefixplete;\n}();\n\nexports[\"default\"] = Prefixplete;\n//# sourceMappingURL=prefixplete.js.map","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Prefixplete from \"prefixplete\";\n  import { onMount } from \"svelte\";\n\n  export let value;\n\n  let inputElement, prefixplete;\n\n  onMount(() => {\n    prefixplete = new Prefixplete(\n      inputElement,\n      \"https://ontologies.farewellutopia.com/sparql\",\n      \"https://ontologies.farewellutopia.com/\"\n    );\n\n    prefixplete.action = function() {\n      value = Factory.namedNode(prefixplete.value);\n    };\n    prefixplete.setValue(value.value);\n  });\n\n  function input(e) {\n    value = Factory.namedNode(prefixplete.value);\n  }\n  $: if(prefixplete) {\n     prefixplete.setValue(value.value);\n  }\n</script>\n\n<span>\n  <style>\n \n    .awesomplete > ul {\n      min-width: unset;\n    }\n    .awesomplete [hidden] {\n      display: none;\n    }\n\n    .awesomplete .visually-hidden {\n      position: absolute;\n      clip: rect(0, 0, 0, 0);\n    }\n\n    .awesomplete {\n      display: inline-block;\n      position: relative;\n    }\n\n    .awesomplete > input {\n      display: block;\n    }\n\n    .awesomplete > ul {\n      box-sizing: border-box;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    }\n\n    .awesomplete > ul:empty {\n      display: none;\n    }\n    /*from node_modules/awesomplete/awesomplete.css*/\n    .awesomplete [hidden] {\n      display: none;\n    }\n\n    .awesomplete .visually-hidden {\n      position: absolute;\n      clip: rect(0, 0, 0, 0);\n    }\n\n    .awesomplete {\n      display: inline-block;\n      position: relative;\n    }\n\n    .awesomplete > input {\n      display: block;\n    }\n\n    .awesomplete > ul {\n      position: absolute;\n      left: 0;\n      z-index: 1;\n      min-width: 100%;\n      box-sizing: border-box;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    }\n\n    .awesomplete > ul:empty {\n      display: none;\n    }\n\n    .awesomplete > ul {\n      border-radius: 0.3em;\n      margin: 0.2em 0 0;\n      background: hsla(0, 0%, 100%, 0.9);\n      background: linear-gradient(\n        to bottom right,\n        white,\n        hsla(0, 0%, 100%, 0.8)\n      );\n      border: 1px solid rgba(0, 0, 0, 0.3);\n      box-shadow: 0.05em 0.2em 0.6em rgba(0, 0, 0, 0.2);\n      text-shadow: none;\n    }\n\n    @supports (transform: scale(0)) {\n      .awesomplete > ul {\n        transition: 0.3s cubic-bezier(0.4, 0.2, 0.5, 1.4);\n        transform-origin: 1.43em -0.43em;\n      }\n\n      .awesomplete > ul[hidden],\n      .awesomplete > ul:empty {\n        opacity: 0;\n        transform: scale(0);\n        display: block;\n        transition-timing-function: ease;\n      }\n    }\n\n    /* Pointer */\n    .awesomplete > ul:before {\n      content: \"\";\n      position: absolute;\n      top: -0.43em;\n      left: 1em;\n      width: 0;\n      height: 0;\n      padding: 0.4em;\n      background: white;\n      border: inherit;\n      border-right: 0;\n      border-bottom: 0;\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n    }\n\n    .awesomplete > ul > li {\n      position: relative;\n      padding: 0.2em 0.5em;\n      cursor: pointer;\n    }\n\n    .awesomplete > ul > li:hover {\n      background: hsl(200, 40%, 80%);\n      color: black;\n    }\n\n    .awesomplete > ul > li[aria-selected=\"true\"] {\n      background: hsl(205, 40%, 40%);\n      color: white;\n    }\n\n    .awesomplete mark {\n      background: hsl(65, 100%, 50%);\n    }\n\n    .awesomplete li:hover mark {\n      background: hsl(68, 100%, 41%);\n    }\n\n    .awesomplete li[aria-selected=\"true\"] mark {\n      background: hsl(86, 100%, 21%);\n      color: inherit;\n    }\n  </style>\n  <input type=\"text\" bind:this={inputElement} on:input={input} />\n</span>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import HtmlEditor from \"./valueEditors/HtmlEditor.svelte\";\n  import SimpleLiteralEditor from \"./valueEditors/SimpleLiteralEditor.svelte\";\n  import NamedNodeEditor from \"./valueEditors/NamedNodeEditor.svelte\";\n  import BlankNodeEditor from \"./valueEditors/BlankNodeEditor.svelte\";\n\n  export let value;\n\n  function getType() {\n    const types = {\n      \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\": \"html\",\n      \"http://www.w3.org/2001/XMLSchema#string\": \"label\",\n      \"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\": \"langString\"\n    };\n    return value.termType === \"Literal\"\n      ? types[value.datatype.value]\n        ? types[value.datatype.value]\n        : \"literal\"\n      : value.termType === \"NamedNode\"\n      ? \"IRI\"\n      : value.termType === \"DefaultGraph\"\n      ? \"DefaultGraph\"\n      : \"BlankNode\";\n  }\n  $: type = getType(value);\n</script>\n\n<div class=\"f\" :key=\"type\">\n  {#if type === 'html'}\n    <HtmlEditor bind:value on:input />\n  {:else if type === 'IRI'}\n    <NamedNodeEditor bind:value on:input />\n  {:else if type === 'BlankNode'}\n    <BlankNodeEditor bind:value on:input />\n  {:else if type === 'label' || type === 'langString'}\n    <SimpleLiteralEditor bind:value on:input />\n  {:else}\n    <div v-else>No value editor for {type}</div>\n  {/if}\n</div>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n\n  export let value;\n  export let termTypes = null;\n  let type = null;\n  const availableOptions = {\n    html: Factory.literal(\n      \"\",\n      Factory.namedNode(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\")\n    ),\n    label: Factory.literal(\"\"),\n    \"label with language\": Factory.literal(\"\", \"en\"),\n    IRI: Factory.namedNode(\"\"),\n    \"Blank Node\": Factory.blankNode(),\n    DefaultGraph: Factory.defaultGraph()\n  };\n\n  let options = termTypes\n    ? Object.fromEntries(\n        Object.entries(availableOptions).filter(\n          ([k, n]) => termTypes.indexOf(n.termType) > -1\n        )\n      )\n    : availableOptions;\n\n  const previousValues = new Map();\n\n  function typeSelected (event) {\n      console.log(\"this.termTypes: \",termTypes);\n      console.log(\"typeSelected: \",event);\n      console.log(\"this.type: \",type);\n      if (!type) {\n          return;\n      }\n      const previousValue = previousValues.get(type);\n      if (previousValue && previousValue.value.length > 0 \n              && window.confirm(\"Restoring previous value\")) { \n              value = previousValue;\n      } else {\n          console.log(\"maps to: \",options[(type)]);\n          value = options[type];\n      }\n  }\n\n  function reset() {\n    previousValues.set(compType(), value);\n    type = null;\n    value = null;\n  }\n\n  function compType () {\n        const types = {\n            \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\": \"html\",\n            \"http://www.w3.org/2001/XMLSchema#string\": \"label\",\n            \"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\": \"langString\"\n        };\n        return (\n            value !== null ?\n                value.termType === \"Literal\" ? \n                    types[value.datatype.value] ?\n                        types[value.datatype.value] : \"literal\"\n                : value.termType === \"NamedNode\" ? \"IRI\" \n                : value.termType === \"DefaultGraph\" ? \"DefaultGraph\"\n                : \"BlankNode\"\n                : null );\n    }\n</script>\n\n<style>\n  span {\n    display: flex;\n  }\n\n  svg {\n    height: 1em;\n  }\n</style>\n\n<div class=\"te\">\n  {#if !value}\n    <select bind:value={type} on:change={typeSelected}>\n      <option disabled value={null}>Select type</option>\n      {#each Object.keys(options) as option}\n        <option value={option}>{option}</option>\n      {/each}\n    </select>\n  {:else}\n    <span>\n      <button type=\"button\" class=\"icon\" on:click={reset}>\n        <svg viewBox=\"0 0 24 24\">\n          <path\n            fill=\"currentColor\"\n            d=\"M12,6L7,11H17L12,6M7,13L12,18L17,13H7Z\" />\n        </svg>\n      </button>\n      {#if value !== null}\n        <ExistingTermEditor bind:value on:input />\n      {/if}\n    </span>\n  {/if}\n</div>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import TermEditor from \"./TermEditor.svelte\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n\n  let subject, predicate, object, graph;\n  export let value;\n  export let labels = false;\n\n  $: elementChanged(subject);\n  $: elementChanged(predicate);\n  $: elementChanged(object);\n  $: elementChanged(graph);\n\n  $: valueChanged(value);\n\n  function valueChanged(v) {\n    subject = v ? v.subject : null;\n    predicate = value ? value.predicate : Factory.namedNode(\"\");\n    object = value ? value.object : null;\n    graph = value ? value.graph : null;\n  }\n\n  function elementChanged(val) {\n    if (subject && predicate && object && graph) {\n      value = Factory.quad(subject, predicate, object, graph);\n    }\n  }\n</script>\n\n<style>\n  .area {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto;\n    grid-gap: 0 1em;\n    gap: 0 1em;\n    align-items: start;\n    margin-bottom: 0.8rem;\n  }\n\n  .element {\n    display: flex;\n    align-items: left;\n    grid-row: 2/ span 1;\n    flex-grow: 4;\n  }\n\n  label {\n    grid-row: 1/ span 1;\n  }\n\n</style>\n\n<div class=\"area\">\n\n  {#if labels}\n    <label>Subject:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor bind:value={subject} termTypes=\"['BlankNode', 'NamedNode']\" />\n  </div>\n  {#if labels}\n    <label>Predicate:</label>\n  {/if}\n  <div class=\"element\">\n  <ExistingTermEditor bind:value={predicate} />\n  </div>\n  {#if labels}\n    <label>Object:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor\n    bind:value={object}\n    termTypes=\"['BlankNode', 'NamedNode', 'Literal']\" />\n  </div>\n  {#if labels}\n    <label>Graph:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor\n    bind:value={graph}\n    termTypes=\"['BlankNode', 'NamedNode', 'DefaultGraph']\" />\n  </div>\n</div>\n","/**\r\n * provided methods to list, add, remove and replace quads\r\n */\r\nexport default class DatasetManager {\r\n    constructor(dataset, changeListener) {\r\n        this.dataset = dataset;\r\n        this.changeListener = changeListener;\r\n        this.previousHolders = new Map();\r\n    }\r\n    orderQuads(quads) {\r\n        let result = new Array();\r\n        let i = 0;\r\n        const currentHolders = new Map();\r\n        for (let quad of quads) {\r\n            let holder = this.previousHolders.get(quad);\r\n            const self = this;\r\n            if (!holder) {\r\n                holder = {\r\n                    id: \"\",\r\n                    get quad() {\r\n                        return quad;\r\n                    },\r\n                    set quad(q) {\r\n                        if (quad.equals(q)) {\r\n                            return;\r\n                        }\r\n                        self.previousHolders.delete(quad);\r\n                        self.dataset.delete(quad);\r\n                        if (q !== null) {\r\n                            self.dataset.add(q);\r\n                        }\r\n                        else {\r\n                            console.log(\"removing quad\");\r\n                        }\r\n                        quad = q;\r\n                        self.previousHolders.set(q, this);\r\n                        self.changeListener(self.dataset);\r\n                    }\r\n                };\r\n            }\r\n            this.previousHolders.set(quad, holder);\r\n            result.push(holder);\r\n        }\r\n        //previousHolders = currentHolders;\r\n        const sorted = result.sort((a, b) => {\r\n            function first(f) {\r\n                const fr = f();\r\n                const result = {\r\n                    then: function (t) {\r\n                        if (fr === 0) {\r\n                            return first(t);\r\n                        }\r\n                        else {\r\n                            return result;\r\n                        }\r\n                    },\r\n                    finally: function (t) {\r\n                        if (fr === 0) {\r\n                            return t();\r\n                        }\r\n                        else {\r\n                            return fr;\r\n                        }\r\n                    }\r\n                };\r\n                return result;\r\n            }\r\n            function compare(field) {\r\n                return () => {\r\n                    if (a.quad[field].value < b.quad[field].value) {\r\n                        return -1;\r\n                    }\r\n                    else {\r\n                        if (a.quad[field].value > b.quad[field].value) {\r\n                            return 1;\r\n                        }\r\n                        else {\r\n                            return 0;\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n            return first(compare('graph'))\r\n                .then(compare('subject'))\r\n                .then(compare('predicate'))\r\n                .finally(compare('object'));\r\n        });\r\n        const zero = { id: 0 };\r\n        const max = sorted.reduce((previous, current) => previous.id > current.id ? previous : current, zero);\r\n        let j = max.id;\r\n        sorted.forEach(holder => {\r\n            if (!holder.id) {\r\n                holder.id = ++j;\r\n            }\r\n        });\r\n        //console.log(uuid, \"sorted\", JSON.stringify(sorted));\r\n        return sorted;\r\n    }\r\n    orderedQuads() {\r\n        return this.orderQuads(this.dataset);\r\n    }\r\n}\r\n","function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n\nmodule.exports = BlankNode\n","function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n\nmodule.exports = DefaultGraph\n","function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n\nmodule.exports = NamedNode\n","var NamedNode = require('./named-node')\n\nfunction Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n\nmodule.exports = Literal\n","var DefaultGraph = require('./default-graph')\n\nfunction Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n\nmodule.exports = Quad\n","function Variable (name) {\n  this.value = name\n}\n\nVariable.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nVariable.prototype.termType = 'Variable'\n\nmodule.exports = Variable\n","var BlankNode = require('./blank-node')\nvar DefaultGraph = require('./default-graph')\nvar Literal = require('./literal')\nvar NamedNode = require('./named-node')\nvar Quad = require('./quad')\nvar Variable = require('./variable')\n\nfunction DataFactory () {}\n\nDataFactory.namedNode = function (value) {\n  return new NamedNode(value)\n}\n\nDataFactory.blankNode = function (value) {\n  return new BlankNode(value)\n}\n\nDataFactory.literal = function (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, DataFactory.namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nDataFactory.defaultGraph = function () {\n  return DataFactory.defaultGraphInstance\n}\n\nDataFactory.variable = function (value) {\n  return new Variable(value)\n}\n\nDataFactory.triple = function (subject, predicate, object) {\n  return DataFactory.quad(subject, predicate, object)\n}\n\nDataFactory.quad = function (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || DataFactory.defaultGraphInstance)\n}\n\nDataFactory.defaultGraphInstance = new DefaultGraph()\n\nmodule.exports = DataFactory\n","function isMatch (quad, subject, predicate, object, graph) {\n  if (subject && !quad.subject.equals(subject)) {\n    return false\n  }\n\n  if (predicate && !quad.predicate.equals(predicate)) {\n    return false\n  }\n\n  if (object && !quad.object.equals(object)) {\n    return false\n  }\n\n  if (graph && !quad.graph.equals(graph)) {\n    return false\n  }\n\n  return true\n}\n\nmodule.exports = isMatch\n","const isMatch = require('./isMatch')\n\nclass DatasetCore {\n  constructor (quads) {\n    this.quads = new Set()\n\n    if (quads) {\n      for (const quad of quads) {\n        this.quads.add(quad)\n      }\n    }\n  }\n\n  get size () {\n    return this.quads.size\n  }\n\n  add (quad) {\n    if (!this.has(quad)) {\n      this.quads.add(quad)\n    }\n\n    return this\n  }\n\n  delete (quad) {\n    for (const localQuad of this) {\n      if (isMatch(quad, localQuad.subject, localQuad.predicate, localQuad.object, localQuad.graph)) {\n        this.quads.delete(localQuad)\n\n        return this\n      }\n    }\n\n    return this\n  }\n\n  has (quad) {\n    for (const other of this) {\n      if (isMatch(other, quad.subject, quad.predicate, quad.object, quad.graph)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  match (subject, predicate, object, graph) {\n    const matches = new Set()\n\n    for (const quad of this) {\n      if (isMatch(quad, subject, predicate, object, graph)) {\n        matches.add(quad)\n      }\n    }\n\n    return new this.constructor(matches)\n  }\n\n  [Symbol.iterator] () {\n    return this.quads[Symbol.iterator]()\n  }\n}\n\nmodule.exports = DatasetCore\n","const rdf = require('@rdfjs/data-model')\nconst DatasetCore = require('./DatasetCore')\n\nfunction dataset (quads) {\n  return new DatasetCore(quads)\n}\n\nmodule.exports = Object.assign({ dataset }, rdf)\n","<script>\n  import DatasetManager from \"./DatasetUtils\";\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import QuadEditor from \"./QuadEditor.svelte\";\n\n  export let value;\n\n  let addingQuad = false;\n\n  let newQuad = null;\n\n  let dm = new DatasetManager(value, (ds) => value = value);\n\n  $: if (newQuad !== null) {\n    addNewQuad(newQuad);\n    newQuad = null;\n  }\n\n  $: orderedQuads = getOrderedQuads(value);\n\n  function addNewQuad(q) {\n    addingQuad = false;\n    value.add(q);\n    value = value;\n  }\n\n  function addQuad() {\n    newQuad = null;\n    addingQuad = true;\n  }\n\n  function getOrderedQuads() {\n    const r = dm.orderQuads(value);\n    return r;\n  }\n</script>\n\n<div>\n{#each orderedQuads as t (t.id)}\n  <span>\n    <QuadEditor bind:value={t.quad} />\n  </span>\n{/each}\n{#if addingQuad}\n  <div>\n    <QuadEditor bind:value={newQuad} />\n  </div>\n{:else}\n  <div>\n    <button on:click={addQuad}>Add quad</button>\n  </div>\n{/if}\n</div>\n","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n</script>\n\n\n<svg\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   width=\"{width}\" \n   height=\"{height}\" \n   viewBox=\"0 0 8.4666667 8.4666667\"\n   version=\"1.1\">\n  <defs\n     id=\"defs2\" />\n\n  <g\n     id=\"layer1\"\n     transform=\"translate(0,-288.53333)\">\n    <path\n       style=\"fill:#000000;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:12;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"M 26 4 C 25.089083 4.00132 24.294135 4.6180067 24.066406 5.5 L 23.998047 5.5 C 19.95638 5.5 16.849522 6.008625 14.240234 7.5742188 C 12.595355 8.5611358 11.175274 9.9916185 9.8398438 11.904297 C 9.2772665 11.649807 8.6582344 11.5 8.0019531 11.5 C 5.5225944 11.5 3.4980469 13.524536 3.4980469 16.003906 C 3.4980469 18.483276 5.5225944 20.5 8.0019531 20.5 C 8.6582735 20.5 9.2772403 20.349458 9.8398438 20.095703 C 11.17516 22.008206 12.595548 23.438979 14.240234 24.425781 C 16.849522 25.991375 19.95638 26.5 23.998047 26.5 L 24.064453 26.5 C 24.29236 27.382696 25.088355 27.999569 26 28 C 27.10457 28 28 27.10457 28 26 C 28 24.89543 27.10457 24 26 24 C 25.090207 24.000858 24.295631 24.615651 24.066406 25.496094 L 23.998047 25.496094 C 20.039714 25.496094 17.146571 25.004757 14.755859 23.570312 C 13.267346 22.677218 11.956801 21.368413 10.699219 19.578125 C 11.659023 18.851836 12.307278 17.755254 12.447266 16.498047 L 23.998047 16.498047 L 24.064453 16.498047 C 24.291616 17.381519 25.087792 17.99934 26 18 C 27.10457 18 28 17.10457 28 16 C 28 14.89543 27.10457 14 26 14 C 25.088519 14.0015 24.293385 14.619185 24.066406 15.501953 L 23.998047 15.501953 L 12.447266 15.501953 C 12.30562 14.246368 11.656176 13.150691 10.697266 12.423828 C 11.955396 10.632345 13.266656 9.3232203 14.755859 8.4296875 C 17.146571 6.9952812 20.039714 6.5039063 23.998047 6.5039062 L 24.064453 6.5039062 C 24.293858 7.3850521 25.08948 8.000031 26 8 C 27.10457 8.0000001 28 7.1045695 28 6 C 28 4.8954305 27.10457 3.9999999 26 4 z M 8.0019531 12.496094 C 9.9408719 12.496094 11.501953 14.064971 11.501953 16.003906 C 11.501953 17.942804 9.9408719 19.501953 8.0019531 19.501953 C 6.0630343 19.501953 4.5039063 17.942804 4.5039062 16.003906 C 4.5039062 14.064971 6.0630343 12.496094 8.0019531 12.496094 z \"\n       transform=\"matrix(0.26458333,0,0,0.26458333,0,288.53333)\"\n       id=\"path4573\" />\n    <path\n       style=\"fill:#ff2a2a;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:0.99999994;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 8.0019531,12.496094 c -1.9389188,0 -3.4980469,1.568877 -3.4980469,3.507812 10e-8,1.938898 1.5591281,3.498047 3.4980469,3.498047 1.9389188,0 3.4999999,-1.559149 3.4999999,-3.498047 0,-1.938935 -1.5610811,-3.507812 -3.4999999,-3.507812 z\"\n       transform=\"matrix(0.26458333,0,0,0.26458333,0,288.53333)\"\n       id=\"path4580\" />\n  </g>\n</svg>\n","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n</script>\n\n\n<svg\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   width=\"{width}\" \n   height=\"{height}\" \n   viewBox=\"0 0 8.4666667 8.4666667\"\n   version=\"1.1\"\n   id=\"svg8\">\n  <defs\n     id=\"defs2\" />\n  \n  <g\n     id=\"layer1\"\n     transform=\"translate(0,-288.53333)\">\n    <path\n       style=\"fill:#000000;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:3.17499995;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 1.5875001,289.59166 c 0.2410134,3.5e-4 0.4513434,0.16352 0.5115967,0.39688 h 0.018087 c 1.0693578,0 1.8913806,0.13457 2.5817547,0.5488 0.4352076,0.26112 0.8109373,0.63961 1.1642699,1.14567 0.1488486,-0.0673 0.3126341,-0.10697 0.4862752,-0.10697 0.655997,0 1.1916585,0.53566 1.1916585,1.19166 0,0.656 -0.5356615,1.18959 -1.1916585,1.18959 -0.1736514,0 -0.3374197,-0.0398 -0.4862752,-0.10697 -0.3533024,0.50601 -0.7291134,0.88457 -1.1642699,1.14566 -0.6903741,0.41423 -1.5123969,0.54881 -2.5817547,0.54881 h -0.01757 c -0.0603,0.23354 -0.2709074,0.39676 -0.5121134,0.39687 -0.2922509,0 -0.5291667,-0.23691 -0.5291667,-0.52916 0,-0.29225 0.2369158,-0.52917 0.5291667,-0.52917 0.240716,2.3e-4 0.4509476,0.16289 0.5115967,0.39584 h 0.018087 c 1.047309,0 1.8127864,-0.13 2.4453289,-0.50953 0.3938358,-0.2363 0.7405841,-0.58258 1.0733193,-1.05626 -0.2539488,-0.19217 -0.4254663,-0.48231 -0.4625048,-0.81494 h -3.0561441 -0.01757 c -0.060103,0.23375 -0.2707584,0.39722 -0.5121134,0.39739 -0.2922509,0 -0.5291667,-0.23692 -0.5291667,-0.52917 0,-0.29225 0.2369158,-0.52916 0.5291667,-0.52916 0.2411626,3.9e-4 0.4515418,0.16382 0.5115967,0.39739 h 0.018087 3.0561441 c 0.037477,-0.33221 0.2093093,-0.62211 0.4630209,-0.81442 -0.3328802,-0.474 -0.6798178,-0.82037 -1.0738361,-1.05679 -0.6325425,-0.37952 -1.3980199,-0.50952 -2.4453289,-0.50952 h -0.01757 c -0.060697,0.23313 -0.271205,0.39584 -0.5121134,0.39584 -0.2922509,0 -0.5291667,-0.23692 -0.5291667,-0.52917 0,-0.29225 0.2369158,-0.52917 0.5291665,-0.52917 z m 4.7619831,2.24793 c -0.5130056,0 -0.9260416,0.4151 -0.9260416,0.92811 0,0.513 0.413036,0.92552 0.9260416,0.92552 0.5130056,0 0.9255249,-0.41252 0.9255249,-0.92552 0,-0.51301 -0.4125193,-0.92811 -0.9255249,-0.92811 z\"\n       id=\"path4573\" />\n    <path\n       style=\"fill:#ff2a2a;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:0.26458332;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 6.3494832,291.83959 c 0.5130056,0 0.9255249,0.4151 0.9255249,0.92811 0,0.513 -0.4125193,0.92552 -0.9255249,0.92552 -0.5130056,0 -0.9260416,-0.41252 -0.9260416,-0.92552 0,-0.51301 0.413036,-0.92811 0.9260416,-0.92811 z\"\n       id=\"path4580\" />\n  </g>\n</svg>\n","<script>\nimport { createEventDispatcher } from 'svelte';\nimport SubjExpand from './images/SubjExpand.svelte';\nimport ObjExpand from './images/ObjExpand.svelte';\nconst dispatch = createEventDispatcher();\nexport let resource;\nfunction setSubject() {\n    dispatch(\"subject\", resource);\n}\nfunction setObject() {\n    dispatch(\"object\", resource);\n}\n\n</script>\n\n<style>\ndiv {\n  display: flex;\n  flex-shrink: 0;\n}\nbutton {\n  margin-left: .4em;\n}\n</style>\n\n<div>\n    <button class=\"icon\" on:click={setSubject}>\n        <SubjExpand size=\"1em\"/>\n    </button>\n    <button class=\"icon\" on:click={setObject}>\n        <ObjExpand size=\"1em\"/>\n    </button>\n</div>","<script>\n  import TermEditor from \"./TermEditor.svelte\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n  import ResourceNavigator from \"./ResourceNavigator.svelte\";\n  import * as Factory from \"@rdfjs/data-model\";\n  import { createEventDispatcher } from \"svelte\";\n  const dispatch = createEventDispatcher();\n  export let value;\n  export let fixedSubject;\n  export let fixedObject;\n  export let fixedGraph;\n  export let labels = false;\n  let subject = value ? value.subject : fixedSubject ? fixedSubject : null;\n  let predicate = value ? value.predicate : Factory.namedNode(\"\");\n  let object = value ? value.object : fixedObject ? fixedObject : null;\n  let graph = value ? value.graph : fixedGraph ? fixedGraph : null;\n  const elementChanged = function (val) {\n    if (subject && predicate && object && graph) {\n      const newQuad = Factory.quad(subject, predicate, object, graph);\n      if (!value || !newQuad.equals(value)) {\n        console.log(\"new quad\", newQuad);\n        value = newQuad;\n      }\n    }\n  };\n  $: elementChanged(subject);\n  $: elementChanged(predicate);\n  $: elementChanged(object);\n  $: elementChanged(graph);\n  $: setElements(value);\n  function setElements(quad) {\n    if (quad !== null) {\n      subject = quad.subject;\n      predicate = quad.predicate;\n      object = quad.object;\n      graph = quad.graph;\n    }\n  }\n</script>\n\n<style>\n  .area {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto;\n    grid-gap: 0 1em;\n    gap: 0 1em;\n    align-items: start;\n    margin-bottom: 0.8rem;\n  }\n\n  .element {\n    display: flex;\n    align-items: left;\n    grid-row: 2/ span 1;\n    flex-grow: 4;\n  }\n\n  label {\n    grid-row: 1/ span 1;\n  }\n\n  .placeholder {\n    grid-row: 2/ span 1;\n    flex-grow: 1;\n  }\n</style>\n\n<div class=\"area\">\n  {#if !fixedSubject}\n    {#if labels}\n      <label>Subject:</label>\n    {/if}\n    <div class=\"element\">\n      <TermEditor bind:value={subject} termTypes={['BlankNode', 'NamedNode']} />\n      {#if subject && subject.termType !== 'Literal'}\n        <ResourceNavigator resource={subject} on:subject on:object />\n      {/if}\n    </div>\n  {:else}\n  <div class=\"placeholder\"></div>\n  {/if}\n  {#if labels}\n    <label>Predicate:</label>\n  {/if}\n  <div class=\"element\">\n    <ExistingTermEditor bind:value={predicate} />\n  </div>\n  {#if !fixedObject}\n    {#if labels}\n      <label>Object:</label>\n    {/if}\n    <div class=\"element\">\n      <TermEditor\n        bind:value={object}\n        termTypes={['BlankNode', 'NamedNode', 'Literal']} />\n      {#if object && object.termType !== 'Literal'}\n        <ResourceNavigator resource={object} on:subject on:object />\n      {/if}\n    </div>\n  {:else}\n  <div class=\"placeholder\"></div>\n  {/if}\n  {#if !fixedGraph}\n    <div class=\"element\">\n      <TermEditor\n        bind:value={graph}\n        termTypes={['BlankNode', 'NamedNode', 'DefaultGraph']} />\n    </div>\n  {/if}\n</div>\n","<script>\nimport SubjExpand from './images/SubjExpand.svelte';\nimport ObjExpand from './images/ObjExpand.svelte';\nimport BrowserRow from \"./BrowserRow.svelte\"\nimport * as Factory from \"@rdfjs/data-model\";\nimport DatasetManager from \"./DatasetUtils\";\nexport let value;\nexport let subject = null;\nlet subjectFilter = null;\nexport let object = null;\nlet objectFilter = null;\nexport let graph = null;\nlet graphFilter = null;\nlet newQuad = null;\nlet addingQuad = false;\nconst dm = new DatasetManager(value, (ds) => value = value);\nif (subject) {\n    if (typeof subject === \"string\") {\n        subjectFilter = Factory.namedNode(subject);\n    }\n    else {\n        subjectFilter = subject;\n    }\n}\nif (object) {\n    if (typeof object === \"string\") {\n        objectFilter = Factory.namedNode(object);\n    }\n    else {\n        objectFilter = object;\n    }\n}\nif (graph) {\n    if (typeof graph === \"string\") {\n        graphFilter = Factory.namedNode(graph);\n    }\n    else {\n        graphFilter = graph;\n    }\n}\n$: if (newQuad !== null) {\n    addNewQuad(newQuad);\n    newQuad = null;\n}\nlet orderedQuads;\n//value is just us so it reacts for that var\n$: orderedQuads = value || subjectFilter || objectFilter ? getOrderedQuads() : null;\nfunction addNewQuad(q) {\n    addingQuad = false;\n    value.add(q);\n    value = value;\n}\nfunction addQuad() {\n    newQuad = null;\n    addingQuad = true;\n}\nfunction getOrderedQuads() {\n    const result = dm.orderQuads(value.match(subjectFilter, undefined, objectFilter, graphFilter));\n    console.log(\"getOrderedQuads\", result);\n    return result;\n}\nfunction setSubject(event) {\n    objectFilter = null;\n    subjectFilter = event.detail;\n}\nfunction setObject(event) {\n    console.log(\"setobj\", event.detail);\n    objectFilter = event.detail;\n    subjectFilter = null;\n}\n\n</script>\n<style>\n .icon {\n     padding: .4rem;\n }\n\n</style>\n\n<div>\n    {#if subjectFilter}\n        <h2>\n            <button class=\"icon\" on:click={() => {\n                    objectFilter = subjectFilter;\n                    subjectFilter = null;\n                }}>\n                <ObjExpand size=\"1rem\"/>\n            </button>\n            {subjectFilter.value}\n            <SubjExpand size=\"2em\"/>\n        </h2>\n    {/if}\n    {#if objectFilter}\n        <h2 style=\"text-align: end;\">\n            <ObjExpand size=\"2em\"/>\n            {objectFilter.value}\n            <button class=\"icon\" on:click={() => {\n                subjectFilter = objectFilter;\n                objectFilter = null;\n            }}>\n            <SubjExpand size=\"1rem\"/>\n        </button>\n        </h2>\n    {/if}\n    {#each orderedQuads as t (t.id)}\n    <span>\n      <BrowserRow bind:value={t.quad} fixedSubject={subjectFilter} \n      fixedGraph={graphFilter} fixedObject={objectFilter}\n      on:subject={setSubject} on:object={setObject} />\n    </span>\n    {/each}\n    {#if addingQuad}\n        <div>\n            <BrowserRow bind:value={newQuad} fixedSubject={subjectFilter} \n            fixedGraph={graphFilter} fixedObject={objectFilter}/>\n        </div>\n    {:else}\n        <div>\n            <button on:click={addQuad}>Add attribute</button>\n        </div>\n    {/if}\n</div>","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import * as N3 from \"n3\";\n  import {\n    DatasetBrowser,\n  } from \"rdfjs-svelte\";\n\n  global.setImmediate = function(f) {\n    setTimeout(f,0);\n  }\n  let dataset = Dataset.dataset([]);\n  const parser = new N3.Parser();\n\n  fetch(\"./tbbt.nt\")\n    .then((r) => r.text())\n    .then((t) => {\n      parser.parse(\n        t,\n        (error, quad, prefixes) => {\n          if (quad) {\n            console.log(JSON.stringify(quad));\n            dataset.add(quad);\n          }\n          else {\n            console.log(\"# Tjhjhl, folks!\", prefixes);\n            console.log(\"dataset\", dataset);\n            dataset = dataset;\n          }\n        }\n      );\n    });\n\n\n  $: console.log(\"dataset\", dataset);\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n\n  main {\n    padding: 1em;\n    margin: 0 auto;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n\n<main>\n  <h1>RDFJS-Svelte</h1>\n  <p>\n    <a href=\"https://svelte.dev/\">Svelte</a>\n    components to edit\n    <a href=\"http://rdf.js.org/\">RDFSJS</a>\n    objects such as Literals, NamedNodes and Datasets.\n  </p>\n  <p>\n    The sources are available on\n    <a href=\"https://github.com/linked-solutions/rdfjs-svelte\">GitHub</a>\n    .\n  </p>\n  <p>\n    Also check out\n    <a href=\"https://rdfjs-vue.linked.solutions/\">RDFSJS Vue</a>\n    which offers similar functionality for\n    <a href=\"https://vuejs.org/\">Vue</a>\n    instead of Svelte.\n  </p>\n  <p>Try out the Dataset Browser below or any component <a href=\"/components\">here</a>.</p>\n  <DatasetBrowser\n    bind:value={dataset}\n    subject=\"http://example.org/person/sheldon-cooper\"\n    graph={Factory.defaultGraph()} />\n</main>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import { SimpleLiteralEditor, HtmlEditor, \n      BlankNodeEditor, NamedNodeEditor, \n      ExistingTermEditor, TermEditor,\n      QuadEditor, DatasetEditor, DatasetBrowser } from \"rdfjs-svelte\";\n\n  let literal = Factory.literal(\n    \"My first literal\",\n    \"http://www.w3.org/2001/XMLSchema#string\"\n  );\n  let htmlLiteral = Factory.literal(\n    \"Hello <strong>world</strong>\",\n    \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\"\n  );\n  //$: console.log(\"htmlLiteral\", htmlLiteral);\n  let blankNode1 = Factory.blankNode();\n  let namedNode1 = Factory.namedNode(\"http://example.org/foo\");\n  let namedNode2 = Factory.namedNode(\"http://example.org/other\");\n  let newValue = null;\n  let newValue2 = null;\n  let quad1 = Factory.quad(Factory.namedNode(\"http://example.org/Alice\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Bob\"), Factory.defaultGraph());\n  //$: console.log(\"quad1\", quad1);\n  window.q1 = quad1;\n  let dataset = Dataset.dataset([Factory.quad(Factory.namedNode(\"http://example.org/Bill\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Berta\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Charlie\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Carl\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Carl\"), \n          Factory.namedNode(\"http://example.org/admires\"), \n          Factory.namedNode(\"http://example.org/Bill\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Berta\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Charlie\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Bill\"), \n          Factory.namedNode(\"http://example.org/loves\"), \n          Factory.namedNode(\"http://example.org/Alice\"), \n          Factory.namedNode(\"http://example.org/BillsSecrets\"))]);\n\n  $: console.log(\"dataset\", dataset);\n</script>\n\n<style>\n  main {\n    padding: 1em;\n    margin: 0 auto;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n\n<main>\n  <h1>Demo of RDFJS-Svelte components</h1>\n  <HtmlEditor bind:value={htmlLiteral} />\n  Same: <ExistingTermEditor bind:value={htmlLiteral} />\n  <hr>\n  <SimpleLiteralEditor bind:value={literal} />\n  Same: <ExistingTermEditor bind:value={literal} />\n  <hr>\n  <NamedNodeEditor bind:value={namedNode1} /><br />\n  Same: <ExistingTermEditor bind:value={namedNode1} />\n  <hr>\n  <BlankNodeEditor bind:value={blankNode1} />\n  same: <ExistingTermEditor bind:value={blankNode1} />\n  <hr>\n  <TermEditor bind:value={newValue} />\n  Same: <TermEditor bind:value={newValue} />\n  <hr>\n  Limited types:\n  <TermEditor bind:value={newValue2} termTypes=\"['BlankNode', 'NamedNode', 'DefaultGraph']\" />\n  <hr>\n  Existing resource:\n    <TermEditor bind:value={namedNode2} />\n<hr>\n  <QuadEditor bind:value={quad1} labels />\n  Same: <QuadEditor bind:value={quad1} />\n\n  <h2>Dataset</h2>\n  <DatasetEditor bind:value={dataset} />\n  <h2>Dataset Browser</h2>\n  <DatasetBrowser bind:value={dataset} \n  subject=\"http://example.org/Bill\" graph={Factory.defaultGraph()} />\n</main>\n","import Entry from './Entry.svelte'\nimport Components from './Components.svelte'\n\nconst routes = [\n  {\n    name: '/',\n    component: Entry,\n  },\n  {\n    name: '/components',\n    component: Components,\n  },\n]\n\nexport { routes }","<script>\n  import { Router } from 'svelte-router-spa'\n  import { routes } from './routes'\n\n  document.title = 'RDFJS Svelte'\n</script>\n\n<Router {routes} />","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_slot_context","definition","ctx","$$scope","tar","src","k","assign","slice","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","style","setProperty","select_option","select","i","length","option","__value","selected","toggle_class","toggle","classList","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","type","detail","e","createEvent","initCustomEvent","custom_event","call","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","flush","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","outro_and_destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","next","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","set","Math","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","bind","index","props","undefined","bound","create_component","mount_component","on_destroy","new_on_destroy","map","filter","destroy_component","detaching","make_dirty","then","fill","init","instance","create_fragment","not_equal","parent_component","prop_values","context","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","this","$destroy","indexOf","splice","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","router","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","_","activeRoute","route","remove","urlString","namedUrl","urlBase","URL","namedParamsWithIndex","getPathNames","reduce","validParams","param","pathNames","pathname","pathName","trim","split","freeze","host","hostname","namedParams","allPathName","paramKey","namedParamsKeys","namedParamsValues","port","protocol","search","queryParams","params","searchParams","queryParamsKeys","_value","queryParamsValues","compareRoutes","routeName","removeSlash","includes","startsWith","findLocalisedRoute","language","exists","lang","entries","position","routeNameLocalised","anyEmptyNestedRoutes","routeObject","keys","childRoute","getNamedParams","nameToPath","toLowerCase","pathWithQueryParams","currentRoute","path","join","pathWithoutQueryParams","removeExtraPaths","basePathNames","names","shift","updateRoutePath","basePath","convert","basePathResult","currentLanguage","localisedRoute","routeNames","currentPathName","UrlParser","require$$0","require$$1","RouterCurrent","trackPage","trackPageview","active","isActive","queryPath","includePath","activeRoutePath","setActive","newRoute","window","pathAndSearch","history","pushState","page","newPage","ga","pushActiveRoute","RouterGuard","onlyIf","guardInfo","valid","guard","redirect","redirectPath","destinationUrl","RouterRedirect","currentPath","redirectTo","RouterRoute","routeInfo","routeNamedParams","urlParser","namedPath","parsedParams","layout","RouterPath","basePathName","updatedPathRoute","routePathLanguage","localisedPathName","localisedRouteWithoutNamedParams","basePathNameWithoutNamedParams","basePathSameAsLocalised","updatedPath","localisedPath","routeLanguage","routePath","routePathValue","require$$2","require$$3","require$$4","RouterFinder","routes","currentUrl","routerOptions","defaultLanguage","findActiveRoute","searchActiveRoute","searchActiveRoutes","routerPath","routerRoute","setCurrentRoute","nestedRoutes","nestedRoutesAndNoPath","indexRoute","customLanguage","custom404Page","find","routeNotFound","routerCurrent","userDefinedRoutes","SpaRouter","langConvertTo","location","href","gaPageviews","setActiveRoute","navigateTo","localName","preventDefault","onpopstate","_event","routeIsActive","slot_ctx","lets","merged","len","max","to","title","styles","stopPropagation","Route","Router","Navigate","BlankNode","id","nextId","DefaultGraph","NamedNode","iri","Literal","datatype","stringDatatype","langStringDatatype","Quad","subject","predicate","object","graph","prototype","equals","other","termType","defaultGraphInstance","namedNode","literal","languageOrDatatype","defaultGraph","quad","Variable","DataFactory","blankNode","variable","triple","DatasetCore","quads","size","localQuad","isMatch","matches","constructor","Symbol","iterator","dataset","rdf","RDF","XSD","SWAP","xsd","decimal","boolean","double","integer","string","nil","langString","owl","sameAs","forSome","forAll","log","implies","namespaces","DEFAULTGRAPH","_blankNodeCounter","Term","substring","lastIndexOf","atPos","substr","datatypeString","ch","dtPos","super","toJSON","languageOrDataType","Number","isFinite","isInteger","isNaN","internal","Triple","fromId","factory","endPos","toId","term","fromCharCode","String","escapeSequence","escapeReplacements","\\","'","\"","t","f","~",".","-","!","$","&","(",")","*","+",",",";","=","/","?","#","@","%","illegalIriChars","lineModeRegExps","_iri","_unescapedIri","_simpleQuotedString","_langcode","_blank","_newline","_comment","_whitespace","_endOfFile","invalidRegExp","N3Lexer","_simpleApostropheString","_prefix","_prefixed","_variable","_number","_boolean","_keyword","_sparqlKeyword","_shortPredicates","_lineMode","lineMode","_n3Mode","RegExp","n3","_comments","comments","_literalClosingPos","inputFinished","_input","outputComments","whiteSpaceMatch","comment","exec","line","_line","prefix","test","firstChar","match","matchLength","inconclusive","_previousMarker","_unescape","reportSyntaxError","_parseLiteral","toUpperCase","token","previousToken","self","_syntaxError","item","replace","sequence","unicode4","unicode8","escapedChar","charCode","parseInt","replacement","error","opening","openingLength","closingPos","backslashCount","raw","lines","issue","err","tokens","_tokenizeToEnd","setImmediate","_pendingBuffer","setEncoding","on","Buffer","concat","blankNodePrefix","N3Parser","_contextStack","_graph","_setBase","baseIRI","initDataFactory","format","isTurtle","isTriG","isNTriples","isNQuads","isN3","isLineMode","_supportsNamedGraphs","_readPredicateOrNamedGraph","_readPredicate","_supportsQuads","_resolveRelativeIRI","_blankNodePrefix","_lexer","lexer","_explicitQuantifiers","explicitQuantifiers","fragmentPos","_base","_basePath","_baseRoot","_baseScheme","n3Mode","inverse","_inversePredicate","blankPrefix","_prefixes","quantified","_quantified","_subject","_predicate","_object","_error","_callback","_sparqlStyle","_readPrefix","_readBaseIRI","_readSubject","_readNamedGraphLabel","quantifier","_resolveIRI","_namedNode","_blankNode","_saveContext","_readBlankNodeHead","RDF_NIL","_readListItem","_readPunctuation","N3_FORSOME","_quantifier","_readQuantifierList","N3_FORALL","_literalValue","_completeSubjectLiteral","_literal","_readEntity","_getPathReader","ABBREVIATIONS","_readBlankNodeTail","_readObject","_readDataTypeOrLang","_getContextEndReader","_readGraph","_readBlankNodePunctuation","_emit","_restoreContext","_readPredicateAfterBlank","previousList","stack","parent","RDF_FIRST","_readListItemDataTypeOrLang","RDF_REST","_completeObjectLiteral","_completeLiteral","listItem","completed","_readCallback","inversePredicate","_readFormulaTail","_readInTopContext","_readQuadPunctuation","_readPrefixIRI","prefixNode","_prefixCallback","_readDeclarationPunctuation","_readNamedGraphBlankLabel","entity","QUANTIFIERS_GRAPH","_readQuantifierPunctuation","afterPath","_afterPath","_readPath","_readForwardPath","_readBackwardPath","contextStack","_quad","message","_removeDotSegments","pathStart","segmentStart","quadCallback","prefixCallback","tokenize","every","parser",">","EventHandlers","EventEmitter","$getMaxListeners","that","_maxListeners","defaultMaxListeners","emitNone","isFn","listeners","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","args","apply","_addListener","listener","prepend","events","existing","TypeError","_events","newListener","emit","_eventsCount","unshift","warned","w","emitter","count","console","warn","_onceWrap","fired","g","removeListener","arguments","listenerCount","evlistener","arr","copy","defaultSetTimout","defaultClearTimeout","N3DataFactory","usingDomains","domain","getPrototypeOf","setMaxListeners","getMaxListeners","er","doError","domainEmitter","domainThrown","addListener","prependListener","once","prependOnceListener","originalListener","spliceOne","removeAllListeners","unwrapListeners","eventNames","Reflect","ownKeys","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","global","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","nextTick","Item","array","ctor","superCtor","super_","enumerable","configurable","TempCtor","formatRegExp","isString","objects","inspect","str","x","JSON","stringify","isNull","isObject","deprecate","msg","isUndefined","process","debugEnviron","debugs","obj","opts","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","recurseTimes","isFunction","primitive","simple","arg","formatPrimitive","visibleKeys","hash","val","idx","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","toString","isDate","Date","ar","output","base","braces","toUTCString","hasOwnProperty","formatProperty","formatArray","prev","cur","reduceToSingleString","desc","getOwnPropertyDescriptor","re","objectToString","origin","prop","bold","italic","underline","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","null","date","regexp","revLookup","Arr","Uint8Array","code","charCodeAt","encodeChunk","uint8","end","tmp","num","fromByteArray","extraBytes","parts","len2","read","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","pow","write","rt","floor","LN2","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","__proto__","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","internalIsBuffer","checked","fromObject","assertSize","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64.fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","poolSize","_augment","alloc","allocUnsafeSlow","isBuffer","isFastBuffer","readFloatLE","isSlowBuffer","compare","y","pos","swap16","swap32","swap64","thisStart","thisEnd","thisCopy","targetCopy","_arr","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","b64","placeHolders","L","base64.toByteArray","stringtrim","base64clean","dst","BufferList","head","tail","v","entry","isBufferEncoding","StringDecoder","assertEncoding","surrogateSize","detectIncompleteChar","utf16DetectIncompleteChar","base64DetectIncompleteChar","passThroughWrite","charBuffer","charReceived","charLength","charStr","available","cr","enc","Readable","ReadableState","debug","debuglog","stream","objectMode","Duplex","readableObjectMode","hwm","highWaterMark","defaultHwm","pipes","pipesCount","flowing","ended","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","_read","readableAddChunk","state","chunk","addToFront","chunkInvalid","emitReadable","onEofChunk","_e","skipAdd","maybeReadMore_","maybeReadMore","needMoreData","isPaused","howMuchToRead","computeNewHighWaterMark","emitReadable_","flow","nReadingNextTick","resume_","fromList","hasStrings","nb","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nop","WriteReq","cb","WritableState","defineProperty","getBuffer","writableObjectMode","needDrain","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","_writableState","writecb","writelen","onwriteStateUpdate","pendingcb","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","corkedRequestsFree","CorkedRequest","Writable","_write","writev","_writev","doWrite","onwriteDrain","finishMaybe","holder","finish","prefinish","need","_this","nOrig","doRead","pipe","dest","pipeOpts","endFn","onend","onunpipe","ondrain","pipeOnDrain","cleanedUp","onclose","onfinish","onerror","ondata","increasedAwaitDrain","pause","unpipe","resume","dests","_i","ev","wrap","paused","method","_fromList","current","writeAfterEnd","validChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","allowHalfOpen","onEndNT","TransformState","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","Transform","transform","_transform","_flush","done","ws","PassThrough","Stream","EE","source","_isStdio","didOnEnd","content","Factory.literal","module","get_store_value","component_subscribe","set_store_value","destroy_each","iterations","HtmlTag","html","u","innerHTML","globals","command","execCommand","getTagsRecursive","tags","tagName","tag","textAlign","color","backgroundColor","_tag","saveRange","editor","documentSelection","getSelection","range","rangeCount","rangeStart","savedRange","getRangeAt","createRange","selectNodeContents","setEnd","startContainer","startOffset","metaRange","restoreRange","charIndex","nodeStack","foundStart","nodeType","nextCharIndex","setStart","cn","removeAllRanges","addRange","removeBlockTagsRecursive","elements","tagsToRemove","some","wrapper","docFrag","createDocumentFragment","firstChild","child","replaceChild","unwrap","getActionBtns","actions","action","removeBadTags","badTag","isEditorClick","editorWrapper","parentElement","linkSvg","defaultActions","viewHtml","icon","refs","references","actionObj","helper","showEditor","display","disabled","actionBtns","undo","redo","strike","sup","h1","h2","blockquote","ol","ul","hr","left","right","center","justify","selection","focusNode","actionBtn","modal","$set","show","label","link","$on","image","forecolor","colorPicker","showColorPicker","backcolor","removeFormat","removeFormatTags","cmd","create_if_block","span","textContent","div3","div0","t0","div2","div1","span0","t1","t2","form","label_1","t3","span2","span1","t4","t5","t6","button0","t8","button1","dispose","if_block","$$self","$$props","$$invalidate","dispatcher","confirm","cancel","focus","$$value","EditorModal","getElementById","get_each_context","button","t_value","click_handler","new_ctx","create_fragment$1","each_value","each_blocks","instance$1","getBtns","btns","close","selectColor","btn","EditorColorPicker","createStateStore","document_1","get_each_context$1","create_each_block$1","html_tag","button_class_value","button_title_value","button_disabled_value","raw_value","click_handler_1","create_fragment$2","textarea","editormodal","editorcolorpicker","editors","_onPaste","exec$1","clipboardData","getData","cleanHtml","instance$2","$state","$references","$helper","height","foreColor","backColor","foreColorModal","backColorModal","blurActive","contextKey","userActions","newActions","getNewActionObj","getHtml","getText","setHtml","saveRange$1","restoreRange$1","_btnClicked","_handleButtonStatus","clearBtns","_onChange","_documentClick","sanitize","innerText","setContext","editArea","Editor","Factory.blankNode","me","isOpened","properties","initial","attrValue","Function","configure","minChars","maxItems","autoFirst","DATA","FILTER_CONTAINS","sort","SORT_BYLENGTH","container","CONTAINER","ITEM","REPLACE","tabSelect","hidden","role","inside","status","className","aria-live","aria-atomic","evaluate","blur","reason","keydown","evt","keyCode","opened","submit","mousedown","click","li","nodeName","hasAttribute","all","Suggestion","_list","items","el","activeElement","fire","open","goto","unbind","indexOfAwesomplete","previous","lis","scrollTop","offsetTop","clientHeight","suggestions","originalEvent","siblingIndex","suggestion","regExpEscape","FILTER_STARTSWITH","around","item_id","aria-selected","valueOf","expr","con","querySelector","querySelectorAll","ref","initEvent","dispatchEvent","previousElementSibling","Awesomplete","Document","readyState","exports","escape","escapeAll","escapedCharacters","\t","\n","\r","\b","\f","SerializedTerm","N3Writer","outputStream","_prefixRegex","_lists","lists","_outputStream","_endStream","_writeQuad","_writeQuadLine","_prefixIRIs","prefixes","addPrefixes","_inDefaultGraph","_encodeIriOrBlank","_encodeObject","_encodePredicate","_prefixMatch","quadToString","characterReplacer","prefixMatch","_encodeLiteral","addQuad","prefixIRIs","hasPrefixes","IRIlist","prefixList","prefixIRI","contents","_blockedWrite","singleDone","character","isDefaultGraph","defaultPrefixes","processPrefix","cache","_size","_graphs","_id","_ids","_entities","_blankNodeIndex","_factory","addQuads","subjects","graphs","graphKey","subjectKey","predicateKey","index0","key0","key1","key2","index1","index2","existed","name0","name1","name2","entityKeys","value0","entity0","value1","entity1","uniqueIds","entities","graphItem","predicates","ids","changed","_addToIndex","_removeFromIndex","removeQuad","removeMatches","subjectId","predicateId","objectId","_getGraphs","graphId","_findInIndex","getQuads","_countInIndex","results","forSubjects","_uniqueEntities","_loopBy2Keys","_loopByKey1","_loopByKey0","_loop","forPredicates","forObjects","forGraphs","suggestedName","ignoreErrors","onError","tails","toRemove","tailQuad","headPos","malformed","objectQuads","subjectQuads","removeQuads","onData","onEnd","parse","uri","writer","_writer","addPrefix","getGlobal","fetch","Headers","Request","Response","_typeof","N3","__esModule","default","_getRequireWildcardCache","newObj","hasPropertyDescriptor","_interopRequireWildcard","_nodeFetch","WeakMap","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","Constructor","_defineProperties","descriptor","SparqlEndpoint","logQueries","_uri","_logQueries","protoProps","staticProps","query","fetchOptions","encodedQuery","encodeURIComponent","headers","accept","response","ok","json","Parser","_awesomplete","_interopRequireDefault","_sparqlClient","Prefixplete","sparqlEndpoint","prefixGraphPrefix","getSparqlResultSet","_sparqlEndpoint","_prefixMappings","previousValue","prefixSuggestions","fullSuggestions","awesomplete","getFullUri","prefixedUri","splitup","mapping","getPrefixedUri","fullUri","_getPrefixedUri","populateSuggestions","getPrefixUrlSuggestions","getFullSuggestions","url","bindings","binding","_this2","setValue","inputElement","prefixplete","Factory.namedNode","getType","types","http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML","http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","termTypes","availableOptions","label with language","IRI","Blank Node","fromEntries","previousValues","compType","selected_option","labels","valueChanged","elementChanged","Factory.quad","DatasetManager","changeListener","previousHolders","q","sorted","field","fr","finally","orderQuads","addingQuad","newQuad","dm","ds","addNewQuad","getOrderedQuads","orderedQuads","width","dispatch","resource","fixedSubject","fixedObject","fixedGraph","setElements","subjectFilter","objectFilter","graphFilter","Factory.defaultGraph","Dataset","N3.Parser","htmlLiteral","blankNode1","namedNode1","namedNode2","newValue","newValue2","quad1","q1","body"],"mappings":"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"}