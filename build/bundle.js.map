{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-spa-router/Router.svelte","../../node_modules/svelte-spa-router/node_modules/regexparam/dist/regexparam.mjs","../../node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/variable.js","../../node_modules/@rdfjs/dataset/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/@rdfjs/dataset/isMatch.js","../../node_modules/@rdfjs/dataset/DatasetCore.js","../../node_modules/@rdfjs/dataset/index.js","../../node_modules/n3/src/IRIs.js","../../node_modules/n3/src/N3DataFactory.js","../../node_modules/n3/src/N3Lexer.js","../../node_modules/n3/src/N3Parser.js","../../node_modules/rollup-plugin-node-builtins/src/es6/events.js","../../node_modules/process-es6/browser.js","../../node_modules/rollup-plugin-node-builtins/src/es6/inherits.js","../../node_modules/rollup-plugin-node-builtins/src/es6/util.js","../../node_modules/buffer-es6/base64.js","../../node_modules/buffer-es6/ieee754.js","../../node_modules/buffer-es6/isArray.js","../../node_modules/buffer-es6/index.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/buffer-list.js","../../node_modules/rollup-plugin-node-builtins/src/es6/string-decoder.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/readable.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/writable.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/duplex.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/transform.js","../../node_modules/rollup-plugin-node-builtins/src/es6/readable-stream/passthrough.js","../../node_modules/rollup-plugin-node-builtins/src/es6/stream.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/blank-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/default-graph.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/named-node.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/literal.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/quad.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/variable.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/data-model/lib/data-factory.js","../../node_modules/rdfjs-svelte/src/valueEditors/SimpleLiteralEditor.svelte","../../node_modules/rdfjs-svelte/node_modules/cl-editor/src/helpers/util.js","../../node_modules/rdfjs-svelte/node_modules/cl-editor/src/helpers/actions.js","../../node_modules/rdfjs-svelte/node_modules/cl-editor/src/helpers/EditorModal.svelte","../../node_modules/rdfjs-svelte/node_modules/cl-editor/src/helpers/EditorColorPicker.svelte","../../node_modules/rdfjs-svelte/node_modules/cl-editor/src/helpers/store.js","../../node_modules/rdfjs-svelte/node_modules/cl-editor/src/Editor.svelte","../../node_modules/rdfjs-svelte/src/valueEditors/HtmlEditor.svelte","../../node_modules/rdfjs-svelte/src/valueEditors/BlankNodeEditor.svelte","../../node_modules/rdfjs-svelte/node_modules/awesomplete/awesomplete.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/IRIs.js","../../node_modules/rdfjs-svelte/node_modules/queue-microtask/index.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3Lexer.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3DataFactory.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3Parser.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3Writer.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3Store.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3Util.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3StreamParser.js","../../node_modules/rdfjs-svelte/node_modules/n3/src/N3StreamWriter.js","../../node_modules/rdfjs-svelte/node_modules/node-fetch/browser.js","../../node_modules/rdfjs-svelte/node_modules/@retog/sparql-client/lib/SparqlEndpoint.js","../../node_modules/rdfjs-svelte/node_modules/prefixplete/lib/prefixplete.js","../../node_modules/rdfjs-svelte/src/valueEditors/NamedNodeEditor.svelte","../../node_modules/rdfjs-svelte/src/ExistingTermEditor.svelte","../../node_modules/rdfjs-svelte/src/TermEditor.svelte","../../node_modules/rdfjs-svelte/src/QuadEditor.svelte","../../node_modules/rdfjs-svelte/src/DatasetUtils.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/isMatch.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/DatasetCore.js","../../node_modules/rdfjs-svelte/node_modules/@rdfjs/dataset/index.js","../../node_modules/rdfjs-svelte/src/DatasetEditor.svelte","../../node_modules/rdfjs-svelte/src/images/SubjExpand.svelte","../../node_modules/rdfjs-svelte/src/images/ObjExpand.svelte","../../node_modules/rdfjs-svelte/src/ResourceNavigator.svelte","../../node_modules/rdfjs-svelte/src/BrowserRow.svelte","../../node_modules/rdfjs-svelte/src/DatasetBrowser.svelte","../../src/Entry.svelte","../../src/Components.svelte","../../src/routes.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.24.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","<script context=\"module\">\nimport {readable, derived} from 'svelte/store'\nimport {tick} from 'svelte'\n\n/**\n * Wraps a route to add route pre-conditions.\n * \n * @param {SvelteComponent} route - Svelte component for the route\n * @param {Object} [userData] - Optional object that will be passed to each `conditionsFailed` event\n * @param {...Function} conditions - Route pre-conditions to add, which will be executed in order\n * @returns {Object} Wrapped route\n */\nexport function wrap(route, userData, ...conditions) {\n    // Check if we don't have userData\n    if (userData && typeof userData == 'function') {\n        conditions = (conditions && conditions.length) ? conditions : []\n        conditions.unshift(userData)\n        userData = undefined\n    }\n\n    // Parameter route and each item of conditions must be functions\n    if (!route || typeof route != 'function') {\n        throw Error('Invalid parameter route')\n    }\n    if (conditions && conditions.length) {\n        for (let i = 0; i < conditions.length; i++) {\n            if (!conditions[i] || typeof conditions[i] != 'function') {\n                throw Error('Invalid parameter conditions[' + i + ']')\n            }\n        }\n    }\n\n    // Returns an object that contains all the functions to execute too\n    const obj = {route, userData}\n    if (conditions && conditions.length) {\n        obj.conditions = conditions\n    }\n\n    // The _sveltesparouter flag is to confirm the object was created by this router\n    Object.defineProperty(obj, '_sveltesparouter', {\n        value: true\n    })\n\n    return obj\n}\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    null,\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        set(getLocation())\n\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    return tick().then(() => {\n        window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n    })\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n * \n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function pop() {\n    // Execute this code when the current call stack is complete\n    return tick().then(() => {\n        window.history.back()\n    })\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise} Promise that resolves after the page navigation has completed\n */\nexport function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    return tick().then(() => {\n        const dest = (location.charAt(0) == '#' ? '' : '#') + location\n        try {\n            window.history.replaceState(undefined, undefined, dest)\n        }\n        catch (e) {\n            // eslint-disable-next-line no-console\n            console.warn('Caught exception while replacing the current page. If you\\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.')\n        }\n\n        // The method above doesn't trigger the hashchange event, so let's do that manually\n        window.dispatchEvent(new Event('hashchange'))\n    })\n}\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n * @param {string} hrefVar - A string to use in place of the link's href attribute. Using this allows for updating link's targets reactively.\n */\nexport function link(node, hrefVar) {\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    updateLink(node, hrefVar || node.getAttribute('href'))\n\n    return {\n        update(updated) {\n            updateLink(node, updated)\n        }\n    }\n}\n\n// Internal function used by the link function\nfunction updateLink(node, href) {\n    // Destination must start with '/'\n    if (!href || href.length < 1 || href.charAt(0) != '/') {\n        throw Error('Invalid value for \"href\" attribute')\n    }\n\n    // Add # to the href attribute\n    node.setAttribute('href', '#' + href)\n}\n\n/**\n * Performs a callback in the next tick and returns a Promise that resolves once that's done\n *\n * @param {Function} cb - Callback to invoke\n * @returns {Promise} Promise that resolves after the callback has been invoked, with the return value of the callback (if any)\n * @deprecated Deprecated since version 2.2 and will be removed in version 3. Use `tick` from the Svelte runtime instead (`import {tick} from 'svelte'`).\n */\nexport function nextTickPromise(cb) {\n    // eslint-disable-next-line no-console\n    console.warn('nextTickPromise from \\'svelte-spa-router\\' is deprecated and will be removed in version 3; use the \\'tick\\' method from the Svelte runtime instead')\n    return tick().then(cb)\n}\n</script>\n\n{#if componentParams}\n  <svelte:component this=\"{component}\" params=\"{componentParams}\" on:routeEvent />\n{:else}\n  <svelte:component this=\"{component}\" on:routeEvent />\n{/if}\n\n<script>\nimport {createEventDispatcher} from 'svelte'\nimport regexparam from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent} component - Svelte component for the route\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument')\n        }\n\n        const {pattern, keys} = regexparam(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.route\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n        }\n        else {\n            this.component = component\n            this.conditions = []\n            this.userData = undefined\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, remove it before we run the matching\n        if (prefix && path.startsWith(prefix)) {\n            path = path.substr(prefix.length) || '/'\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            out[this._keys[i]] = matches[++i] || null\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {SvelteComponent} component - Svelte component\n     * @property {string} name - Name of the Svelte component\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {Object} [userData] - Custom data passed by the user\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {bool} Returns true if all the conditions succeeded\n     */\n    checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!this.conditions[i](detail)) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nconst dispatchNextTick = (name, detail) => {\n    // Execute this code when the current call stack is complete\n    tick().then(() => {\n        dispatch(name, detail)\n    })\n}\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n$: {\n    // Find a route matching the location\n    component = null\n    let i = 0\n    while (!component && i < routesList.length) {\n        const match = routesList[i].match($loc.location)\n        if (match) {\n            const detail = {\n                component: routesList[i].component,\n                name: routesList[i].component.name,\n                location: $loc.location,\n                querystring: $loc.querystring,\n                userData: routesList[i].userData\n            }\n\n            // Check if the route can be loaded - if all conditions succeed\n            if (!routesList[i].checkConditions(detail)) {\n                // Trigger an event to notify the user\n                dispatchNextTick('conditionsFailed', detail)\n                break\n            }\n            component = routesList[i].component\n            // Set componentParams onloy if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n            // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n            if (match && typeof match == 'object' && Object.keys(match).length) {\n                componentParams = match\n            }\n            else {\n                componentParams = null\n            }\n\n            dispatchNextTick('routeLoaded', detail)\n        }\n        i++\n    }\n}\n</script>\n","export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n","export function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n","export function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n","export function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n","import { NamedNode } from './named-node'\n\nexport function Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n","import { DefaultGraph } from './default-graph'\n\nexport function Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n","import { BlankNode } from './blank-node'\nimport { DefaultGraph } from './default-graph'\nimport { Literal } from './literal'\nimport { NamedNode } from './named-node'\nimport { Quad } from './quad'\nimport { Variable } from './variable'\n\nexport const defaultGraphInstance = new DefaultGraph()\n\nexport function namedNode (value) {\n  return new NamedNode(value)\n}\n\nexport function blankNode (value) {\n  return new BlankNode(value)\n}\n\nexport function literal (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nexport function defaultGraph () {\n  return defaultGraphInstance\n}\n\nexport function variable (value) {\n  return new Variable(value)\n}\n\nexport function quad (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || defaultGraphInstance)\n}\n\nexport function triple (subject, predicate, object) {\n  return quad(subject, predicate, object)\n}\n","function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n\nmodule.exports = BlankNode\n","function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n\nmodule.exports = DefaultGraph\n","function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n\nmodule.exports = NamedNode\n","var NamedNode = require('./named-node')\n\nfunction Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n\nmodule.exports = Literal\n","var DefaultGraph = require('./default-graph')\n\nfunction Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n\nmodule.exports = Quad\n","function Variable (name) {\n  this.value = name\n}\n\nVariable.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nVariable.prototype.termType = 'Variable'\n\nmodule.exports = Variable\n","var BlankNode = require('./blank-node')\nvar DefaultGraph = require('./default-graph')\nvar Literal = require('./literal')\nvar NamedNode = require('./named-node')\nvar Quad = require('./quad')\nvar Variable = require('./variable')\n\nfunction DataFactory () {}\n\nDataFactory.namedNode = function (value) {\n  return new NamedNode(value)\n}\n\nDataFactory.blankNode = function (value) {\n  return new BlankNode(value)\n}\n\nDataFactory.literal = function (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, DataFactory.namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nDataFactory.defaultGraph = function () {\n  return DataFactory.defaultGraphInstance\n}\n\nDataFactory.variable = function (value) {\n  return new Variable(value)\n}\n\nDataFactory.triple = function (subject, predicate, object) {\n  return DataFactory.quad(subject, predicate, object)\n}\n\nDataFactory.quad = function (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || DataFactory.defaultGraphInstance)\n}\n\nDataFactory.defaultGraphInstance = new DefaultGraph()\n\nmodule.exports = DataFactory\n","function isMatch (quad, subject, predicate, object, graph) {\n  if (subject && !quad.subject.equals(subject)) {\n    return false\n  }\n\n  if (predicate && !quad.predicate.equals(predicate)) {\n    return false\n  }\n\n  if (object && !quad.object.equals(object)) {\n    return false\n  }\n\n  if (graph && !quad.graph.equals(graph)) {\n    return false\n  }\n\n  return true\n}\n\nmodule.exports = isMatch\n","const isMatch = require('./isMatch')\n\nclass DatasetCore {\n  constructor (quads) {\n    this.quads = new Set()\n\n    if (quads) {\n      for (const quad of quads) {\n        this.quads.add(quad)\n      }\n    }\n  }\n\n  get size () {\n    return this.quads.size\n  }\n\n  add (quad) {\n    if (!this.has(quad)) {\n      this.quads.add(quad)\n    }\n\n    return this\n  }\n\n  delete (quad) {\n    for (const localQuad of this) {\n      if (isMatch(quad, localQuad.subject, localQuad.predicate, localQuad.object, localQuad.graph)) {\n        this.quads.delete(localQuad)\n\n        return this\n      }\n    }\n\n    return this\n  }\n\n  has (quad) {\n    for (const other of this) {\n      if (isMatch(other, quad.subject, quad.predicate, quad.object, quad.graph)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  match (subject, predicate, object, graph) {\n    const matches = new Set()\n\n    for (const quad of this) {\n      if (isMatch(quad, subject, predicate, object, graph)) {\n        matches.add(quad)\n      }\n    }\n\n    return new this.constructor(matches)\n  }\n\n  [Symbol.iterator] () {\n    return this.quads[Symbol.iterator]()\n  }\n}\n\nmodule.exports = DatasetCore\n","const rdf = require('@rdfjs/data-model')\nconst DatasetCore = require('./DatasetCore')\n\nfunction dataset (quads) {\n  return new DatasetCore(quads)\n}\n\nmodule.exports = Object.assign({ dataset }, rdf)\n","var RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: XSD + 'decimal',\n    boolean: XSD + 'boolean',\n    double:  XSD + 'double',\n    integer: XSD + 'integer',\n    string:  XSD + 'string',\n  },\n  rdf: {\n    type:       RDF + 'type',\n    nil:        RDF + 'nil',\n    first:      RDF + 'first',\n    rest:       RDF + 'rest',\n    langString: RDF + 'langString',\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: SWAP + 'reify#forSome',\n    forAll:  SWAP + 'reify#forAll',\n  },\n  log: {\n    implies: SWAP + 'log#implies',\n  },\n};\n","// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nconst { rdf, xsd } = namespaces;\n\nvar DataFactory, DEFAULTGRAPH;\n\nvar _blankNodeCounter = 0;\n\n// ## Term constructor\nclass Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nclass NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nclass Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    var id = this.id, atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    var id = this.id, dtPos = id.lastIndexOf('\"') + 1, ch;\n    // If \"^\" it follows, return the remaining substring\n    return dtPos < id.length && (ch = id[dtPos]) === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (ch !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nclass BlankNode extends Term {\n  constructor(name) {\n    super('_:' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nclass Variable extends Term {\n  constructor(name) {\n    super('?' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nclass DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n\n// ### Constructs a term from the given internal string ID\nfunction fromId(id, factory) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '_': return factory.blankNode(id.substr(2));\n  case '?': return factory.variable(id.substr(1));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    var endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  default:  return factory.namedNode(id);\n  }\n}\n\n// ### Constructs an internal string ID from the given term or ID string\nfunction toId(term) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term)\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return '_:' + term.value;\n  case 'Variable':     return '?' + term.value;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return '\"' + term.value + '\"' +\n    (term.language ? '@' + term.language :\n      (term.datatype && term.datatype.value !== xsd.string ? '^^' + term.datatype.value : ''));\n  default: throw new Error('Unexpected termType: ' + term.termType);\n  }\n}\n\n\n// ## Quad constructor\nclass Quad {\n  constructor(subject, predicate, object, graph) {\n    this.subject   = subject;\n    this.predicate = predicate;\n    this.object    = object;\n    this.graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      subject:   this.subject.toJSON(),\n      predicate: this.predicate.toJSON(),\n      object:    this.object.toJSON(),\n      graph:     this.graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this.subject.equals(other.subject)     &&\n                      this.predicate.equals(other.predicate) &&\n                      this.object.equals(other.object)       &&\n                      this.graph.equals(other.graph);\n  }\n}\n\n\n// ## DataFactory singleton\nDataFactory = {\n  // ### Public factory functions\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n\n  // ### Internal datatype constructors\n  internal: {\n    Term,\n    NamedNode,\n    BlankNode,\n    Variable,\n    Literal,\n    DefaultGraph,\n    Quad,\n    Triple: Quad,\n    fromId,\n    toId,\n  },\n};\nexport default DataFactory;\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal('\"' + value + '\"@' + languageOrDataType.toLowerCase());\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal('\"' + value + '\"') :\n    new Literal('\"' + value + '\"^^' + datatype);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n","// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nconst { xsd } = namespaces;\n\nconst { fromCharCode } = String;\n\n// Regular expression and replacement string to escape N3 strings.\n// Note how we catch invalid unicode sequences separately (they will trigger an error).\nvar escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\[uU]|\\\\(.)/g;\nvar escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nvar illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nvar lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nvar invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._number = /^[\\-+]?(?:(\\d+\\.\\d*|\\.?\\d+)[eE][\\-+]?|\\d*(\\.)?)\\d+(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s()\\[\\]\\{\\}\"'<])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (var key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    var input = this._input, outputComments = this._comments;\n    while (true) {\n      // Count and skip whitespace lines\n      var whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (outputComments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (outputComments && (comment = this._comment.exec(input)))\n            callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n          callback(input = null, { line: this._line, type: 'eof', value: '', prefix: '' });\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      var line = this._line, type = '', value = '', prefix = '',\n          firstChar = input[0], match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(input + ' ')))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(input + ' '))) {\n          type = 'literal', value = match[0];\n          prefix = (typeof match[1] === 'string' ? xsd.double :\n                    (typeof match[2] === 'string' ? xsd.decimal : xsd.integer));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '{':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(input + ' ')))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      var token = { line: line, type: type, value: value, prefix: prefix };\n      callback(null, token);\n      this.previousToken = token;\n      this._previousMarker = type;\n      // Advance to next part to tokenize\n      input = input.substr(matchLength || match[0].length, input.length);\n    }\n\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    try {\n      return item.replace(escapeSequence, function (sequence, unicode4, unicode8, escapedChar) {\n        var charCode;\n        if (unicode4) {\n          charCode = parseInt(unicode4, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          return fromCharCode(charCode);\n        }\n        else if (unicode8) {\n          charCode = parseInt(unicode8, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          if (charCode <= 0xFFFF) return fromCharCode(charCode);\n          return fromCharCode(0xD800 + ((charCode -= 0x10000) / 0x400), 0xDC00 + (charCode & 0x3FF));\n        }\n        else {\n          var replacement = escapeReplacements[escapedChar];\n          if (!replacement)\n            throw new Error();\n          return replacement;\n        }\n      });\n    }\n    catch (error) { return null; }\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    var err = new Error('Unexpected \"' + issue + '\" on line ' + this._line + '.');\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    var self = this;\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = input;\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        setImmediate(function () { self._tokenizeToEnd(callback, true); });\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        var tokens = [], error;\n        this._tokenizeToEnd(function (e, t) { e ? (error = e) : tokens.push(t); }, true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._input = '';\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', function (data) {\n        if (self._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (self._pendingBuffer) {\n            data = Buffer.concat([self._pendingBuffer, data]);\n            self._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            self._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            self._input += data;\n            self._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', function () {\n        if (self._input !== null)\n          self._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n","// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    var format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = format === 'turtle', isTriG = format === 'trig',\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = function (iri) { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      var fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    var n3Mode = this._n3Mode;\n    this._contextStack.push({\n      subject: subject, predicate: predicate, object: object,\n      graph: graph, type: type,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? this._graph.id.substr(2) + '.' : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext() {\n    var context = this._contextStack.pop(), n3Mode = this._n3Mode;\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    var value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      var iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      var prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error('Undefined prefix \"' + token.prefix + ':\"', token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error('Expected entity but got ' + token.type, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    var type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error('Unexpected ' + type, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error('Expected graph but got ' + token.type, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    var empty = this._predicate === null;\n    this._restoreContext();\n    // If the blank node was the subject, continue reading the predicate\n    if (this._object === null)\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n    // If the blank node was the object, restore previous context and read punctuation\n    else\n      return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    var item = null,                      // The item of the list\n        list = null,                      // The list itself\n        previousList = this._subject,     // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1], // The parent containing the current list\n        next = this._readListItem;        // The next function to execute\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext();\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      var datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext();\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    var next, subject = this._subject, graph = this._graph,\n        inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      var predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    var next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error('Expected IRI to follow prefix \"' + this._prefix + ':\"', token);\n    var prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    var iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    var entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error('Unexpected ' + token.type, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      var stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        var item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext();\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    var subject, predicate, object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    var subject = this._blankNode(), predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    var contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    var err = new Error(message + ' on line ' + token.line + '.');\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    var result = '', length = iri.length, i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return result + '/' + iri.substr(i + 1);\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    var self = this;\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : 'b' + blankNodePrefix++ + '_';\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      var quads = [], error;\n      this._callback = function (e, t) { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(function (token) {\n        return self._readCallback = self._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, function (error, token) {\n      if (error !== null)\n        self._callback(error), self._callback = noop;\n      else if (self._readCallback)\n        self._readCallback = self._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  var namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n","'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","import {Buffer} from 'buffer';\n\nexport default BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return Buffer.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = Buffer.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport {Buffer} from 'buffer';\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nexport function StringDecoder(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","'use strict';\n\n\nReadable.ReadableState = ReadableState;\nimport EventEmitter from 'events';\nimport {inherits, debuglog} from 'util';\nimport BufferList from './buffer-list';\nimport {StringDecoder} from 'string_decoder';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\n\nvar debug = debuglog('stream');\ninherits(Readable, EventEmitter);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event])\n      emitter.on(event, fn);\n    else if (Array.isArray(emitter._events[event]))\n      emitter._events[event].unshift(fn);\n    else\n      emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\nfunction listenerCount (emitter, type) {\n  return emitter.listeners(type).length;\n}\nfunction ReadableState(options, stream) {\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nexport default Readable;\nexport function Readable(options) {\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  EventEmitter.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = Buffer.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false);\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (listenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && src.listeners('data').length) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var _i = 0; _i < len; _i++) {\n      dests[_i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1) return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = EventEmitter.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n\nimport {inherits, deprecate} from 'util';\nimport {Buffer} from 'buffer';\nWritable.WritableState = WritableState;\nimport {EventEmitter} from 'events';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\ninherits(Writable, EventEmitter);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Object.defineProperty(this, 'buffer', {\n    get: deprecate(function () {\n      return this.getBuffer();\n    }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n  });\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function writableStateGetBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\nexport default Writable;\nexport function Writable(options) {\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  EventEmitter.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  nextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) nextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n        nextTick(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n","\nimport {inherits} from 'util';\nimport {nextTick} from 'process';\nimport {Readable} from './readable';\nimport {Writable} from './writable';\n\n\ninherits(Duplex, Readable);\n\nvar keys = Object.keys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\nexport default Duplex;\nexport function Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n","// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n\nimport {Duplex} from './duplex';\n\n\nimport {inherits} from 'util';\ninherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\nexport default Transform;\nexport function Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er) {\n      done(stream, er);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('Not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er) {\n  if (er) return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","\nimport {Transform} from './transform';\n\nimport {inherits} from 'util';\ninherits(PassThrough, Transform);\nexport default PassThrough;\nexport function PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","import EE from 'events';\nimport {inherits} from 'util';\n\nimport {Duplex} from './readable-stream/duplex.js';\nimport {Readable} from './readable-stream/readable.js';\nimport {Writable} from './readable-stream/writable.js';\nimport {Transform} from './readable-stream/transform.js';\nimport {PassThrough} from './readable-stream/passthrough.js';\ninherits(Stream, EE);\nStream.Readable = Readable;\nStream.Writable = Writable;\nStream.Duplex = Duplex;\nStream.Transform = Transform;\nStream.PassThrough = PassThrough;\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nexport default Stream;\nexport {Readable,Writable,Duplex,Transform,PassThrough,Stream}\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","function BlankNode (id) {\n  this.value = id || ('b' + (++BlankNode.nextId))\n}\n\nBlankNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nBlankNode.prototype.termType = 'BlankNode'\n\nBlankNode.nextId = 0\n\nmodule.exports = BlankNode\n","function DefaultGraph () {\n  this.value = ''\n}\n\nDefaultGraph.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType\n}\n\nDefaultGraph.prototype.termType = 'DefaultGraph'\n\nmodule.exports = DefaultGraph\n","function NamedNode (iri) {\n  this.value = iri\n}\n\nNamedNode.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nNamedNode.prototype.termType = 'NamedNode'\n\nmodule.exports = NamedNode\n","var NamedNode = require('./named-node')\n\nfunction Literal (value, language, datatype) {\n  this.value = value\n  this.datatype = Literal.stringDatatype\n  this.language = ''\n\n  if (language) {\n    this.language = language\n    this.datatype = Literal.langStringDatatype\n  } else if (datatype) {\n    this.datatype = datatype\n  }\n}\n\nLiteral.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value &&\n    other.language === this.language && other.datatype.equals(this.datatype)\n}\n\nLiteral.prototype.termType = 'Literal'\nLiteral.langStringDatatype = new NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nLiteral.stringDatatype = new NamedNode('http://www.w3.org/2001/XMLSchema#string')\n\nmodule.exports = Literal\n","var DefaultGraph = require('./default-graph')\n\nfunction Quad (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n\n  if (graph) {\n    this.graph = graph\n  } else {\n    this.graph = new DefaultGraph()\n  }\n}\n\nQuad.prototype.equals = function (other) {\n  return !!other && other.subject.equals(this.subject) && other.predicate.equals(this.predicate) &&\n    other.object.equals(this.object) && other.graph.equals(this.graph)\n}\n\nmodule.exports = Quad\n","function Variable (name) {\n  this.value = name\n}\n\nVariable.prototype.equals = function (other) {\n  return !!other && other.termType === this.termType && other.value === this.value\n}\n\nVariable.prototype.termType = 'Variable'\n\nmodule.exports = Variable\n","var BlankNode = require('./blank-node')\nvar DefaultGraph = require('./default-graph')\nvar Literal = require('./literal')\nvar NamedNode = require('./named-node')\nvar Quad = require('./quad')\nvar Variable = require('./variable')\n\nfunction DataFactory () {}\n\nDataFactory.namedNode = function (value) {\n  return new NamedNode(value)\n}\n\nDataFactory.blankNode = function (value) {\n  return new BlankNode(value)\n}\n\nDataFactory.literal = function (value, languageOrDatatype) {\n  if (typeof languageOrDatatype === 'string') {\n    if (languageOrDatatype.indexOf(':') === -1) {\n      return new Literal(value, languageOrDatatype)\n    }\n\n    return new Literal(value, null, DataFactory.namedNode(languageOrDatatype))\n  }\n\n  return new Literal(value, null, languageOrDatatype)\n}\n\nDataFactory.defaultGraph = function () {\n  return DataFactory.defaultGraphInstance\n}\n\nDataFactory.variable = function (value) {\n  return new Variable(value)\n}\n\nDataFactory.triple = function (subject, predicate, object) {\n  return DataFactory.quad(subject, predicate, object)\n}\n\nDataFactory.quad = function (subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph || DataFactory.defaultGraphInstance)\n}\n\nDataFactory.defaultGraphInstance = new DefaultGraph()\n\nmodule.exports = DataFactory\n","<script>\n  import Factory from \"@rdfjs/data-model\";\n  let content = \"\";\n  let lang = \"\";\n  export let value;\n  $: content = value.value;\n  $: lang = value.language;\n  function userChange(e) {\n    value = lang\n      ? Factory.literal(content, lang)\n      : Factory.literal(content, \"http://www.w3.org/2001/XMLSchema#string\");\n  }\n</script>\n\n<div>\n  <input type=\"text\" bind:value={content} on:input={userChange} />\n  <input\n    class=\"language\"\n    type=\"text\"\n    size=\"2\"\n    pattern=\"[a-z][a-z]\"\n    spellcheck=\"false\"\n    bind:value={lang} on:input={userChange} />\n</div>\n","let t = {};\n\nexport const exec = (command, value = null) => {\n  document.execCommand(command, false, value)\n}\n\nexport const getTagsRecursive = (element, tags) => {\n  tags = tags || (element && element.tagName ? [element.tagName] : []);\n\n  if (element && element.parentNode) {\n    element = element.parentNode;\n  } else {\n    return tags;\n  }\n\n  const tag = element.tagName;\n  if (element.style && element.getAttribute) {\n    [element.style.textAlign || element.getAttribute('align'), element.style.color || tag === 'FONT' && 'forecolor', element.style.backgroundColor && 'backcolor']\n      .filter((item) => item)\n      .forEach((item) => tags.push(item));\n  }\n\n  if (tag === 'DIV') {\n    return tags;\n  }\n\n  tags.push(tag);\n\n  return getTagsRecursive(element, tags).filter((_tag) => _tag != null);\n}\n\nexport const saveRange = (editor) => {\n  const documentSelection = document.getSelection();\n\n  t.range = null;\n\n  if (documentSelection.rangeCount) {\n      let savedRange = t.range = documentSelection.getRangeAt(0);\n      let range = document.createRange();\n      let rangeStart;\n      range.selectNodeContents(editor);\n      range.setEnd(savedRange.startContainer, savedRange.startOffset);\n      rangeStart = (range + '').length;\n      t.metaRange = {\n          start: rangeStart,\n          end: rangeStart + (savedRange + '').length\n      };\n  }\n}\nexport const restoreRange = (editor) => {\n  let metaRange = t.metaRange;\n  let savedRange = t.range;\n  let documentSelection = document.getSelection();\n  let range;\n\n  if (!savedRange) {\n      return;\n  }\n\n  if (metaRange && metaRange.start !== metaRange.end) { // Algorithm from http://jsfiddle.net/WeWy7/3/\n      let charIndex = 0,\n          nodeStack = [editor],\n          node,\n          foundStart = false,\n          stop = false;\n\n      range = document.createRange();\n\n      while (!stop && (node = nodeStack.pop())) {\n          if (node.nodeType === 3) {\n              let nextCharIndex = charIndex + node.length;\n              if (!foundStart && metaRange.start >= charIndex && metaRange.start <= nextCharIndex) {\n                  range.setStart(node, metaRange.start - charIndex);\n                  foundStart = true;\n              }\n              if (foundStart && metaRange.end >= charIndex && metaRange.end <= nextCharIndex) {\n                  range.setEnd(node, metaRange.end - charIndex);\n                  stop = true;\n              }\n              charIndex = nextCharIndex;\n          } else {\n              let cn = node.childNodes;\n              let i = cn.length;\n\n              while (i > 0) {\n                  i -= 1;\n                  nodeStack.push(cn[i]);\n              }\n          }\n      }\n  }\n\n  documentSelection.removeAllRanges();\n  documentSelection.addRange(range || savedRange);\n}\n\nexport const cleanHtml = (input) => {\n  const html = input.match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);\n  let output = html && html[1] || input;\n  output = output\n    .replace(/\\r?\\n|\\r/g, ' ')\n    .replace(/<!--(.*?)-->/g, '')\n    .replace(new RegExp('<(/)*(meta|link|span|\\\\?xml:|st1:|o:|font|w:sdt)(.*?)>', 'gi'), '')\n    .replace(/<!\\[if !supportLists\\]>(.*?)<!\\[endif\\]>/gi, '')\n    .replace(/style=\"[^\"]*\"/gi, '')\n    .replace(/style='[^']*'/gi, '')\n    .replace(/&nbsp;/gi, ' ')\n    .replace(/>(\\s+)</g, '><')\n    .replace(/class=\"[^\"]*\"/gi, '')\n    .replace(/class='[^']*'/gi, '')\n    .replace(/<[^/].*?>/g, i => i.split(/[ >]/g)[0] + '>')\n    .trim()\n\n    output = removeBadTags(output);\n    return output;\n}\n\nexport const unwrap = (wrapper) => {\n\tconst docFrag = document.createDocumentFragment();\n\twhile (wrapper.firstChild) {\n\t\tconst child = wrapper.removeChild(wrapper.firstChild);\n\t\tdocFrag.appendChild(child);\n\t}\n\n\t// replace wrapper with document fragment\n\twrapper.parentNode.replaceChild(docFrag, wrapper);\n}\n\nexport const removeBlockTagsRecursive = (elements, tagsToRemove) => {\n  Array.from(elements).forEach((item) => {\n    if (tagsToRemove.some((tag) => tag === item.tagName.toLowerCase())) {\n      if (item.children.length) {\n        removeBlockTagsRecursive(item.children, tagsToRemove);\n      }\n      unwrap(item);\n    }\n  });\n}\n\nexport const getActionBtns = (actions) => {\n  return Object.keys(actions).map((action) => actions[action]);\n}\n\nexport const getNewActionObj = (actions, userActions = []) => {\n    if (userActions && userActions.length) {\n        const newActions = {};\n        userActions.forEach((action) => {\n            if (typeof action === 'string') {\n                newActions[action] = Object.assign({}, actions[action]);\n            } else if (actions[action.name]) {\n                newActions[action.name] = Object.assign(actions[action.name], action);\n            } else {\n                newActions[action.name] = Object.assign({}, action);\n            }\n        });\n\n        return newActions;\n    } else {\n        return actions;\n    }\n}\n\nexport const removeBadTags = (html) => {\n    ['style', 'script', 'applet', 'embed', 'noframes', 'noscript'].forEach((badTag) => {\n        html = html.replace(new RegExp(`<${badTag}.*?${badTag}(.*?)>`, 'gi'), '')\n    });\n\n    return html;\n}\n\nexport const isEditorClick = (target, editorWrapper) => {\n    if (target === editorWrapper) {\n        return true;\n    }\n    if (target.parentElement) {\n        return isEditorClick(target.parentElement, editorWrapper);\n    }\n    return false;\n}\n","import {\n\texec,\n\tremoveBlockTagsRecursive,\n\tgetActionBtns,\n\tsaveRange,\n\trestoreRange,\n\tunwrap\n} from \"./util\";\n\nimport {get} from \"svelte/store\";\n\nconst linkSvg =\n\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z\"></path><path d=\"M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z\"></path></svg>';\nconst unlinkSvg =\n\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z\"></path><path d=\"M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z\"></path></svg>';\n\nexport default {\n\tviewHtml: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path fill=\"none\" stroke=\"currentColor\" stroke-width=\"8\" stroke-miterlimit=\"10\" d=\"M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9\"></path></svg>',\n\t\ttitle: \"View HTML\",\n\t\tresult: function() {\n\t\t\tlet refs = get(this.references);\n\t\t\tlet actionObj = get(this.state).actionObj;\n\t\t\tlet helper = get(this.helper);\n\n\t\t\thelper.showEditor = !helper.showEditor;\n\t\t\trefs.editor.style.display = helper.showEditor ? \"block\" : \"none\";\n\t\t\trefs.raw.style.display = helper.showEditor ? \"none\" : \"block\";\n\t\t\tif (helper.showEditor) {\n\t\t\t\trefs.editor.innerHTML = refs.raw.value;\n\t\t\t} else {\n\t\t\t\trefs.raw.value = refs.editor.innerHTML;\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tObject.keys(actionObj).forEach(\n\t\t\t\t\taction => (actionObj[action].disabled = !helper.showEditor)\n\t\t\t\t);\n\t\t\t\tactionObj.viewHtml.disabled = false;\n\t\t\t\tactionObj.viewHtml.active = !helper.showEditor;\n\n\t\t\t\tthis.state.update(state => {\n\t\t\t\t\tstate.actionBtns = getActionBtns(actionObj);\n\t\t\t\t\tstate.actionObj = actionObj;\n\t\t\t\t\treturn state;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\tundo: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z\"></path></svg>',\n\t\ttitle: \"Undo\",\n\t\tresult: () => exec(\"undo\")\n\t},\n\tredo: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z\"></path></svg>',\n\t\ttitle: \"Redo\",\n\t\tresult: () => exec(\"redo\")\n\t},\n\tb: {\n\t\ticon: \"<b>B</b>\",\n\t\ttitle: \"Bold\",\n\t\tresult: () => exec(\"bold\")\n\t},\n\ti: {\n\t\ticon: \"<i>I</i>\",\n\t\ttitle: \"Italic\",\n\t\tresult: () => exec(\"italic\")\n\t},\n\tu: {\n\t\ticon: \"<u>U</u>\",\n\t\ttitle: \"Underline\",\n\t\tresult: () => exec(\"underline\")\n\t},\n\tstrike: {\n\t\ticon: \"<strike>S</strike>\",\n\t\ttitle: \"Strike-through\",\n\t\tresult: () => exec(\"strikeThrough\")\n\t},\n\tsup: {\n\t\ticon: \"A<sup>2</sup>\",\n\t\ttitle: \"Superscript\",\n\t\tresult: () => exec(\"superscript\")\n\t},\n\tsub: {\n\t\ticon: \"A<sub>2</sub>\",\n\t\ttitle: \"Subscript\",\n\t\tresult: () => exec(\"subscript\")\n\t},\n\th1: {\n\t\ticon: \"<b>H<sub>1</sub></b>\",\n\t\ttitle: \"Heading 1\",\n\t\tresult: () => exec(\"formatBlock\", \"<H1>\")\n\t},\n\th2: {\n\t\ticon: \"<b>H<sub>2</sub></b>\",\n\t\ttitle: \"Heading 2\",\n\t\tresult: () => exec(\"formatBlock\", \"<H2>\")\n\t},\n\tp: {\n\t\ticon: \"&#182;\",\n\t\ttitle: \"Paragraph\",\n\t\tresult: () => exec(\"formatBlock\", \"<P>\")\n\t},\n\tblockquote: {\n\t\ticon: \"&#8220; &#8221;\",\n\t\ttitle: \"Quote\",\n\t\tresult: () => exec(\"formatBlock\", \"<BLOCKQUOTE>\")\n\t},\n\tol: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z\"></path></svg>',\n\t\ttitle: \"Ordered List\",\n\t\tresult: () => exec(\"insertOrderedList\")\n\t},\n\tul: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z\"></path></svg>',\n\t\ttitle: \"Unordered List\",\n\t\tresult: () => exec(\"insertUnorderedList\")\n\t},\n\thr: {\n\t\ticon: \"&#8213;\",\n\t\ttitle: \"Horizontal Line\",\n\t\tresult: () => exec(\"insertHorizontalRule\")\n\t},\n\tleft: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z\"></path></svg>',\n\t\ttitle: \"Justify left\",\n\t\tresult: () => exec(\"justifyLeft\")\n\t},\n\tright: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z\"></path></svg>',\n\t\ttitle: \"Justify right\",\n\t\tresult: () => exec(\"justifyRight\")\n\t},\n\tcenter: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z\"></path></svg>',\n\t\ttitle: \"Justify center\",\n\t\tresult: () => exec(\"justifyCenter\")\n\t},\n\tjustify: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z\"></path></svg>',\n\t\ttitle: \"Justify full\",\n\t\tresult: () => exec(\"justifyFull\")\n\t},\n\ta: {\n\t\ticon: linkSvg,\n\t\ttitle: \"Insert link\",\n\t\tresult: function() {\n\t\t\tconst actionObj = get(this.state).actionObj;\n\t\t\tconst refs = get(this.references);\n\n\t\t\tif (actionObj.a.active) {\n\t\t\t\tconst selection = window.getSelection();\n\t\t\t\tconst range = document.createRange();\n\t\t\t\trange.selectNodeContents(document.getSelection().focusNode);\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(range);\n\t\t\t\texec(\"unlink\");\n\t\t\t\tactionObj.a.title = \"Insert link\";\n\t\t\t\tactionObj.a.icon = linkSvg;\n\t\t\t\tthis.state.update(state => {\n\t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\n\t\t\t\t\tstate.actionObj = actionObj;\n\t\t\t\t\treturn state;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsaveRange(refs.editor);\n\t\t\t\trefs.modal.$set({\n\t\t\t\t\tshow: true,\n\t\t\t\t\tevent: \"linkUrl\",\n\t\t\t\t\ttitle: \"Insert link\",\n\t\t\t\t\tlabel: \"Url\"\n\t\t\t\t});\n\t\t\t\tif (!get(this.helper).link) {\n\t\t\t\t\tthis.helper.update(state => {\n\t\t\t\t\t\tstate.link = true;\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t});\n\t\t\t\t\trefs.modal.$on(\"linkUrl\", event => {\n\t\t\t\t\t\trestoreRange(refs.editor);\n\t\t\t\t\t\texec(\"createLink\", event.detail);\n\t\t\t\t\t\tactionObj.a.title = \"Unlink\";\n\t\t\t\t\t\tactionObj.a.icon = unlinkSvg;\n\n\t\t\t\t\t\tthis.state.update(state => {\n\t\t\t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\n\t\t\t\t\t\t\tstate.actionObj = actionObj;\n\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\timage: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M64 17v38H8V17h56m8-8H0v54h72V9z\"></path><path d=\"M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z\"></path></svg>',\n\t\ttitle: \"Image\",\n\t\tresult: function() {\n\t\t\tconst actionObj = get(this.state).actionObj;\n\t\t\tconst refs = get(this.references);\n\t\t\tsaveRange(refs.editor);\n\t\t\trefs.modal.$set({\n\t\t\t\tshow: true,\n\t\t\t\tevent: \"imageUrl\",\n\t\t\t\ttitle: \"Insert image\",\n\t\t\t\tlabel: \"Url\"\n\t\t\t});\n\t\t\tif (!get(this.helper).image) {\n\t\t\t\tthis.helper.update(state => {\n\t\t\t\t\tstate.image = true;\n\t\t\t\t\treturn state;\n\t\t\t\t});\n\t\t\t\trefs.modal.$on(\"imageUrl\", event => {\n\t\t\t\t\trestoreRange(refs.editor);\n\t\t\t\t\texec(\"insertImage\", event.detail);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tforecolor: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z\"></path></svg>',\n\t\ttitle: \"Text color\",\n\t\tcolorPicker: true,\n\t\tresult: function() {\n\t\t\tshowColorPicker.call(this, \"foreColor\");\n\t\t}\n\t},\n\tbackcolor: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M36.5 22.3l-6.3 18.1H43l-6.3-18.1z\"></path><path d=\"M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z\"></path></svg>',\n\t\ttitle: \"Background color\",\n\t\tcolorPicker: true,\n\t\tresult: function() {\n\t\t\tshowColorPicker.call(this, \"backColor\");\n\t\t}\n\t},\n\tremoveFormat: {\n\t\ticon:\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z\"></path></svg>',\n\t\ttitle: \"Remove format\",\n\t\tresult: function() {\n\t\t\tconst refs = get(this.references);\n\t\t\tconst selection = window.getSelection();\n\t\t\tif (!selection.toString().length) {\n\t\t\t\tremoveBlockTagsRecursive(\n\t\t\t\t\trefs.editor.children,\n\t\t\t\t\tthis.removeFormatTags\n\t\t\t\t);\n\t\t\t\tconst range = document.createRange();\n\t\t\t\trange.selectNodeContents(refs.editor);\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(range);\n\t\t\t}\n\t\t\texec(\"removeFormat\");\n\t\t\tselection.removeAllRanges();\n\t\t}\n\t}\n};\n\nconst showColorPicker = function(cmd) {\n\tconst refs = get(this.references);\n\tsaveRange(refs.editor);\n\tconsole.log(refs.colorPicker);\n\trefs.colorPicker.$set({show: true, event: cmd});\n\tif (!get(this.helper)[cmd]) {\n\t\tthis.helper.update(state => {\n\t\t\tstate[cmd] = true;\n\t\t\treturn state;\n\t\t});\n\t\trefs.colorPicker.$on(cmd, event => {\n\t\t\tlet item = event.detail;\n\t\t\tif (item.modal) {\n\t\t\t\tthis.modal.$set({\n\t\t\t\t\tshow: true,\n\t\t\t\t\tevent: \"colorHref\",\n\t\t\t\t\ttitle: \"Text color\",\n\t\t\t\t\tlabel:\n\t\t\t\t\t\tcmd === \"foreColor\" ? \"Text color\" : \"Background color\"\n\t\t\t\t});\n\t\t\t\tconst command = cmd;\n\t\t\t\tif (!get(this.helper)[`${command}Modal`]) {\n\t\t\t\t\tget(this.helper)[`${command}Modal`] = true;\n\t\t\t\t\tthis.modal.$on(\"colorHref\", event => {\n\t\t\t\t\t\tlet color = event.detail;\n\t\t\t\t\t\trestoreRange(refs.editor);\n\t\t\t\t\t\texec(command, color);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trestoreRange(refs.editor);\n\t\t\t\texec(cmd, item.color);\n\t\t\t}\n\t\t});\n\t}\n};\n","<svelte:options accessors={true}></svelte:options>\n<div style=\"display: {show ? 'block' : 'none'}\">\n    <div class=\"cl-editor-overlay\" on:click=\"{cancel}\"></div>\n    <div class=\"cl-editor-modal\">\n        <div class=\"modal-box\">\n            <span class=\"modal-title\">{title}</span>\n            <form on:submit|preventDefault=\"{event=>confirm()}\">\n                <label class=\"modal-label\" class:input-error={error}>\n                    <input bind:this={refs.text} on:keyup=\"{hideError}\" type=\"text\" name=\"text\" bind:value=\"{text}\">\n                    <span class=\"input-info\">\n                        <span>{label}</span>\n                        {#if error}\n                        <span class=\"msg-error\">Required</span>\n                        {/if}\n                    </span>\n                </label>\n                <button class=\"modal-button modal-submit\" type=\"submit\">Confirm</button>\n                <button class=\"modal-button modal-reset\" type=\"reset\" on:click=\"{cancel}\">Cancel</button>\n            </form>\n        </div>\n    </div>\n</div>\n\n<script>\n    import {onMount, createEventDispatcher } from \"svelte\";\n\n    let dispatcher = new createEventDispatcher();\n\n    export let show = false;\n    export let text = '';\n    export let event = '';\n    export let title = '';\n    export let label = '';\n    export let error = false;\n\n    let refs = {}\n\n    $:{\n        if(show){\n            setTimeout(() => {\n                refs.text.focus();\n            });\n        }\n    }\n\n\n    function confirm() {\n        if (text) {\n            console.log('dispatcher',text,event)\n            dispatcher(event,text);\n            cancel();\n        } else {\n            error = true;\n            refs.text.focus();\n        }\n    }\n\n    function cancel() {\n        show = false;\n        text = '';\n        error = false;\n    }\n\n    function hideError() {\n        error = false;\n    }\n\n    // no longer needed with $set\n    // export function showModal(options){\n    //     if(options.show) show = options.show;\n    //     if(options.text) text = options.text;\n    //     if(options.event) event = options.event;\n    //     if(options.title) title = options.title;\n    //     if(options.label) label = options.label;\n    // }\n</script>\n\n<style>\n    .cl-editor-modal {\n        position: absolute;\n        top: 37px;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        transform: translateX(-50%);\n        max-width: 520px;\n        width: 100%;\n        height: 140px;\n        backface-visibility: hidden;\n        z-index: 11;\n    }\n\n    .cl-editor-overlay {\n        position: absolute;\n        background-color: rgba(255,255,255,.5);\n        height: 100%;\n        width: 100%;\n        left: 0;\n        top: 0;\n        z-index: 10;\n    }\n\n    .modal-box {\n        position: absolute;\n        top: 0;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        transform: translateX(-50%);\n        max-width: 500px;\n        width: calc(100% - 20px);\n        padding-bottom: 36px;\n        z-index: 1;\n        background-color: #FFF;\n        text-align: center;\n        font-size: 14px;\n        box-shadow: rgba(0,0,0,.2) 0 2px 3px;\n        -webkit-backface-visibility: hidden;\n        backface-visibility: hidden;\n    }\n\n    .modal-title {\n        font-size: 24px;\n        font-weight: 700;\n        margin: 0 0 20px;\n        padding: 2px 0 4px;\n        display: block;\n        border-bottom: 1px solid #EEE;\n        color: #333;\n        background: #fbfcfc;\n    }\n\n    .modal-label {\n        display: block;\n        position: relative;\n        margin: 15px 12px;\n        height: 29px;\n        line-height: 29px;\n        overflow: hidden;\n    }\n\n    .modal-label input {\n        position: absolute;\n        top: 0;\n        right: 0;\n        height: 27px;\n        line-height: 25px;\n        border: 1px solid #DEDEDE;\n        background: #fff;\n        font-size: 14px;\n        max-width: 330px;\n        width: 70%;\n        padding: 0 7px;\n        transition: all 150ms;\n    }\n\n    .modal-label input:focus {\n        outline: none;\n    }\n\n    .input-error input {\n        border: 1px solid #e74c3c;\n    }\n\n    .input-info {\n        display: block;\n        text-align: left;\n        height: 25px;\n        line-height: 25px;\n        transition: all 150ms;\n    }\n\n    .input-info span {\n        display: block;\n        color: #69878f;\n        background-color: #fbfcfc;\n        border: 1px solid #DEDEDE;\n        padding: 0 7px;\n        width: 150px;\n    }\n\n    .input-error .input-info {\n        margin-top: -27px;\n    }\n\n    .input-error .msg-error {\n        color: #e74c3c;\n    }\n\n    .modal-button {\n        position: absolute;\n        bottom: 10px;\n        right: 0;\n        text-decoration: none;\n        color: #FFF;\n        display: block;\n        width: 100px;\n        height: 35px;\n        line-height: 33px;\n        margin: 0 10px;\n        background-color: #333;\n        border: none;\n        cursor: pointer;\n        font-family: \"Lato\",Helvetica,Verdana,sans-serif;\n        font-size: 16px;\n        transition: all 150ms;\n    }\n\n    .modal-submit {\n        right: 110px;\n        background: #2bc06a;\n    }\n\n    .modal-reset {\n        color: #555;\n        background: #e6e6e6;\n    }\n</style>\n","<div style=\"display: {show ? 'block' : 'none'}\">\n    <div class=\"color-picker-overlay\" on:click=\"{close}\"></div>\n    <div class=\"color-picker-wrapper\">\n        {#each btns as btn}\n        <button type=\"button\" class=\"color-picker-btn\" style=\"background-color:{btn.color};\" on:click=\"{event => selectColor(btn)}\">{btn.text || ''}</button>\n        {/each}\n    </div>\n</div>\n\n<script>\n    import {onMount, createEventDispatcher } from \"svelte\";\n\n    let dispatcher = new createEventDispatcher();\n\n    const colors = ['ffffff', '000000', 'eeece1', '1f497d', '4f81bd', 'c0504d', '9bbb59', '8064a2', '4bacc6', 'f79646', 'ffff00', 'f2f2f2', '7f7f7f', 'ddd9c3', 'c6d9f0', 'dbe5f1', 'f2dcdb', 'ebf1dd', 'e5e0ec', 'dbeef3', 'fdeada', 'fff2ca', 'd8d8d8', '595959', 'c4bd97', '8db3e2', 'b8cce4', 'e5b9b7', 'd7e3bc', 'ccc1d9', 'b7dde8', 'fbd5b5', 'ffe694', 'bfbfbf', '3f3f3f', '938953', '548dd4', '95b3d7', 'd99694', 'c3d69b', 'b2a2c7', 'b7dde8', 'fac08f', 'f2c314', 'a5a5a5', '262626', '494429', '17365d', '366092', '953734', '76923c', '5f497a', '92cddc', 'e36c09', 'c09100', '7f7f7f', '0c0c0c', '1d1b10', '0f243e', '244061', '632423', '4f6128', '3f3151', '31859b', '974806', '7f6000']\n\n    const getBtns = () => {\n        const btns = colors.map((color) => ({ color: `#${color}` }));\n        btns.push({ text: '#', modal: true });\n        return btns;\n    }\n\n    export let show = false;\n    export let btns = [];\n    export let event = '';\n\n    onMount(()=>{\n        btns = getBtns();\n    });\n\n    function close() {\n        show = false;\n    }\n    function selectColor(btn) {\n        dispatcher(event,btn)\n        close();\n    }\n\n</script>\n\n<style>\n    .color-picker-wrapper {\n        border: 1px solid #ecf0f1;\n        border-top: none;\n        background: #FFF;\n        box-shadow: rgba(0,0,0,.1) 0 2px 3px;\n        width: 290px;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n        transform: translateX(-50%);\n        padding: 0;\n        position: absolute;\n        top: 37px;\n        z-index: 11;\n    }\n\n    .color-picker-overlay {\n        position: absolute;\n        background-color: rgba(255,255,255,.5);\n        height: 100%;\n        width: 100%;\n        left: 0;\n        top: 0;\n        z-index: 10;\n    }\n\n    .color-picker-btn {\n        display: block;\n        position: relative;\n        float: left;\n        height: 20px;\n        width: 20px;\n        border: 1px solid #333;\n        padding: 0;\n        margin: 2px;\n        line-height: 35px;\n        text-decoration: none;\n        background: #FFF;\n        color: #333!important;\n        cursor: pointer;\n        text-align: left;\n        font-size: 15px;\n        transition: all 150ms;\n        line-height: 20px;\n        padding: 0px 5px;\n    }\n\n    .color-picker-btn:hover::after {\n        content: \" \";\n        display: block;\n        position: absolute;\n        top: -5px;\n        left: -5px;\n        height: 27px;\n        width: 27px;\n        background: inherit;\n        border: 1px solid #FFF;\n        box-shadow: #000 0 0 2px;\n        z-index: 10;\n    }\n</style>\n","import {writable} from \"svelte/store\";\n\nconst state = (function(name ){\n\n    let state = {\n        actionBtns: [],\n        actionObj: {}\n    }\n\n    const { subscribe, set, update } = writable(state);\n\n    return {\n        name,\n        set,\n        update,\n        subscribe\n    }\n});\n\nexport const createStateStore = state;\n","<script context=\"module\">\n\tconst editors = [];\n</script>\n<svelte:window on:click=\"{ event => _documentClick(event) }\" />\n<svelte:options accessors={true}></svelte:options>\n<div class=\"cl\" bind:this={$references.editorWrapper}>\n  <div class=\"cl-actionbar\">\n    {#each $state.actionBtns as action}\n      <button\n        class=\"cl-button {action.active ? 'active' : ''}\"\n        title=\"{action.title}\"\n        on:click=\"{event => _btnClicked(action)}\"\n        disabled=\"{action.disabled}\">\n        {@html action.icon}\n      </button>\n    {/each}\n  </div>\n  <div bind:this={$references.editor}\n    class=\"cl-content\"\n    style=\"height: {height}\"\n    contenteditable=\"true\"\n    on:input=\"{event => _onChange(event.target.innerHTML)}\"\n    on:mouseup=\"{() => _handleButtonStatus()}\"\n    on:keyup=\"{() => _handleButtonStatus()}\"\n    on:paste=\"{event => _onPaste(event)}\">\n  </div>\n\n  <textarea bind:this={$references.raw} class=\"cl-textarea\" style=\"max-height: {height}; min-height: {height}\"></textarea>\n  <EditorModal bind:this={$references.modal}></EditorModal>\n  <EditorColorPicker bind:this={$references.colorPicker}></EditorColorPicker>\n</div>\n\n<script>\n  import {\n    getTagsRecursive,\n    saveRange as _saveRange,\n    restoreRange as _restoreRange,\n    exec as _exec,\n    cleanHtml,\n    getActionBtns,\n    getNewActionObj,\n    removeBadTags,\n    isEditorClick\n} from './helpers/util.js';\n\n  import defaultActions from './helpers/actions.js';\n  import EditorModal from './helpers/EditorModal.svelte';\n  import EditorColorPicker from './helpers/EditorColorPicker.svelte';\n\n  import { onMount, createEventDispatcher, setContext, getContext } from \"svelte\";\n  import { createStateStore } from \"./helpers/store.js\";\n  import {writable} from \"svelte/store\";\n\n  let dispatcher = new createEventDispatcher();\n\n  export let actions = [];\n  export let height = '300px';\n  export let html = '';\n  export let removeFormatTags = ['h1', 'h2', 'blockquote']\n\n\n  let helper = writable({\n      foreColor: false,\n      backColor: false,\n      foreColorModal: false,\n      backColorModal: false,\n      image: false,\n      link: false,\n      showEditor: true,\n      blurActive: false\n  });\n\n  editors.push({})\n  let contextKey = \"editor_\" + editors.length;\n\n  let state = createStateStore(contextKey);\n\n  let references = writable({});\n  $state.actionObj = getNewActionObj(defaultActions, actions);\n\n  let context = {\n      exec,\n      getHtml,\n      getText,\n      setHtml,\n      saveRange,\n      restoreRange,\n      helper,\n      references,\n      state,\n      removeFormatTags\n  }\n\n  setContext(contextKey, context);\n\n  onMount(() => {\n      $state.actionBtns = getActionBtns($state.actionObj);\n      setHtml(html);\n  });\n\n  function _btnClicked(action) {\n    $references.editor.focus();\n    saveRange($references.editor);\n    restoreRange($references.editor);\n    action.result.call(context);\n    _handleButtonStatus();\n  }\n\n  function _handleButtonStatus(clearBtns) {\n    const tags = clearBtns ? [] : getTagsRecursive(document.getSelection().focusNode);\n    Object.keys($state.actionObj).forEach((action) => $state.actionObj[action].active = false);\n    tags.forEach((tag) => ($state.actionObj[tag.toLowerCase()] || {}).active = true);\n    $state.actionBtns = getActionBtns($state.actionObj);\n    $state.actionObj = $state.actionObj;\n  }\n\n  function _onPaste(event) {\n    event.preventDefault();\n    exec('insertHTML', event.clipboardData.getData('text/html') ? cleanHtml(event.clipboardData.getData('text/html')) : event.clipboardData.getData('text'));\n  }\n\n  function _onChange(event) {\n     dispatcher('change', event)\n  }\n\n  function _documentClick(event) {\n    if (!isEditorClick(event.target, $references.editorWrapper) && $helper.blurActive) {\n      dispatcher('blur', event);\n    }\n    $helper.blurActive = true;\n  }\n\n  export function exec(cmd, value){\n      _exec(cmd, value);\n  };\n\n  export function getHtml(sanitize) {\n    return sanitize ? removeBadTags($references.editor.innerHTML) : $references.editor.innerHTML;\n  }\n  export function getText() {\n    return $references.editor.innerText;\n  }\n  export function setHtml(html, sanitize) {\n    $references.editor.innerHTML = sanitize ? removeBadTags(html) : (html || '');\n  }\n  export function saveRange() {\n    _saveRange($references.editor);\n  }\n  export function restoreRange() {\n    _restoreRange($references.editor);\n  }\n  export const refs = $references;\n</script>\n\n<style>\n  .cl * {\n    box-sizing: border-box;\n  }\n\n  .cl {\n    box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n\n  .cl-content {\n    height: 300px;\n    outline: 0;\n    overflow-y: auto;\n    padding: 10px;\n    width: 100%;\n    background-color: white;\n  }\n\n  .cl-actionbar {\n    background-color: #ecf0f1;\n    border-bottom: 1px solid rgba(10, 10, 10, 0.1);\n    width: 100%;\n  }\n\n  .cl-button {\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n    height: 35px;\n    outline: 0;\n    width: 35px;\n    vertical-align: top;\n    position: relative;\n  }\n\n  .cl-button:hover, .cl-button.active {\n    background-color: #fff;\n  }\n\n  .cl-button:disabled {\n    opacity: .5;\n    pointer-events: none;\n  }\n\n  .cl-textarea {\n    display: none;\n    max-width: 100%;\n    min-width: 100%;\n    border: none;\n    padding: 10px;\n  }\n\n  .cl-textarea:focus {\n    outline: none;\n  }\n\n</style>\n","<script>\n  import Factory from \"@rdfjs/data-model\";\n  import Editor from \"cl-editor/src/Editor.svelte\";\n\n  export let value;\n\n  let content;\n\n  let editor;\n\n  $: {\n    if (content !== value.value) {\n      content = value.value;\n      if (editor) {\n        editor.setHtml(content);\n      }\n    }\n  }\n\n  function contentChanged(e) {\n    content = editor.getHtml()\n    value = Factory.literal(\n      editor.getHtml(),\n      \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\"\n    );\n  }\n\n</script>\n<Editor bind:this={editor}\n  actions={['b', 'i', 'u', 'strike', 'removeFormat']}\n  html={content}\n  height={\"auto\"} \n  on:change={contentChanged} />\n","<script>\n  import Factory from \"@rdfjs/data-model\";\n  export let value;\n  let content;\n  $: content = value.value;\n  function userChange(e) {\n    value = Factory.blankNode(content);\n  }\n</script>\n\n<div>\n  <input type=\"text\" size=\"5\" bind:value={content} on:input={userChange} />\n</div>\n","/**\n * Simple, lightweight, usable local autocomplete library for modern browsers\n * Because there weren’t enough autocomplete scripts in the world? Because I’m completely insane and have NIH syndrome? Probably both. :P\n * @author Lea Verou http://leaverou.github.io/awesomplete\n * MIT license\n */\n\n(function () {\n\nvar _ = function (input, o) {\n\tvar me = this;\n\n    // Keep track of number of instances for unique IDs\n    _.count = (_.count || 0) + 1;\n    this.count = _.count;\n\n\t// Setup\n\n\tthis.isOpened = false;\n\n\tthis.input = $(input);\n\tthis.input.setAttribute(\"autocomplete\", \"off\");\n\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\tthis.input.setAttribute(\"aria-owns\", \"awesomplete_list_\" + this.count);\n\tthis.input.setAttribute(\"role\", \"combobox\");\n\n\t// store constructor options in case we need to distinguish\n\t// between default and customized behavior later on\n\tthis.options = o = o || {};\n\n\tconfigure(this, {\n\t\tminChars: 2,\n\t\tmaxItems: 10,\n\t\tautoFirst: false,\n\t\tdata: _.DATA,\n\t\tfilter: _.FILTER_CONTAINS,\n\t\tsort: o.sort === false ? false : _.SORT_BYLENGTH,\n\t\tcontainer: _.CONTAINER,\n\t\titem: _.ITEM,\n\t\treplace: _.REPLACE,\n\t\ttabSelect: false\n\t}, o);\n\n\tthis.index = -1;\n\n\t// Create necessary elements\n\n\tthis.container = this.container(input);\n\n\tthis.ul = $.create(\"ul\", {\n\t\thidden: \"hidden\",\n        role: \"listbox\",\n        id: \"awesomplete_list_\" + this.count,\n\t\tinside: this.container\n\t});\n\n\tthis.status = $.create(\"span\", {\n\t\tclassName: \"visually-hidden\",\n\t\trole: \"status\",\n\t\t\"aria-live\": \"assertive\",\n        \"aria-atomic\": true,\n        inside: this.container,\n        textContent: this.minChars != 0 ? (\"Type \" + this.minChars + \" or more characters for results.\") : \"Begin typing for results.\"\n\t});\n\n\t// Bind events\n\n\tthis._events = {\n\t\tinput: {\n\t\t\t\"input\": this.evaluate.bind(this),\n\t\t\t\"blur\": this.close.bind(this, { reason: \"blur\" }),\n\t\t\t\"keydown\": function(evt) {\n\t\t\t\tvar c = evt.keyCode;\n\n\t\t\t\t// If the dropdown `ul` is in view, then act on keydown for the following keys:\n\t\t\t\t// Enter / Esc / Up / Down\n\t\t\t\tif(me.opened) {\n\t\t\t\t\tif (c === 13 && me.selected) { // Enter\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 9 && me.selected && me.tabSelect) {\n\t\t\t\t\t\tme.select(undefined, undefined, evt);\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 27) { // Esc\n\t\t\t\t\t\tme.close({ reason: \"esc\" });\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 38 || c === 40) { // Down/Up arrow\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme[c === 38? \"previous\" : \"next\"]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tform: {\n\t\t\t\"submit\": this.close.bind(this, { reason: \"submit\" })\n\t\t},\n\t\tul: {\n\t\t\t// Prevent the default mousedowm, which ensures the input is not blurred.\n\t\t\t// The actual selection will happen on click. This also ensures dragging the\n\t\t\t// cursor away from the list item will cancel the selection\n\t\t\t\"mousedown\": function(evt) {\n\t\t\t\tevt.preventDefault();\n\t\t\t},\n\t\t\t// The click event is fired even if the corresponding mousedown event has called preventDefault\n\t\t\t\"click\": function(evt) {\n\t\t\t\tvar li = evt.target;\n\n\t\t\t\tif (li !== this) {\n\n\t\t\t\t\twhile (li && !/li/i.test(li.nodeName)) {\n\t\t\t\t\t\tli = li.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (li && evt.button === 0) {  // Only select on left click\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(li, evt.target, evt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.bind(this.input, this._events.input);\n\t$.bind(this.input.form, this._events.form);\n\t$.bind(this.ul, this._events.ul);\n\n\tif (this.input.hasAttribute(\"list\")) {\n\t\tthis.list = \"#\" + this.input.getAttribute(\"list\");\n\t\tthis.input.removeAttribute(\"list\");\n\t}\n\telse {\n\t\tthis.list = this.input.getAttribute(\"data-list\") || o.list || [];\n\t}\n\n\t_.all.push(this);\n};\n\n_.prototype = {\n\tset list(list) {\n\t\tif (Array.isArray(list)) {\n\t\t\tthis._list = list;\n\t\t}\n\t\telse if (typeof list === \"string\" && list.indexOf(\",\") > -1) {\n\t\t\t\tthis._list = list.split(/\\s*,\\s*/);\n\t\t}\n\t\telse { // Element or CSS selector\n\t\t\tlist = $(list);\n\n\t\t\tif (list && list.children) {\n\t\t\t\tvar items = [];\n\t\t\t\tslice.apply(list.children).forEach(function (el) {\n\t\t\t\t\tif (!el.disabled) {\n\t\t\t\t\t\tvar text = el.textContent.trim();\n\t\t\t\t\t\tvar value = el.value || text;\n\t\t\t\t\t\tvar label = el.label || text;\n\t\t\t\t\t\tif (value !== \"\") {\n\t\t\t\t\t\t\titems.push({ label: label, value: value });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis._list = items;\n\t\t\t}\n\t\t}\n\n\t\tif (document.activeElement === this.input) {\n\t\t\tthis.evaluate();\n\t\t}\n\t},\n\n\tget selected() {\n\t\treturn this.index > -1;\n\t},\n\n\tget opened() {\n\t\treturn this.isOpened;\n\t},\n\n\tclose: function (o) {\n\t\tif (!this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.input.setAttribute(\"aria-expanded\", \"false\");\n\t\tthis.ul.setAttribute(\"hidden\", \"\");\n\t\tthis.isOpened = false;\n\t\tthis.index = -1;\n\n\t\tthis.status.setAttribute(\"hidden\", \"\");\n\n\t\t$.fire(this.input, \"awesomplete-close\", o || {});\n\t},\n\n\topen: function () {\n\t\tthis.input.setAttribute(\"aria-expanded\", \"true\");\n\t\tthis.ul.removeAttribute(\"hidden\");\n\t\tthis.isOpened = true;\n\n\t\tthis.status.removeAttribute(\"hidden\");\n\n\t\tif (this.autoFirst && this.index === -1) {\n\t\t\tthis.goto(0);\n\t\t}\n\n\t\t$.fire(this.input, \"awesomplete-open\");\n\t},\n\n\tdestroy: function() {\n\t\t//remove events from the input and its form\n\t\t$.unbind(this.input, this._events.input);\n\t\t$.unbind(this.input.form, this._events.form);\n\n\t\t// cleanup container if it was created by Awesomplete but leave it alone otherwise\n\t\tif (!this.options.container) {\n\t\t\t//move the input out of the awesomplete container and remove the container and its children\n\t\t\tvar parentNode = this.container.parentNode;\n\n\t\t\tparentNode.insertBefore(this.input, this.container);\n\t\t\tparentNode.removeChild(this.container);\n\t\t}\n\n\t\t//remove autocomplete and aria-autocomplete attributes\n\t\tthis.input.removeAttribute(\"autocomplete\");\n\t\tthis.input.removeAttribute(\"aria-autocomplete\");\n\n\t\t//remove this awesomeplete instance from the global array of instances\n\t\tvar indexOfAwesomplete = _.all.indexOf(this);\n\n\t\tif (indexOfAwesomplete !== -1) {\n\t\t\t_.all.splice(indexOfAwesomplete, 1);\n\t\t}\n\t},\n\n\tnext: function () {\n\t\tvar count = this.ul.children.length;\n\t\tthis.goto(this.index < count - 1 ? this.index + 1 : (count ? 0 : -1) );\n\t},\n\n\tprevious: function () {\n\t\tvar count = this.ul.children.length;\n\t\tvar pos = this.index - 1;\n\n\t\tthis.goto(this.selected && pos !== -1 ? pos : count - 1);\n\t},\n\n\t// Should not be used, highlights specific item without any checks!\n\tgoto: function (i) {\n\t\tvar lis = this.ul.children;\n\n\t\tif (this.selected) {\n\t\t\tlis[this.index].setAttribute(\"aria-selected\", \"false\");\n\t\t}\n\n\t\tthis.index = i;\n\n\t\tif (i > -1 && lis.length > 0) {\n\t\t\tlis[i].setAttribute(\"aria-selected\", \"true\");\n\n\t\t\tthis.status.textContent = lis[i].textContent + \", list item \" + (i + 1) + \" of \" + lis.length;\n\n            this.input.setAttribute(\"aria-activedescendant\", this.ul.id + \"_item_\" + this.index);\n\n\t\t\t// scroll to highlighted element in case parent's height is fixed\n\t\t\tthis.ul.scrollTop = lis[i].offsetTop - this.ul.clientHeight + lis[i].clientHeight;\n\n\t\t\t$.fire(this.input, \"awesomplete-highlight\", {\n\t\t\t\ttext: this.suggestions[this.index]\n\t\t\t});\n\t\t}\n\t},\n\n\tselect: function (selected, origin, originalEvent) {\n\t\tif (selected) {\n\t\t\tthis.index = $.siblingIndex(selected);\n\t\t} else {\n\t\t\tselected = this.ul.children[this.index];\n\t\t}\n\n\t\tif (selected) {\n\t\t\tvar suggestion = this.suggestions[this.index];\n\n\t\t\tvar allowed = $.fire(this.input, \"awesomplete-select\", {\n\t\t\t\ttext: suggestion,\n\t\t\t\torigin: origin || selected,\n\t\t\t\toriginalEvent: originalEvent\n\t\t\t});\n\n\t\t\tif (allowed) {\n\t\t\t\tthis.replace(suggestion);\n\t\t\t\tthis.close({ reason: \"select\" });\n\t\t\t\t$.fire(this.input, \"awesomplete-selectcomplete\", {\n\t\t\t\t\ttext: suggestion,\n\t\t\t\t\toriginalEvent: originalEvent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\tevaluate: function() {\n\t\tvar me = this;\n\t\tvar value = this.input.value;\n\n\t\tif (value.length >= this.minChars && this._list && this._list.length > 0) {\n\t\t\tthis.index = -1;\n\t\t\t// Populate list with options that match\n\t\t\tthis.ul.innerHTML = \"\";\n\n\t\t\tthis.suggestions = this._list\n\t\t\t\t.map(function(item) {\n\t\t\t\t\treturn new Suggestion(me.data(item, value));\n\t\t\t\t})\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn me.filter(item, value);\n\t\t\t\t});\n\n\t\t\tif (this.sort !== false) {\n\t\t\t\tthis.suggestions = this.suggestions.sort(this.sort);\n\t\t\t}\n\n\t\t\tthis.suggestions = this.suggestions.slice(0, this.maxItems);\n\n\t\t\tthis.suggestions.forEach(function(text, index) {\n\t\t\t\t\tme.ul.appendChild(me.item(text, value, index));\n\t\t\t\t});\n\n\t\t\tif (this.ul.children.length === 0) {\n\n                this.status.textContent = \"No results found\";\n\n\t\t\t\tthis.close({ reason: \"nomatches\" });\n\n\t\t\t} else {\n\t\t\t\tthis.open();\n\n                this.status.textContent = this.ul.children.length + \" results found\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.close({ reason: \"nomatches\" });\n\n                this.status.textContent = \"No results found\";\n\t\t}\n\t}\n};\n\n// Static methods/properties\n\n_.all = [];\n\n_.FILTER_CONTAINS = function (text, input) {\n\treturn RegExp($.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.FILTER_STARTSWITH = function (text, input) {\n\treturn RegExp(\"^\" + $.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.SORT_BYLENGTH = function (a, b) {\n\tif (a.length !== b.length) {\n\t\treturn a.length - b.length;\n\t}\n\n\treturn a < b? -1 : 1;\n};\n\n_.CONTAINER = function (input) {\n\treturn $.create(\"div\", {\n\t\tclassName: \"awesomplete\",\n\t\taround: input\n\t});\n}\n\n_.ITEM = function (text, input, item_id) {\n\tvar html = input.trim() === \"\" ? text : text.replace(RegExp($.regExpEscape(input.trim()), \"gi\"), \"<mark>$&</mark>\");\n\treturn $.create(\"li\", {\n\t\tinnerHTML: html,\n\t\t\"role\": \"option\",\n\t\t\"aria-selected\": \"false\",\n\t\t\"id\": \"awesomplete_list_\" + this.count + \"_item_\" + item_id\n\t});\n};\n\n_.REPLACE = function (text) {\n\tthis.input.value = text.value;\n};\n\n_.DATA = function (item/*, input*/) { return item; };\n\n// Private functions\n\nfunction Suggestion(data) {\n\tvar o = Array.isArray(data)\n\t  ? { label: data[0], value: data[1] }\n\t  : typeof data === \"object\" && \"label\" in data && \"value\" in data ? data : { label: data, value: data };\n\n\tthis.label = o.label || o.value;\n\tthis.value = o.value;\n}\nObject.defineProperty(Suggestion.prototype = Object.create(String.prototype), \"length\", {\n\tget: function() { return this.label.length; }\n});\nSuggestion.prototype.toString = Suggestion.prototype.valueOf = function () {\n\treturn \"\" + this.label;\n};\n\nfunction configure(instance, properties, o) {\n\tfor (var i in properties) {\n\t\tvar initial = properties[i],\n\t\t    attrValue = instance.input.getAttribute(\"data-\" + i.toLowerCase());\n\n\t\tif (typeof initial === \"number\") {\n\t\t\tinstance[i] = parseInt(attrValue);\n\t\t}\n\t\telse if (initial === false) { // Boolean options must be false by default anyway\n\t\t\tinstance[i] = attrValue !== null;\n\t\t}\n\t\telse if (initial instanceof Function) {\n\t\t\tinstance[i] = null;\n\t\t}\n\t\telse {\n\t\t\tinstance[i] = attrValue;\n\t\t}\n\n\t\tif (!instance[i] && instance[i] !== 0) {\n\t\t\tinstance[i] = (i in o)? o[i] : initial;\n\t\t}\n\t}\n}\n\n// Helpers\n\nvar slice = Array.prototype.slice;\n\nfunction $(expr, con) {\n\treturn typeof expr === \"string\"? (con || document).querySelector(expr) : expr || null;\n}\n\nfunction $$(expr, con) {\n\treturn slice.call((con || document).querySelectorAll(expr));\n}\n\n$.create = function(tag, o) {\n\tvar element = document.createElement(tag);\n\n\tfor (var i in o) {\n\t\tvar val = o[i];\n\n\t\tif (i === \"inside\") {\n\t\t\t$(val).appendChild(element);\n\t\t}\n\t\telse if (i === \"around\") {\n\t\t\tvar ref = $(val);\n\t\t\tref.parentNode.insertBefore(element, ref);\n\t\t\telement.appendChild(ref);\n\n\t\t\tif (ref.getAttribute(\"autofocus\") != null) {\n\t\t\t\tref.focus();\n\t\t\t}\n\t\t}\n\t\telse if (i in element) {\n\t\t\telement[i] = val;\n\t\t}\n\t\telse {\n\t\t\telement.setAttribute(i, val);\n\t\t}\n\t}\n\n\treturn element;\n};\n\n$.bind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function (event) {\n\t\t\t\telement.addEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.unbind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function(event) {\n\t\t\t\telement.removeEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.fire = function(target, type, properties) {\n\tvar evt = document.createEvent(\"HTMLEvents\");\n\n\tevt.initEvent(type, true, true );\n\n\tfor (var j in properties) {\n\t\tevt[j] = properties[j];\n\t}\n\n\treturn target.dispatchEvent(evt);\n};\n\n$.regExpEscape = function (s) {\n\treturn s.replace(/[-\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\n\n$.siblingIndex = function (el) {\n\t/* eslint-disable no-cond-assign */\n\tfor (var i = 0; el = el.previousElementSibling; i++);\n\treturn i;\n};\n\n// Initialization\n\nfunction init() {\n\t$$(\"input.awesomplete\").forEach(function (input) {\n\t\tnew _(input);\n\t});\n}\n\n// Make sure to export Awesomplete on self when in a browser\nif (typeof self !== \"undefined\") {\n\tself.Awesomplete = _;\n}\n\n// Are we in a browser? Check for Document constructor\nif (typeof Document !== \"undefined\") {\n\t// DOM already loaded?\n\tif (document.readyState !== \"loading\") {\n\t\tinit();\n\t}\n\telse {\n\t\t// Wait for it\n\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t}\n}\n\n_.$ = $;\n_.$$ = $$;\n\n// Expose Awesomplete as a CJS module\nif (typeof module === \"object\" && module.exports) {\n\tmodule.exports = _;\n}\n\nreturn _;\n\n}());\n","var RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: XSD + 'decimal',\n    boolean: XSD + 'boolean',\n    double:  XSD + 'double',\n    integer: XSD + 'integer',\n    string:  XSD + 'string',\n  },\n  rdf: {\n    type:       RDF + 'type',\n    nil:        RDF + 'nil',\n    first:      RDF + 'first',\n    rest:       RDF + 'rest',\n    langString: RDF + 'langString',\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: SWAP + 'reify#forSome',\n    forAll:  SWAP + 'reify#forAll',\n  },\n  log: {\n    implies: SWAP + 'log#implies',\n  },\n};\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nimport queueMicrotask from 'queue-microtask';\n\nconst { xsd } = namespaces;\n\n// Regular expression and replacement string to escape N3 strings\nvar escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\([^])/g;\nvar escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nvar illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nvar lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nvar invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<]))/;\n    this._number = /^[\\-+]?(?:(\\d+\\.\\d*|\\.?\\d+)[eE][\\-+]?|\\d*(\\.)?)\\d+(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s()\\[\\]\\{\\}\"'<])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (var key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    var input = this._input, outputComments = this._comments;\n    while (true) {\n      // Count and skip whitespace lines\n      var whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (outputComments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (outputComments && (comment = this._comment.exec(input)))\n            callback(null, { line: this._line, type: 'comment', value: comment[1], prefix: '' });\n          callback(input = null, { line: this._line, type: 'eof', value: '', prefix: '' });\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      var line = this._line, type = '', value = '', prefix = '',\n          firstChar = input[0], match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(input + ' ')))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(input + ' '))) {\n          type = 'literal', value = match[0];\n          prefix = (typeof match[1] === 'string' ? xsd.double :\n                    (typeof match[2] === 'string' ? xsd.decimal : xsd.integer));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '{':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(input + ' ')))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      var token = { line: line, type: type, value: value, prefix: prefix };\n      callback(null, token);\n      this.previousToken = token;\n      this._previousMarker = type;\n      // Advance to next part to tokenize\n      input = input.substr(matchLength || match[0].length, input.length);\n    }\n\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    let invalid = false;\n    const replaced = item.replace(escapeSequence, (sequence, unicode4, unicode8, escapedChar) => {\n      // 4-digit unicode character\n      if (typeof unicode4 === 'string')\n        return String.fromCharCode(Number.parseInt(unicode4, 16));\n      // 8-digit unicode character\n      if (typeof unicode8 === 'string') {\n        let charCode = Number.parseInt(unicode8, 16);\n        return charCode <= 0xFFFF ? String.fromCharCode(Number.parseInt(unicode8, 16)) :\n          String.fromCharCode(0xD800 + ((charCode -= 0x10000) >> 10), 0xDC00 + (charCode & 0x3FF));\n      }\n      // fixed escape sequence\n      if (escapedChar in escapeReplacements)\n        return escapeReplacements[escapedChar];\n      // invalid escape sequence\n      invalid = true;\n      return '';\n    });\n    return invalid ? null : replaced;\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    var err = new Error('Unexpected \"' + issue + '\" on line ' + this._line + '.');\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    var self = this;\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = input;\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        queueMicrotask(() => self._tokenizeToEnd(callback, true));\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        var tokens = [], error;\n        this._tokenizeToEnd(function (e, t) { e ? (error = e) : tokens.push(t); }, true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._input = '';\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', function (data) {\n        if (self._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (self._pendingBuffer) {\n            data = Buffer.concat([self._pendingBuffer, data]);\n            self._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            self._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            self._input += data;\n            self._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', function () {\n        if (self._input !== null)\n          self._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n","// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nconst { rdf, xsd } = namespaces;\n\nlet DEFAULTGRAPH;\nlet _blankNodeCounter = 0;\n\n// ## DataFactory singleton\nconst DataFactory = {\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n};\nexport default DataFactory;\n\n// ## Term constructor\nexport class Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nexport class NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nexport class Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    var id = this.id, atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    var id = this.id, dtPos = id.lastIndexOf('\"') + 1, ch;\n    // If \"^\" it follows, return the remaining substring\n    return dtPos < id.length && (ch = id[dtPos]) === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (ch !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nexport class BlankNode extends Term {\n  constructor(name) {\n    super('_:' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nexport class Variable extends Term {\n  constructor(name) {\n    super('?' + name);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nexport class DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n\n// ### Constructs a term from the given internal string ID\nexport function termFromId(id, factory) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '_': return factory.blankNode(id.substr(2));\n  case '?': return factory.variable(id.substr(1));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    var endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  default:  return factory.namedNode(id);\n  }\n}\n\n// ### Constructs an internal string ID from the given term or ID string\nexport function termToId(term) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term)\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return '_:' + term.value;\n  case 'Variable':     return '?' + term.value;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return '\"' + term.value + '\"' +\n    (term.language ? '@' + term.language :\n      (term.datatype && term.datatype.value !== xsd.string ? '^^' + term.datatype.value : ''));\n  default: throw new Error('Unexpected termType: ' + term.termType);\n  }\n}\n\n\n// ## Quad constructor\nexport class Quad {\n  constructor(subject, predicate, object, graph) {\n    this.subject   = subject;\n    this.predicate = predicate;\n    this.object    = object;\n    this.graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      subject:   this.subject.toJSON(),\n      predicate: this.predicate.toJSON(),\n      object:    this.object.toJSON(),\n      graph:     this.graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this.subject.equals(other.subject)     &&\n                      this.predicate.equals(other.predicate) &&\n                      this.object.equals(other.object)       &&\n                      this.graph.equals(other.graph);\n  }\n}\nexport { Quad as Triple };\n\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal('\"' + value + '\"@' + languageOrDataType.toLowerCase());\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal('\"' + value + '\"') :\n    new Literal('\"' + value + '\"^^' + datatype);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n","// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    var format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = format === 'turtle', isTriG = format === 'trig',\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = function (iri) { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      var fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    var n3Mode = this._n3Mode;\n    this._contextStack.push({\n      subject: subject, predicate: predicate, object: object,\n      graph: graph, type: type,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? this._graph.id.substr(2) + '.' : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext() {\n    var context = this._contextStack.pop(), n3Mode = this._n3Mode;\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    var value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      var iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      var prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error('Undefined prefix \"' + token.prefix + ':\"', token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error('Expected entity but got ' + token.type, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    var type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error('Unexpected ' + type, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error('Expected graph but got ' + token.type, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    var empty = this._predicate === null;\n    this._restoreContext();\n    // If the blank node was the subject, continue reading the predicate\n    if (this._object === null)\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n    // If the blank node was the object, restore previous context and read punctuation\n    else\n      return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    var item = null,                      // The item of the list\n        list = null,                      // The list itself\n        previousList = this._subject,     // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1], // The parent containing the current list\n        next = this._readListItem;        // The next function to execute\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext();\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      var datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext();\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    var next, subject = this._subject, graph = this._graph,\n        inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      var predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    var next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error('Expected punctuation to follow \"' + this._object.id + '\"', token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error('Expected IRI to follow prefix \"' + this._prefix + ':\"', token);\n    var prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    var iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    var entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error('Unexpected ' + token.type, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      var stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        var item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext();\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    var subject, predicate, object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    var subject = this._blankNode(), predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    var contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    var err = new Error(message + ' on line ' + token.line + '.');\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    var result = '', length = iri.length, i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return result + '/' + iri.substr(i + 1);\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    var self = this;\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : 'b' + blankNodePrefix++ + '_';\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      var quads = [], error;\n      this._callback = function (e, t) { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(function (token) {\n        return self._readCallback = self._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, function (error, token) {\n      if (error !== null)\n        self._callback(error), self._callback = noop;\n      else if (self._readCallback)\n        self._readCallback = self._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  var namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n","// **N3Writer** writes N3 documents.\nimport namespaces from './IRIs';\nimport { default as N3DataFactory, Term } from './N3DataFactory';\n\nconst DEFAULTGRAPH = N3DataFactory.defaultGraph();\n\nconst { rdf, xsd } = namespaces;\n\n// Characters in literals that require escaping\nvar escape    = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019\\ud800-\\udbff]/,\n    escapeAll = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019]|[\\ud800-\\udbff][\\udc00-\\udfff]/g,\n    escapedCharacters = {\n      '\\\\': '\\\\\\\\', '\"': '\\\\\"', '\\t': '\\\\t',\n      '\\n': '\\\\n', '\\r': '\\\\r', '\\b': '\\\\b', '\\f': '\\\\f',\n    };\n\n// ## Placeholder class to represent already pretty-printed terms\nclass SerializedTerm extends Term {\n  // Pretty-printed nodes are not equal to any other node\n  // (e.g., [] does not equal [])\n  equals() {\n    return false;\n  }\n}\n\n// ## Constructor\nexport default class N3Writer {\n  constructor(outputStream, options) {\n    // ### `_prefixRegex` matches a prefixed name or IRI that begins with one of the added prefixes\n    this._prefixRegex = /$0^/;\n\n    // Shift arguments if the first argument is not a stream\n    if (outputStream && typeof outputStream.write !== 'function')\n      options = outputStream, outputStream = null;\n    options = options || {};\n    this._lists = options.lists;\n\n    // If no output stream given, send the output as string through the end callback\n    if (!outputStream) {\n      var output = '';\n      this._outputStream = {\n        write(chunk, encoding, done) { output += chunk; done && done(); },\n        end:   function (done) { done && done(null, output); },\n      };\n      this._endStream = true;\n    }\n    else {\n      this._outputStream = outputStream;\n      this._endStream = options.end === undefined ? true : !!options.end;\n    }\n\n    // Initialize writer, depending on the format\n    this._subject = null;\n    if (!(/triple|quad/i).test(options.format)) {\n      this._graph = DEFAULTGRAPH;\n      this._prefixIRIs = Object.create(null);\n      options.prefixes && this.addPrefixes(options.prefixes);\n    }\n    else {\n      this._writeQuad = this._writeQuadLine;\n    }\n  }\n\n  // ## Private methods\n\n  // ### Whether the current graph is the default graph\n  get _inDefaultGraph() {\n    return DEFAULTGRAPH.equals(this._graph);\n  }\n\n  // ### `_write` writes the argument to the output stream\n  _write(string, callback) {\n    this._outputStream.write(string, 'utf8', callback);\n  }\n\n  // ### `_writeQuad` writes the quad to the output stream\n  _writeQuad(subject, predicate, object, graph, done) {\n    try {\n      // Write the graph's label if it has changed\n      if (!graph.equals(this._graph)) {\n        // Close the previous graph and start the new one\n        this._write((this._subject === null ? '' : (this._inDefaultGraph ? '.\\n' : '\\n}\\n')) +\n                    (DEFAULTGRAPH.equals(graph) ? '' : this._encodeIriOrBlank(graph) + ' {\\n'));\n        this._graph = graph;\n        this._subject = null;\n      }\n      // Don't repeat the subject if it's the same\n      if (subject.equals(this._subject)) {\n        // Don't repeat the predicate if it's the same\n        if (predicate.equals(this._predicate))\n          this._write(', ' + this._encodeObject(object), done);\n        // Same subject, different predicate\n        else\n          this._write(';\\n    ' +\n                      this._encodePredicate(this._predicate = predicate) + ' ' +\n                      this._encodeObject(object), done);\n      }\n      // Different subject; write the whole quad\n      else\n        this._write((this._subject === null ? '' : '.\\n') +\n                    this._encodeIriOrBlank(this._subject = subject) + ' ' +\n                    this._encodePredicate(this._predicate = predicate) + ' ' +\n                    this._encodeObject(object), done);\n    }\n    catch (error) { done && done(error); }\n  }\n\n  // ### `_writeQuadLine` writes the quad to the output stream as a single line\n  _writeQuadLine(subject, predicate, object, graph, done) {\n    // Write the quad without prefixes\n    delete this._prefixMatch;\n    this._write(this.quadToString(subject, predicate, object, graph), done);\n  }\n\n  // ### `quadToString` serializes a quad as a string\n  quadToString(subject, predicate, object, graph) {\n    return  this._encodeIriOrBlank(subject)   + ' ' +\n            this._encodeIriOrBlank(predicate) + ' ' +\n            this._encodeObject(object) +\n            (graph && graph.value ? ' ' + this._encodeIriOrBlank(graph) + ' .\\n' : ' .\\n');\n  }\n\n  // ### `quadsToString` serializes an array of quads as a string\n  quadsToString(quads) {\n    return quads.map(function (t) {\n      return this.quadToString(t.subject, t.predicate, t.object, t.graph);\n    }, this).join('');\n  }\n\n  // ### `_encodeIriOrBlank` represents an IRI or blank node\n  _encodeIriOrBlank(entity) {\n    // A blank node or list is represented as-is\n    if (entity.termType !== 'NamedNode') {\n      // If it is a list head, pretty-print it\n      if (this._lists && (entity.value in this._lists))\n        entity = this.list(this._lists[entity.value]);\n      return 'id' in entity ? entity.id : '_:' + entity.value;\n    }\n    // Escape special characters\n    var iri = entity.value;\n    if (escape.test(iri))\n      iri = iri.replace(escapeAll, characterReplacer);\n    // Try to represent the IRI as prefixed name\n    var prefixMatch = this._prefixRegex.exec(iri);\n    return !prefixMatch ? '<' + iri + '>' :\n           (!prefixMatch[1] ? iri : this._prefixIRIs[prefixMatch[1]] + prefixMatch[2]);\n  }\n\n  // ### `_encodeLiteral` represents a literal\n  _encodeLiteral(literal) {\n    // Escape special characters\n    var value = literal.value;\n    if (escape.test(value))\n      value = value.replace(escapeAll, characterReplacer);\n    // Write the literal, possibly with type or language\n    if (literal.language)\n      return '\"' + value + '\"@' + literal.language;\n    else if (literal.datatype.value !== xsd.string)\n      return '\"' + value + '\"^^' + this._encodeIriOrBlank(literal.datatype);\n    else\n      return '\"' + value + '\"';\n  }\n\n  // ### `_encodePredicate` represents a predicate\n  _encodePredicate(predicate) {\n    return predicate.value === rdf.type ? 'a' : this._encodeIriOrBlank(predicate);\n  }\n\n  // ### `_encodeObject` represents an object\n  _encodeObject(object) {\n    return object.termType === 'Literal' ? this._encodeLiteral(object) : this._encodeIriOrBlank(object);\n  }\n\n  // ### `_blockedWrite` replaces `_write` after the writer has been closed\n  _blockedWrite() {\n    throw new Error('Cannot write because the writer has been closed.');\n  }\n\n  // ### `addQuad` adds the quad to the output stream\n  addQuad(subject, predicate, object, graph, done) {\n    // The quad was given as an object, so shift parameters\n    if (object === undefined)\n      this._writeQuad(subject.subject, subject.predicate, subject.object, subject.graph, predicate);\n    // The optional `graph` parameter was not provided\n    else if (typeof graph === 'function')\n      this._writeQuad(subject, predicate, object, DEFAULTGRAPH, graph);\n    // The `graph` parameter was provided\n    else\n      this._writeQuad(subject, predicate, object, graph || DEFAULTGRAPH, done);\n  }\n\n  // ### `addQuads` adds the quads to the output stream\n  addQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `addPrefix` adds the prefix to the output stream\n  addPrefix(prefix, iri, done) {\n    var prefixes = {};\n    prefixes[prefix] = iri;\n    this.addPrefixes(prefixes, done);\n  }\n\n  // ### `addPrefixes` adds the prefixes to the output stream\n  addPrefixes(prefixes, done) {\n    var prefixIRIs = this._prefixIRIs, hasPrefixes = false;\n    for (var prefix in prefixes) {\n      var iri = prefixes[prefix];\n      if (typeof iri !== 'string')\n        iri = iri.value;\n      hasPrefixes = true;\n      // Finish a possible pending quad\n      if (this._subject !== null) {\n        this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n        this._subject = null, this._graph = '';\n      }\n      // Store and write the prefix\n      prefixIRIs[iri] = (prefix += ':');\n      this._write('@prefix ' + prefix + ' <' + iri + '>.\\n');\n    }\n    // Recreate the prefix matcher\n    if (hasPrefixes) {\n      var IRIlist = '', prefixList = '';\n      for (var prefixIRI in prefixIRIs) {\n        IRIlist += IRIlist ? '|' + prefixIRI : prefixIRI;\n        prefixList += (prefixList ? '|' : '') + prefixIRIs[prefixIRI];\n      }\n      IRIlist = IRIlist.replace(/[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n      this._prefixRegex = new RegExp('^(?:' + prefixList + ')[^\\/]*$|' +\n                                     '^(' + IRIlist + ')([a-zA-Z][\\\\-_a-zA-Z0-9]*)$');\n    }\n    // End a prefix block with a newline\n    this._write(hasPrefixes ? '\\n' : '', done);\n  }\n\n  // ### `blank` creates a blank node with the given content\n  blank(predicate, object) {\n    var children = predicate, child, length;\n    // Empty blank node\n    if (predicate === undefined)\n      children = [];\n    // Blank node passed as blank(Term(\"predicate\"), Term(\"object\"))\n    else if (predicate.termType)\n      children = [{ predicate: predicate, object: object }];\n    // Blank node passed as blank({ predicate: predicate, object: object })\n    else if (!('length' in predicate))\n      children = [predicate];\n\n    switch (length = children.length) {\n    // Generate an empty blank node\n    case 0:\n      return new SerializedTerm('[]');\n    // Generate a non-nested one-triple blank node\n    case 1:\n      child = children[0];\n      if (!(child.object instanceof SerializedTerm))\n        return new SerializedTerm('[ ' + this._encodePredicate(child.predicate) + ' ' +\n                                  this._encodeObject(child.object) + ' ]');\n    // Generate a multi-triple or nested blank node\n    default:\n      var contents = '[';\n      // Write all triples in order\n      for (var i = 0; i < length; i++) {\n        child = children[i];\n        // Write only the object is the predicate is the same as the previous\n        if (child.predicate.equals(predicate))\n          contents += ', ' + this._encodeObject(child.object);\n        // Otherwise, write the predicate and the object\n        else {\n          contents += (i ? ';\\n  ' : '\\n  ') +\n                      this._encodePredicate(child.predicate) + ' ' +\n                      this._encodeObject(child.object);\n          predicate = child.predicate;\n        }\n      }\n      return new SerializedTerm(contents + '\\n]');\n    }\n  }\n\n  // ### `list` creates a list node with the given content\n  list(elements) {\n    var length = elements && elements.length || 0, contents = new Array(length);\n    for (var i = 0; i < length; i++)\n      contents[i] = this._encodeObject(elements[i]);\n    return new SerializedTerm('(' + contents.join(' ') + ')');\n  }\n\n  // ### `end` signals the end of the output stream\n  end(done) {\n    // Finish a possible pending quad\n    if (this._subject !== null) {\n      this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n      this._subject = null;\n    }\n    // Disallow further writing\n    this._write = this._blockedWrite;\n\n    // Try to end the underlying stream, ensuring done is called exactly one time\n    var singleDone = done && function (error, result) { singleDone = null, done(error, result); };\n    if (this._endStream) {\n      try { return this._outputStream.end(singleDone); }\n      catch (error) { /* error closing stream */ }\n    }\n    singleDone && singleDone();\n  }\n}\n\n// Replaces a character by its escaped version\nfunction characterReplacer(character) {\n  // Replace a single character by its escaped version\n  var result = escapedCharacters[character];\n  if (result === undefined) {\n    // Replace a single character with its 4-bit unicode escape sequence\n    if (character.length === 1) {\n      result = character.charCodeAt(0).toString(16);\n      result = '\\\\u0000'.substr(0, 6 - result.length) + result;\n    }\n    // Replace a surrogate pair with its 8-bit unicode escape sequence\n    else {\n      result = ((character.charCodeAt(0) - 0xD800) * 0x400 +\n                 character.charCodeAt(1) + 0x2400).toString(16);\n      result = '\\\\U00000000'.substr(0, 10 - result.length) + result;\n    }\n  }\n  return result;\n}\n","// **N3Store** objects store N3 quads by graph in memory.\nimport { default as N3DataFactory, termToId, termFromId } from './N3DataFactory';\nimport { Readable } from 'stream';\nimport namespaces from './IRIs';\n\n// ## Constructor\nexport default class N3Store {\n  constructor(quads, options) {\n    // The number of quads is initially zero\n    this._size = 0;\n    // `_graphs` contains subject, predicate, and object indexes per graph\n    this._graphs = Object.create(null);\n    // `_ids` maps entities such as `http://xmlns.com/foaf/0.1/name` to numbers,\n    // saving memory by using only numbers as keys in `_graphs`\n    this._id = 0;\n    this._ids = Object.create(null);\n    this._ids['><'] = 0; // dummy entry, so the first actual key is non-zero\n    this._entities = Object.create(null); // inverse of `_ids`\n    // `_blankNodeIndex` is the index of the last automatically named blank node\n    this._blankNodeIndex = 0;\n\n    // Shift parameters if `quads` is not given\n    if (!options && quads && !quads[0])\n      options = quads, quads = null;\n    options = options || {};\n    this._factory = options.factory || N3DataFactory;\n\n    // Add quads if passed\n    if (quads)\n      this.addQuads(quads);\n  }\n\n  // ## Public properties\n\n  // ### `size` returns the number of quads in the store\n  get size() {\n    // Return the quad count if if was cached\n    var size = this._size;\n    if (size !== null)\n      return size;\n\n    // Calculate the number of quads by counting to the deepest level\n    size = 0;\n    var graphs = this._graphs, subjects, subject;\n    for (var graphKey in graphs)\n      for (var subjectKey in (subjects = graphs[graphKey].subjects))\n        for (var predicateKey in (subject = subjects[subjectKey]))\n          size += Object.keys(subject[predicateKey]).length;\n    return this._size = size;\n  }\n\n  // ## Private methods\n\n  // ### `_addToIndex` adds a quad to a three-layered index.\n  // Returns if the index has changed, if the entry did not already exist.\n  _addToIndex(index0, key0, key1, key2) {\n    // Create layers as necessary\n    var index1 = index0[key0] || (index0[key0] = {});\n    var index2 = index1[key1] || (index1[key1] = {});\n    // Setting the key to _any_ value signals the presence of the quad\n    var existed = key2 in index2;\n    if (!existed)\n      index2[key2] = null;\n    return !existed;\n  }\n\n  // ### `_removeFromIndex` removes a quad from a three-layered index\n  _removeFromIndex(index0, key0, key1, key2) {\n    // Remove the quad from the index\n    var index1 = index0[key0], index2 = index1[key1], key;\n    delete index2[key2];\n\n    // Remove intermediary index layers if they are empty\n    for (key in index2) return;\n    delete index1[key1];\n    for (key in index1) return;\n    delete index0[key0];\n  }\n\n  // ### `_findInIndex` finds a set of quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  // `name0`, `name1`, and `name2` are the names of the keys at each level,\n  // used when reconstructing the resulting quad\n  // (for instance: _subject_, _predicate_, and _object_).\n  // Finally, `graph` will be the graph of the created quads.\n  // If `callback` is given, each result is passed through it\n  // and iteration halts when it returns truthy for any quad.\n  // If instead `array` is given, each result is added to the array.\n  _findInIndex(index0, key0, key1, key2, name0, name1, name2, graph, callback, array) {\n    var tmp, index1, index2, varCount = !key0 + !key1 + !key2,\n        // depending on the number of variables, keys or reverse index are faster\n        entityKeys = varCount > 1 ? Object.keys(this._ids) : this._entities;\n\n    // If a key is specified, use only that part of index 0.\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (var value0 in index0) {\n      var entity0 = entityKeys[value0];\n\n      if (index1 = index0[value0]) {\n        // If a key is specified, use only that part of index 1.\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (var value1 in index1) {\n          var entity1 = entityKeys[value1];\n\n          if (index2 = index1[value1]) {\n            // If a key is specified, use only that part of index 2, if it exists.\n            var values = key2 ? (key2 in index2 ? [key2] : []) : Object.keys(index2);\n            // Create quads for all items found in index 2.\n            for (var l = 0; l < values.length; l++) {\n              var parts = { subject: null, predicate: null, object: null };\n              parts[name0] = termFromId(entity0, this._factory);\n              parts[name1] = termFromId(entity1, this._factory);\n              parts[name2] = termFromId(entityKeys[values[l]], this._factory);\n              var quad = this._factory.quad(\n                parts.subject, parts.predicate, parts.object, termFromId(graph, this._factory));\n              if (array)\n                array.push(quad);\n              else if (callback(quad))\n                return true;\n            }\n          }\n        }\n      }\n    }\n    return array;\n  }\n\n  // ### `_loop` executes the callback on all keys of index 0\n  _loop(index0, callback) {\n    for (var key0 in index0)\n      callback(key0);\n  }\n\n  // ### `_loopByKey0` executes the callback on all keys of a certain entry in index 0\n  _loopByKey0(index0, key0, callback) {\n    var index1, key1;\n    if (index1 = index0[key0]) {\n      for (key1 in index1)\n        callback(key1);\n    }\n  }\n\n  // ### `_loopByKey1` executes the callback on given keys of all entries in index 0\n  _loopByKey1(index0, key1, callback) {\n    var key0, index1;\n    for (key0 in index0) {\n      index1 = index0[key0];\n      if (index1[key1])\n        callback(key0);\n    }\n  }\n\n  // ### `_loopBy2Keys` executes the callback on given keys of certain entries in index 2\n  _loopBy2Keys(index0, key0, key1, callback) {\n    var index1, index2, key2;\n    if ((index1 = index0[key0]) && (index2 = index1[key1])) {\n      for (key2 in index2)\n        callback(key2);\n    }\n  }\n\n  // ### `_countInIndex` counts matching quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  _countInIndex(index0, key0, key1, key2) {\n    var count = 0, tmp, index1, index2;\n\n    // If a key is specified, count only that part of index 0\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (var value0 in index0) {\n      if (index1 = index0[value0]) {\n        // If a key is specified, count only that part of index 1\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (var value1 in index1) {\n          if (index2 = index1[value1]) {\n            // If a key is specified, count the quad if it exists\n            if (key2) (key2 in index2) && count++;\n            // Otherwise, count all quads\n            else count += Object.keys(index2).length;\n          }\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `_getGraphs` returns an array with the given graph,\n  // or all graphs if the argument is null or undefined.\n  _getGraphs(graph) {\n    if (!isString(graph))\n      return this._graphs;\n    var graphs = {};\n    graphs[graph] = this._graphs[graph];\n    return graphs;\n  }\n\n  // ### `_uniqueEntities` returns a function that accepts an entity ID\n  // and passes the corresponding entity to callback if it hasn't occurred before.\n  _uniqueEntities(callback) {\n    var uniqueIds = Object.create(null), entities = this._entities;\n    return function (id) {\n      if (!(id in uniqueIds)) {\n        uniqueIds[id] = true;\n        callback(termFromId(entities[id]));\n      }\n    };\n  }\n\n  // ## Public methods\n\n  // ### `addQuad` adds a new quad to the store.\n  // Returns if the quad index has changed, if the quad did not already exist.\n  addQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = termToId(subject);\n    predicate = termToId(predicate);\n    object = termToId(object);\n    graph = termToId(graph);\n\n    // Find the graph that will contain the triple\n    var graphItem = this._graphs[graph];\n    // Create the graph if it doesn't exist yet\n    if (!graphItem) {\n      graphItem = this._graphs[graph] = { subjects: {}, predicates: {}, objects: {} };\n      // Freezing a graph helps subsequent `add` performance,\n      // and properties will never be modified anyway\n      Object.freeze(graphItem);\n    }\n\n    // Since entities can often be long IRIs, we avoid storing them in every index.\n    // Instead, we have a separate index that maps entities to numbers,\n    // which are then used as keys in the other indexes.\n    var ids = this._ids;\n    var entities = this._entities;\n    subject   = ids[subject]   || (ids[entities[++this._id] = subject]   = this._id);\n    predicate = ids[predicate] || (ids[entities[++this._id] = predicate] = this._id);\n    object    = ids[object]    || (ids[entities[++this._id] = object]    = this._id);\n\n    var changed = this._addToIndex(graphItem.subjects,   subject,   predicate, object);\n    this._addToIndex(graphItem.predicates, predicate, object,    subject);\n    this._addToIndex(graphItem.objects,    object,    subject,   predicate);\n\n    // The cached quad count is now invalid\n    this._size = null;\n    return changed;\n  }\n\n  // ### `addQuads` adds multiple quads to the store\n  addQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `import` adds a stream of quads to the store\n  import(stream) {\n    var self = this;\n    stream.on('data', function (quad) { self.addQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeQuad` removes a quad from the store if it exists\n  removeQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = termToId(subject);\n    predicate = termToId(predicate);\n    object = termToId(object);\n    graph = termToId(graph);\n\n    // Find internal identifiers for all components\n    // and verify the quad exists.\n    var graphItem, ids = this._ids, graphs = this._graphs, subjects, predicates;\n    if (!(subject    = ids[subject]) || !(predicate = ids[predicate]) ||\n        !(object     = ids[object])  || !(graphItem = graphs[graph])  ||\n        !(subjects   = graphItem.subjects[subject]) ||\n        !(predicates = subjects[predicate]) ||\n        !(object in predicates))\n      return false;\n\n    // Remove it from all indexes\n    this._removeFromIndex(graphItem.subjects,   subject,   predicate, object);\n    this._removeFromIndex(graphItem.predicates, predicate, object,    subject);\n    this._removeFromIndex(graphItem.objects,    object,    subject,   predicate);\n    if (this._size !== null) this._size--;\n\n    // Remove the graph if it is empty\n    for (subject in graphItem.subjects) return true;\n    delete graphs[graph];\n    return true;\n  }\n\n  // ### `removeQuads` removes multiple quads from the store\n  removeQuads(quads) {\n    for (var i = 0; i < quads.length; i++)\n      this.removeQuad(quads[i]);\n  }\n\n  // ### `remove` removes a stream of quads from the store\n  remove(stream) {\n    var self = this;\n    stream.on('data', function (quad) { self.removeQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeMatches` removes all matching quads from the store\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  removeMatches(subject, predicate, object, graph) {\n    return this.remove(this.match(subject, predicate, object, graph));\n  }\n\n  // ### `deleteGraph` removes all triples with the given graph from the store\n  deleteGraph(graph) {\n    return this.removeMatches(null, null, null, graph);\n  }\n\n  // ### `getQuads` returns an array of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    predicate = predicate && termToId(predicate);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    var quads = [], graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return quads;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the object index will be the fastest\n            this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                              'object', 'subject', 'predicate', graphId, null, quads);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            this._findInIndex(content.subjects, subjectId, predicateId, null,\n                              'subject', 'predicate', 'object', graphId, null, quads);\n        }\n        else if (predicateId)\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          this._findInIndex(content.predicates, predicateId, objectId, null,\n                            'predicate', 'object', 'subject', graphId, null, quads);\n        else if (objectId)\n          // If only object is given, the object index will be the fastest\n          this._findInIndex(content.objects, objectId, null, null,\n                            'object', 'subject', 'predicate', graphId, null, quads);\n        else\n          // If nothing is given, iterate subjects and predicates first\n          this._findInIndex(content.subjects, null, null, null,\n                            'subject', 'predicate', 'object', graphId, null, quads);\n      }\n    }\n    return quads;\n  }\n\n  // ### `match` returns a stream of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  match(subject, predicate, object, graph) {\n    var stream = new Readable({ objectMode: true });\n\n    // Initialize stream once it is being read\n    stream._read = () => {\n      for (var quad of this.getQuads(subject, predicate, object, graph))\n        stream.push(quad);\n      stream.push(null);\n    };\n\n    return stream;\n  }\n\n  // ### `countQuads` returns the number of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  countQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    predicate = predicate && termToId(predicate);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    var count = 0, graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return 0;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subject) {\n          if (object)\n            // If subject and object are given, the object index will be the fastest\n            count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            count += this._countInIndex(content.subjects, subjectId, predicateId, objectId);\n        }\n        else if (predicate) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          count += this._countInIndex(content.predicates, predicateId, objectId, subjectId);\n        }\n        else {\n          // If only object is possibly given, the object index will be the fastest\n          count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `forEach` executes the callback on all quads.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forEach(callback, subject, predicate, object, graph) {\n    this.some(function (quad) {\n      callback(quad);\n      return false;\n    }, subject, predicate, object, graph);\n  }\n\n  // ### `every` executes the callback on all quads,\n  // and returns `true` if it returns truthy for all them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  every(callback, subject, predicate, object, graph) {\n    var some = false;\n    var every = !this.some(function (quad) {\n      some = true;\n      return !callback(quad);\n    }, subject, predicate, object, graph);\n    return some && every;\n  }\n\n  // ### `some` executes the callback on all quads,\n  // and returns `true` if it returns truthy for any of them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  some(callback, subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    predicate = predicate && termToId(predicate);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    var graphs = this._getGraphs(graph), content,\n        ids = this._ids, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return false;\n\n    for (var graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId) {\n          // If subject and object are given, the object index will be the fastest\n            if (this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                                  'object', 'subject', 'predicate', graphId, callback, null))\n              return true;\n          }\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            if (this._findInIndex(content.subjects, subjectId, predicateId, null,\n                                  'subject', 'predicate', 'object', graphId, callback, null))\n              return true;\n        }\n        else if (predicateId) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          if (this._findInIndex(content.predicates, predicateId, objectId, null,\n                                'predicate', 'object', 'subject', graphId, callback, null)) {\n            return true;\n          }\n        }\n        else if (objectId) {\n          // If only object is given, the object index will be the fastest\n          if (this._findInIndex(content.objects, objectId, null, null,\n                                'object', 'subject', 'predicate', graphId, callback, null)) {\n            return true;\n          }\n        }\n        else\n        // If nothing is given, iterate subjects and predicates first\n        if (this._findInIndex(content.subjects, null, null, null,\n                              'subject', 'predicate', 'object', graphId, callback, null)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // ### `getSubjects` returns all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getSubjects(predicate, object, graph) {\n    var results = [];\n    this.forSubjects(function (s) { results.push(s); }, predicate, object, graph);\n    return results;\n  }\n\n  // ### `forSubjects` executes the callback on all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forSubjects(callback, predicate, object, graph) {\n    // Convert terms to internal string representation\n    predicate = predicate && termToId(predicate);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, predicateId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (predicateId) {\n          if (objectId)\n            // If predicate and object are given, the POS index is best.\n            this._loopBy2Keys(content.predicates, predicateId, objectId, callback);\n          else\n            // If only predicate is given, the SPO index is best.\n            this._loopByKey1(content.subjects, predicateId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the OSP index is best.\n          this._loopByKey0(content.objects, objectId, callback);\n        else\n          // If no params given, iterate all the subjects\n          this._loop(content.subjects, callback);\n      }\n    }\n  }\n\n  // ### `getPredicates` returns all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getPredicates(subject, object, graph) {\n    var results = [];\n    this.forPredicates(function (p) { results.push(p); }, subject, object, graph);\n    return results;\n  }\n\n  // ### `forPredicates` executes the callback on all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forPredicates(callback, subject, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, subjectId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject) && !(subjectId = ids[subject]) ||\n        isString(object)  && !(objectId  = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the OSP index is best.\n            this._loopBy2Keys(content.objects, objectId, subjectId, callback);\n          else\n            // If only subject is given, the SPO index is best.\n            this._loopByKey0(content.subjects, subjectId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the POS index is best.\n          this._loopByKey1(content.predicates, objectId, callback);\n        else\n          // If no params given, iterate all the predicates.\n          this._loop(content.predicates, callback);\n      }\n    }\n  }\n\n  // ### `getObjects` returns all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getObjects(subject, predicate, graph) {\n    var results = [];\n    this.forObjects(function (o) { results.push(o); }, subject, predicate, graph);\n    return results;\n  }\n\n  // ### `forObjects` executes the callback on all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forObjects(callback, subject, predicate, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    predicate = predicate && termToId(predicate);\n    graph = graph && termToId(graph);\n\n    var ids = this._ids, graphs = this._getGraphs(graph), content, subjectId, predicateId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject]) ||\n        isString(predicate) && !(predicateId = ids[predicate]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (predicateId)\n            // If subject and predicate are given, the SPO index is best.\n            this._loopBy2Keys(content.subjects, subjectId, predicateId, callback);\n          else\n            // If only subject is given, the OSP index is best.\n            this._loopByKey1(content.objects, subjectId, callback);\n        }\n        else if (predicateId)\n          // If only predicate is given, the POS index is best.\n          this._loopByKey0(content.predicates, predicateId, callback);\n        else\n          // If no params given, iterate all the objects.\n          this._loop(content.objects, callback);\n      }\n    }\n  }\n\n  // ### `getGraphs` returns all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getGraphs(subject, predicate, object) {\n    var results = [];\n    this.forGraphs(function (g) { results.push(g); }, subject, predicate, object);\n    return results;\n  }\n\n  // ### `forGraphs` executes the callback on all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forGraphs(callback, subject, predicate, object) {\n    for (var graph in this._graphs) {\n      this.some(function (quad) {\n        callback(quad.graph);\n        return true; // Halt iteration of some()\n      }, subject, predicate, object, graph);\n    }\n  }\n\n  // ### `createBlankNode` creates a new blank node, returning its name\n  createBlankNode(suggestedName) {\n    var name, index;\n    // Generate a name based on the suggested name\n    if (suggestedName) {\n      name = suggestedName = '_:' + suggestedName, index = 1;\n      while (this._ids[name])\n        name = suggestedName + index++;\n    }\n    // Generate a generic blank node name\n    else {\n      do { name = '_:b' + this._blankNodeIndex++; }\n      while (this._ids[name]);\n    }\n    // Add the blank node to the entities, avoiding the generation of duplicates\n    this._ids[name] = ++this._id;\n    this._entities[this._id] = name;\n    return this._factory.blankNode(name.substr(2));\n  }\n\n  // ### `extractLists` finds and removes all list triples\n  // and returns the items per list.\n  extractLists({ remove = false, ignoreErrors = false } = {}) {\n    var lists = {}; // has scalar keys so could be a simple Object\n    var onError = ignoreErrors ? (() => true) :\n                  ((node, message) => { throw new Error(`${node.value} ${message}`); });\n\n    // Traverse each list from its tail\n    var tails = this.getQuads(null, namespaces.rdf.rest, namespaces.rdf.nil, null);\n    var toRemove = remove ? [...tails] : [];\n    tails.forEach(tailQuad => {\n      var items = [];             // the members found as objects of rdf:first quads\n      var malformed = false;      // signals whether the current list is malformed\n      var head;                   // the head of the list (_:b1 in above example)\n      var headPos;                // set to subject or object when head is set\n      var graph = tailQuad.graph; // make sure list is in exactly one graph\n\n      // Traverse the list from tail to end\n      var current = tailQuad.subject;\n      while (current && !malformed) {\n        var objectQuads = this.getQuads(null, null, current, null);\n        var subjectQuads = this.getQuads(current, null, null, null);\n        var i, quad, first = null, rest = null, parent = null;\n\n        // Find the first and rest of this list node\n        for (i = 0; i < subjectQuads.length && !malformed; i++) {\n          quad = subjectQuads[i];\n          if (!quad.graph.equals(graph))\n            malformed = onError(current, 'not confined to single graph');\n          else if (head)\n            malformed = onError(current, 'has non-list arcs out');\n\n          // one rdf:first\n          else if (quad.predicate.value === namespaces.rdf.first) {\n            if (first)\n              malformed = onError(current, 'has multiple rdf:first arcs');\n            else\n              toRemove.push(first = quad);\n          }\n\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (rest)\n              malformed = onError(current, 'has multiple rdf:rest arcs');\n            else\n              toRemove.push(rest = quad);\n          }\n\n          // alien triple\n          else if (objectQuads.length)\n            malformed = onError(current, 'can\\'t be subject and object');\n          else {\n            head = quad; // e.g. { (1 2 3) :p :o }\n            headPos = 'subject';\n          }\n        }\n\n        // { :s :p (1 2) } arrives here with no head\n        // { (1 2) :p :o } arrives here with head set to the list.\n        for (i = 0; i < objectQuads.length && !malformed; ++i) {\n          quad = objectQuads[i];\n          if (head)\n            malformed = onError(current, 'can\\'t have coreferences');\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (parent)\n              malformed = onError(current, 'has incoming rdf:rest arcs');\n            else\n              parent = quad;\n          }\n          else {\n            head = quad; // e.g. { :s :p (1 2) }\n            headPos = 'object';\n          }\n        }\n\n        // Store the list item and continue with parent\n        if (!first)\n          malformed = onError(current, 'has no list head');\n        else\n          items.unshift(first.object);\n        current = parent && parent.subject;\n      }\n\n      // Don't remove any quads if the list is malformed\n      if (malformed)\n        remove = false;\n      // Store the list under the value of its head\n      else if (head)\n        lists[head[headPos].value] = items;\n    });\n\n    // Remove list quads if requested\n    if (remove)\n      this.removeQuads(toRemove);\n    return lists;\n  }\n}\n\n// Determines whether the argument is a string\nfunction isString(s) {\n  return typeof s === 'string' || s instanceof String;\n}\n","// **N3Util** provides N3 utility functions.\n\nimport N3DataFactory from './N3DataFactory';\n\n// Tests whether the given term represents an IRI\nexport function isNamedNode(term) {\n  return !!term && term.termType === 'NamedNode';\n}\n\n// Tests whether the given term represents a blank node\nexport function isBlankNode(term) {\n  return !!term && term.termType === 'BlankNode';\n}\n\n// Tests whether the given term represents a literal\nexport function isLiteral(term) {\n  return !!term && term.termType === 'Literal';\n}\n\n// Tests whether the given term represents a variable\nexport function isVariable(term) {\n  return !!term && term.termType === 'Variable';\n}\n\n// Tests whether the given term represents the default graph\nexport function isDefaultGraph(term) {\n  return !!term && term.termType === 'DefaultGraph';\n}\n\n// Tests whether the given quad is in the default graph\nexport function inDefaultGraph(quad) {\n  return isDefaultGraph(quad.graph);\n}\n\n// Creates a function that prepends the given IRI to a local name\nexport function prefix(iri, factory) {\n  return prefixes({ '': iri }, factory)('');\n}\n\n// Creates a function that allows registering and expanding prefixes\nexport function prefixes(defaultPrefixes, factory) {\n  // Add all of the default prefixes\n  var prefixes = Object.create(null);\n  for (var prefix in defaultPrefixes)\n    processPrefix(prefix, defaultPrefixes[prefix]);\n  // Set the default factory if none was specified\n  factory = factory || N3DataFactory;\n\n  // Registers a new prefix (if an IRI was specified)\n  // or retrieves a function that expands an existing prefix (if no IRI was specified)\n  function processPrefix(prefix, iri) {\n    // Create a new prefix if an IRI is specified or the prefix doesn't exist\n    if (typeof iri === 'string') {\n      // Create a function that expands the prefix\n      var cache = Object.create(null);\n      prefixes[prefix] = function (local) {\n        return cache[local] || (cache[local] = factory.namedNode(iri + local));\n      };\n    }\n    else if (!(prefix in prefixes)) {\n      throw new Error('Unknown prefix: ' + prefix);\n    }\n    return prefixes[prefix];\n  }\n  return processPrefix;\n}\n","// **N3StreamParser** parses a text stream into a quad stream.\nimport N3Parser from './N3Parser';\nimport { Transform } from 'stream';\n\n// ## Constructor\nexport default class N3StreamParser extends Transform {\n  constructor(options) {\n    super({ decodeStrings: true });\n    this._readableState.objectMode = true;\n\n    // Set up parser with dummy stream to obtain `data` and `end` callbacks\n    var self = this, parser = new N3Parser(options), onData, onEnd;\n    parser.parse({\n      on: function (event, callback) {\n        switch (event) {\n        case 'data': onData = callback; break;\n        case 'end':   onEnd = callback; break;\n        }\n      },\n    },\n      // Handle quads by pushing them down the pipeline\n      function (error, quad) { error && self.emit('error', error) || quad && self.push(quad); },\n      // Emit prefixes through the `prefix` event\n      function (prefix, uri) { self.emit('prefix', prefix, uri); }\n    );\n\n    // Implement Transform methods through parser callbacks\n    this._transform = function (chunk, encoding, done) { onData(chunk); done(); };\n    this._flush = function (done) { onEnd(); done(); };\n  }\n\n  // ### Parses a stream of strings\n  import(stream) {\n    var self = this;\n    stream.on('data',  function (chunk) { self.write(chunk); });\n    stream.on('end',   function ()      { self.end(); });\n    stream.on('error', function (error) { self.emit('error', error); });\n    return this;\n  }\n}\n","// **N3StreamWriter** serializes a quad stream into a text stream.\nimport { Transform } from 'stream';\nimport N3Writer from './N3Writer';\n\n// ## Constructor\nexport default class N3StreamWriter extends Transform {\n  constructor(options) {\n    super({ encoding: 'utf8' });\n    this._writableState.objectMode = true;\n\n    // Set up writer with a dummy stream object\n    var self = this;\n    var writer = this._writer = new N3Writer({\n      write: function (quad, encoding, callback) { self.push(quad); callback && callback(); },\n      end: function (callback) { self.push(null); callback && callback(); },\n    }, options);\n\n    // Implement Transform methods on top of writer\n    this._transform = function (quad, encoding, done) { writer.addQuad(quad, done); };\n    this._flush = function (done) { writer.end(done); };\n  }\n\n// ### Serializes a stream of quads\n  import(stream) {\n    var self = this;\n    stream.on('data',   function (quad)  { self.write(quad); });\n    stream.on('end',    function ()      { self.end(); });\n    stream.on('error',  function (error) { self.emit('error', error); });\n    stream.on('prefix', function (prefix, iri) { self._writer.addPrefix(prefix, iri); });\n    return this;\n  }\n}\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar N3 = _interopRequireWildcard(require(\"n3\"));\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SparqlEndpoint = /*#__PURE__*/function () {\n  function SparqlEndpoint(uri) {\n    var logQueries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, SparqlEndpoint);\n\n    this._uri = uri;\n    this._logQueries = logQueries;\n  }\n\n  _createClass(SparqlEndpoint, [{\n    key: \"getSparqlResultSet\",\n    value: function getSparqlResultSet(query) {\n      var fetchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this._logQueries) console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return (0, _nodeFetch[\"default\"])(this._uri + \"?query=\" + encodedQuery, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n        headers: {\n          accept: \"application/sparql-results+json\"\n        }\n      })).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.json();\n        }\n      });\n    }\n  }, {\n    key: \"getSparqlRDF\",\n    value: function getSparqlRDF(query) {\n      var fetchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var parser = new N3.Parser();\n      if (this._logQueries) console.log(query);\n      var encodedQuery = encodeURIComponent(query);\n      return (0, _nodeFetch[\"default\"])(this._uri + \"?query=\" + encodedQuery, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n        headers: {\n          accept: \"text/turtle\"\n        }\n      })).then(function (response) {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.text();\n        }\n      }).then(function (text) {\n        return parser.parse(text);\n      });\n    }\n  }]);\n\n  return SparqlEndpoint;\n}();\n\nexports[\"default\"] = SparqlEndpoint;\nmodule.exports = exports.default;\n//# sourceMappingURL=SparqlEndpoint.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _awesomplete = _interopRequireDefault(require(\"awesomplete\"));\n\nvar _sparqlClient = _interopRequireDefault(require(\"@retog/sparql-client\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Prefixplete = /*#__PURE__*/function () {\n  function Prefixplete(input) {\n    var _this = this;\n\n    var sparqlEndpoint = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _sparqlClient[\"default\"](\"https://mtp.linked.solutions/sparql\");\n    var prefixGraphPrefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"https://mtp.linked.solutions/\";\n\n    _classCallCheck(this, Prefixplete);\n\n    if (sparqlEndpoint.getSparqlResultSet) {\n      this._sparqlEndpoint = sparqlEndpoint;\n    } else {\n      this._sparqlEndpoint = new _sparqlClient[\"default\"](sparqlEndpoint);\n    }\n\n    this._input = input;\n    this._prefixMappings = [];\n    var self = this;\n    var previousValue = input.value;\n    var prefixSuggestions = [];\n    var fullSuggestions = [];\n    var awesomplete = new _awesomplete[\"default\"](input);\n    awesomplete.maxItems = 15;\n    awesomplete.input.addEventListener(\"keyup\", function (e) {\n      if (input.value.length >= 2 && e.key !== \"Enter\" && input.value !== previousValue) {\n        populateSuggestions();\n      }\n\n      return true;\n    });\n    input.addEventListener(\"awesomplete-selectcomplete\", function (e) {\n      if (input.value.trim().split(\":\").length < 2 || input.value.trim().split(\":\")[1] === \"\") {\n        populateSuggestions();\n        awesomplete.open();\n      } else {\n        _this.lookup();\n      }\n    });\n\n    function getFullUri(prefixedUri) {\n      var splitup = prefixedUri.split(\":\"); //console.log(\"%cPrefixplete > getFullUri\", \"color: #4527a0\", splitup, prefixMappings);\n\n      var mapping = self._prefixMappings.find(function (m) {\n        return splitup[0] === m.prefix;\n      });\n\n      if (mapping) {\n        return mapping.uri + splitup[1];\n      } else {\n        return prefixedUri;\n      }\n    }\n\n    function getPrefixedUri(fullUri) {\n      var uri = self._getPrefixedUri(fullUri);\n\n      return uri != null ? uri : fullUri;\n    }\n\n    function populateSuggestions() {\n      if (input.value.toString().indexOf(\":\") === -1) {\n        previousValue = input.value;\n        getPrefixUrlSuggestions(input.value).then(function (_) {\n          awesomplete.list = prefixSuggestions.map(function (i) {\n            return i.display;\n          });\n          awesomplete.open();\n        });\n      } else {\n        previousValue = input.value;\n        var splitup = input.value.toString().split(\":\");\n        getFullSuggestions({\n          prefix: splitup[0],\n          url: getFullUri(input.value.toString())\n        }).then(function (_) {\n          awesomplete.list = fullSuggestions.map(function (i) {\n            return i.display !== i.prefix + \":\" ? i.display : undefined;\n          }); //console.log(\"%cPrefixplete > populateSuggestions\", \"color: #4527a0\", fullSuggestions.map(i => i.display !== i.prefix + \":\" ? i.display : undefined));\n\n          awesomplete.open();\n        });\n      }\n    }\n\n    function getPrefixUrlSuggestions(prefix) {\n      var query = \"PREFIX vann: <http://purl.org/vocab/vann/>\\n\" + \"SELECT ?prefix ?uri WHERE {\\n\" + \"    ?sub vann:preferredNamespacePrefix ?prefix ;\\n\" + \"         vann:preferredNamespaceUri ?uri .\\n\" + \"    FILTER ( REGEX (?prefix, \\\"\" + prefix + \"\\\") )\\n\" + \"}\\n\" + \"LIMIT 40\";\n      return self._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n        prefixSuggestions = json.results.bindings.map(function (binding) {\n          return {\n            prefix: binding.prefix.value,\n            display: binding.prefix.value + \":\",\n            uri: binding.uri.value\n          };\n        });\n        self._prefixMappings = self._prefixMappings.concat(prefixSuggestions);\n        return true;\n      });\n    }\n\n    function getFullSuggestions(prefix) {\n      //console.log(\"%cPrefixplete > getFullSuggestions\", \"color: #4527a0\", prefix);\n      var query = \"SELECT DISTINCT ?uri WHERE {\\n\" + \"  GRAPH <\" + prefixGraphPrefix + prefix.prefix + \"> {\\n\" + \"    ?uri ?p ?o .\\n\" + \"    FILTER ( REGEX ( STR(?uri), \\\"\" + prefix.url.replace(/\\./g, \"\\\\\\\\.\") + \"\\\") )\\n\" + \"  }\\n\" + \"}\\n\" + \"LIMIT 40\";\n      return self._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n        fullSuggestions = json.results.bindings.map(function (binding) {\n          return {\n            prefix: prefix.prefix,\n            display: getPrefixedUri(binding.uri.value),\n            uri: binding.uri.value\n          };\n        });\n        return true;\n      });\n    }\n  }\n\n  _createClass(Prefixplete, [{\n    key: \"_getPrefixedUri\",\n    value: function _getPrefixedUri(fullUri) {\n      var mapping = this._prefixMappings.find(function (m) {\n        return fullUri.startsWith(m.uri);\n      });\n\n      if (mapping) {\n        return fullUri.replace(mapping.uri, mapping.prefix + \":\");\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      var _this2 = this;\n\n      var prefixedUri = this._getPrefixedUri(value);\n\n      if (prefixedUri) {\n        this._input.value = prefixedUri;\n      } else {\n        this._input.value = value;\n        var query = \"PREFIX vann: <http://purl.org/vocab/vann/>\\n\" + \"SELECT DISTINCT ?prefix ?uri WHERE {\\n\" + \"    ?sub vann:preferredNamespacePrefix ?prefix ;\\n\" + \"         vann:preferredNamespaceUri ?uri .\\n\" + \"    FILTER ( REGEX (\\\"\" + value + \"\\\", \\\"^\\\" + str(?uri)) )\\n\" + \"}\\n\" + \"LIMIT 1\";\n        return this._sparqlEndpoint.getSparqlResultSet(query).then(function (json) {\n          if (json.results.bindings[0]) {\n            _this2._input.value = value.replace(json.results.bindings[0].uri.value, json.results.bindings[0].prefix.value + \":\");\n\n            _this2._prefixMappings.push({\n              'prefix': json.results.bindings[0].prefix.value,\n              'uri': json.results.bindings[0].uri.value\n            });\n          }\n\n          return true;\n        });\n      }\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup() {\n      this.action(this.value);\n    }\n  }, {\n    key: \"action\",\n    value: function action(value) {\n      console.log(\"%cPrefixplete.action(value)\", \"color: #4527a0\", \"Value \" + value + \" selected, overwrite Prefixplete.action(value) method to have something happen.\");\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      var splitup = this._input.value.toString().split(\":\");\n\n      var mapping = this._prefixMappings.find(function (m) {\n        return splitup[0] === m.prefix;\n      });\n\n      if (mapping && this._input.value.toString().indexOf(\":\") !== -1) {\n        return mapping.uri + splitup[1];\n      } else {\n        return this._input.value.toString();\n      }\n    },\n    set: function set(value) {\n      this.setValue(value);\n    }\n  }]);\n\n  return Prefixplete;\n}();\n\nexports[\"default\"] = Prefixplete;\n//# sourceMappingURL=prefixplete.js.map","<script>\n  import Factory from \"@rdfjs/data-model\";\n  import Prefixplete from \"prefixplete\";\n  import { onMount } from \"svelte\";\n\n  export let value;\n\n  let inputElement, prefixplete;\n\n  onMount(() => {\n    prefixplete = new Prefixplete(\n      inputElement,\n      \"https://ontologies.farewellutopia.com/sparql\",\n      \"https://ontologies.farewellutopia.com/\"\n    );\n\n    prefixplete.action = function() {\n      value = Factory.namedNode(prefixplete.value);\n    };\n    prefixplete.setValue(value.value);\n  });\n\n  function input(e) {\n    value = Factory.namedNode(prefixplete.value);\n  }\n  $: if(prefixplete) {\n     prefixplete.setValue(value.value);\n  }\n</script>\n\n<span>\n  <style>\n \n    .awesomplete > ul {\n      min-width: unset;\n    }\n    .awesomplete [hidden] {\n      display: none;\n    }\n\n    .awesomplete .visually-hidden {\n      position: absolute;\n      clip: rect(0, 0, 0, 0);\n    }\n\n    .awesomplete {\n      display: inline-block;\n      position: relative;\n    }\n\n    .awesomplete > input {\n      display: block;\n    }\n\n    .awesomplete > ul {\n      box-sizing: border-box;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    }\n\n    .awesomplete > ul:empty {\n      display: none;\n    }\n    /*from node_modules/awesomplete/awesomplete.css*/\n    .awesomplete [hidden] {\n      display: none;\n    }\n\n    .awesomplete .visually-hidden {\n      position: absolute;\n      clip: rect(0, 0, 0, 0);\n    }\n\n    .awesomplete {\n      display: inline-block;\n      position: relative;\n    }\n\n    .awesomplete > input {\n      display: block;\n    }\n\n    .awesomplete > ul {\n      position: absolute;\n      left: 0;\n      z-index: 1;\n      min-width: 100%;\n      box-sizing: border-box;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    }\n\n    .awesomplete > ul:empty {\n      display: none;\n    }\n\n    .awesomplete > ul {\n      border-radius: 0.3em;\n      margin: 0.2em 0 0;\n      background: hsla(0, 0%, 100%, 0.9);\n      background: linear-gradient(\n        to bottom right,\n        white,\n        hsla(0, 0%, 100%, 0.8)\n      );\n      border: 1px solid rgba(0, 0, 0, 0.3);\n      box-shadow: 0.05em 0.2em 0.6em rgba(0, 0, 0, 0.2);\n      text-shadow: none;\n    }\n\n    @supports (transform: scale(0)) {\n      .awesomplete > ul {\n        transition: 0.3s cubic-bezier(0.4, 0.2, 0.5, 1.4);\n        transform-origin: 1.43em -0.43em;\n      }\n\n      .awesomplete > ul[hidden],\n      .awesomplete > ul:empty {\n        opacity: 0;\n        transform: scale(0);\n        display: block;\n        transition-timing-function: ease;\n      }\n    }\n\n    /* Pointer */\n    .awesomplete > ul:before {\n      content: \"\";\n      position: absolute;\n      top: -0.43em;\n      left: 1em;\n      width: 0;\n      height: 0;\n      padding: 0.4em;\n      background: white;\n      border: inherit;\n      border-right: 0;\n      border-bottom: 0;\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n    }\n\n    .awesomplete > ul > li {\n      position: relative;\n      padding: 0.2em 0.5em;\n      cursor: pointer;\n    }\n\n    .awesomplete > ul > li:hover {\n      background: hsl(200, 40%, 80%);\n      color: black;\n    }\n\n    .awesomplete > ul > li[aria-selected=\"true\"] {\n      background: hsl(205, 40%, 40%);\n      color: white;\n    }\n\n    .awesomplete mark {\n      background: hsl(65, 100%, 50%);\n    }\n\n    .awesomplete li:hover mark {\n      background: hsl(68, 100%, 41%);\n    }\n\n    .awesomplete li[aria-selected=\"true\"] mark {\n      background: hsl(86, 100%, 21%);\n      color: inherit;\n    }\n  </style>\n  <input type=\"text\" bind:this={inputElement} on:input={input} />\n</span>\n","<script>\n  import Factory from \"@rdfjs/data-model\";\n  import HtmlEditor from \"./valueEditors/HtmlEditor.svelte\";\n  import SimpleLiteralEditor from \"./valueEditors/SimpleLiteralEditor.svelte\";\n  import NamedNodeEditor from \"./valueEditors/NamedNodeEditor.svelte\";\n  import BlankNodeEditor from \"./valueEditors/BlankNodeEditor.svelte\";\n\n  export let value;\n\n  function getType() {\n    const types = {\n      \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\": \"html\",\n      \"http://www.w3.org/2001/XMLSchema#string\": \"label\",\n      \"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\": \"langString\"\n    };\n    return value.termType === \"Literal\"\n      ? types[value.datatype.value]\n        ? types[value.datatype.value]\n        : \"literal\"\n      : value.termType === \"NamedNode\"\n      ? \"IRI\"\n      : value.termType === \"DefaultGraph\"\n      ? \"DefaultGraph\"\n      : \"BlankNode\";\n  }\n  $: type = getType(value);\n</script>\n\n<div class=\"f\" :key=\"type\">\n  {#if type === 'html'}\n    <HtmlEditor bind:value on:input />\n  {:else if type === 'IRI'}\n    <NamedNodeEditor bind:value on:input />\n  {:else if type === 'BlankNode'}\n    <BlankNodeEditor bind:value on:input />\n  {:else if type === 'label' || type === 'langString'}\n    <SimpleLiteralEditor bind:value on:input />\n  {:else}\n    <div v-else>No value editor for {type}</div>\n  {/if}\n</div>\n","<script>\n  import Factory from \"@rdfjs/data-model\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n\n  export let value;\n  export let termTypes = null;\n  let type = null;\n  const availableOptions = {\n    html: Factory.literal(\n      \"\",\n      Factory.namedNode(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\")\n    ),\n    label: Factory.literal(\"\"),\n    \"label with language\": Factory.literal(\"\", \"en\"),\n    IRI: Factory.namedNode(\"\"),\n    \"Blank Node\": Factory.blankNode(),\n    DefaultGraph: Factory.defaultGraph()\n  };\n\n  let options = termTypes\n    ? Object.fromEntries(\n        Object.entries(availableOptions).filter(\n          ([k, n]) => termTypes.indexOf(n.termType) > -1\n        )\n      )\n    : availableOptions;\n\n  const previousValues = new Map();\n\n  function typeSelected (event) {\n      console.log(\"this.termTypes: \",termTypes);\n      console.log(\"typeSelected: \",event);\n      console.log(\"this.type: \",type);\n      if (!type) {\n          return;\n      }\n      const previousValue = previousValues.get(type);\n      if (previousValue && previousValue.value.length > 0 \n              && window.confirm(\"Restoring previous value\")) { \n              value = previousValue;\n      } else {\n          console.log(\"maps to: \",options[(type)]);\n          value = options[type];\n      }\n  }\n\n  function reset() {\n    previousValues.set(compType(), value);\n    type = null;\n    value = null;\n  }\n\n  function compType () {\n        const types = {\n            \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\": \"html\",\n            \"http://www.w3.org/2001/XMLSchema#string\": \"label\",\n            \"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\": \"langString\"\n        };\n        return (\n            value !== null ?\n                value.termType === \"Literal\" ? \n                    types[value.datatype.value] ?\n                        types[value.datatype.value] : \"literal\"\n                : value.termType === \"NamedNode\" ? \"IRI\" \n                : value.termType === \"DefaultGraph\" ? \"DefaultGraph\"\n                : \"BlankNode\"\n                : null );\n    }\n</script>\n\n<style>\n  span {\n    display: flex;\n  }\n\n  svg {\n    height: 1em;\n  }\n</style>\n\n<div class=\"te\">\n  {#if !value}\n    <select bind:value={type} on:change={typeSelected}>\n      <option disabled value={null}>Select type</option>\n      {#each Object.keys(options) as option}\n        <option value={option}>{option}</option>\n      {/each}\n    </select>\n  {:else}\n    <span>\n      <button type=\"button\" class=\"icon\" on:click={reset}>\n        <svg viewBox=\"0 0 24 24\">\n          <path\n            fill=\"currentColor\"\n            d=\"M12,6L7,11H17L12,6M7,13L12,18L17,13H7Z\" />\n        </svg>\n      </button>\n      {#if value !== null}\n        <ExistingTermEditor bind:value on:input />\n      {/if}\n    </span>\n  {/if}\n</div>\n","<script>\n  import Factory from \"@rdfjs/data-model\";\n  import TermEditor from \"./TermEditor.svelte\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n\n  let subject, predicate, object, graph;\n  export let value;\n  export let labels = false;\n\n  $: elementChanged(subject);\n  $: elementChanged(predicate);\n  $: elementChanged(object);\n  $: elementChanged(graph);\n\n  $: valueChanged(value);\n\n  function valueChanged(v) {\n    subject = v ? v.subject : null;\n    predicate = value ? value.predicate : Factory.namedNode(\"\");\n    object = value ? value.object : null;\n    graph = value ? value.graph : null;\n  }\n\n  function elementChanged(val) {\n    if (subject && predicate && object && graph) {\n      value = Factory.quad(subject, predicate, object, graph);\n    }\n  }\n</script>\n\n<style>\n  .area {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto;\n    grid-gap: 0 1em;\n    gap: 0 1em;\n    align-items: start;\n    margin-bottom: 0.8rem;\n  }\n\n  .element {\n    display: flex;\n    align-items: left;\n    grid-row: 2/ span 1;\n    flex-grow: 4;\n  }\n\n  label {\n    grid-row: 1/ span 1;\n  }\n\n</style>\n\n<div class=\"area\">\n\n  {#if labels}\n    <label>Subject:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor bind:value={subject} termTypes=\"['BlankNode', 'NamedNode']\" />\n  </div>\n  {#if labels}\n    <label>Predicate:</label>\n  {/if}\n  <div class=\"element\">\n  <ExistingTermEditor bind:value={predicate} />\n  </div>\n  {#if labels}\n    <label>Object:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor\n    bind:value={object}\n    termTypes=\"['BlankNode', 'NamedNode', 'Literal']\" />\n  </div>\n  {#if labels}\n    <label>Graph:</label>\n  {/if}\n  <div class=\"element\">\n  <TermEditor\n    bind:value={graph}\n    termTypes=\"['BlankNode', 'NamedNode', 'DefaultGraph']\" />\n  </div>\n</div>\n","/**\n * provided methods to list, add, remove and replace quads\n */\nexport default class DatasetManager {\n    constructor(dataset, changeListener) {\n        this.dataset = dataset;\n        this.changeListener = changeListener;\n        this.previousHolders = new Map();\n    }\n    orderQuads(quads) {\n        let result = new Array();\n        let i = 0;\n        const currentHolders = new Map();\n        for (let quad of quads) {\n            let holder = this.previousHolders.get(quad);\n            const self = this;\n            if (!holder) {\n                holder = {\n                    id: \"\",\n                    get quad() {\n                        return quad;\n                    },\n                    set quad(q) {\n                        if (quad.equals(q)) {\n                            return;\n                        }\n                        self.previousHolders.delete(quad);\n                        self.dataset.delete(quad);\n                        if (q !== null) {\n                            self.dataset.add(q);\n                        }\n                        else {\n                            console.log(\"removing quad\");\n                        }\n                        quad = q;\n                        self.previousHolders.set(q, this);\n                        self.changeListener(self.dataset);\n                    }\n                };\n            }\n            this.previousHolders.set(quad, holder);\n            result.push(holder);\n        }\n        //previousHolders = currentHolders;\n        const sorted = result.sort((a, b) => {\n            function first(f) {\n                const fr = f();\n                const result = {\n                    then: function (t) {\n                        if (fr === 0) {\n                            return first(t);\n                        }\n                        else {\n                            return result;\n                        }\n                    },\n                    finally: function (t) {\n                        if (fr === 0) {\n                            return t();\n                        }\n                        else {\n                            return fr;\n                        }\n                    }\n                };\n                return result;\n            }\n            function compare(field) {\n                return () => {\n                    if (a.quad[field].value < b.quad[field].value) {\n                        return -1;\n                    }\n                    else {\n                        if (a.quad[field].value > b.quad[field].value) {\n                            return 1;\n                        }\n                        else {\n                            return 0;\n                        }\n                    }\n                };\n            }\n            return first(compare('graph'))\n                .then(compare('subject'))\n                .then(compare('predicate'))\n                .finally(compare('object'));\n        });\n        const zero = { id: 0 };\n        const max = sorted.reduce((previous, current) => previous.id > current.id ? previous : current, zero);\n        let j = max.id;\n        sorted.forEach(holder => {\n            if (!holder.id) {\n                holder.id = ++j;\n            }\n        });\n        //console.log(uuid, \"sorted\", JSON.stringify(sorted));\n        return sorted;\n    }\n    orderedQuads() {\n        return this.orderQuads(this.dataset);\n    }\n}\n","function isMatch (quad, subject, predicate, object, graph) {\n  if (subject && !quad.subject.equals(subject)) {\n    return false\n  }\n\n  if (predicate && !quad.predicate.equals(predicate)) {\n    return false\n  }\n\n  if (object && !quad.object.equals(object)) {\n    return false\n  }\n\n  if (graph && !quad.graph.equals(graph)) {\n    return false\n  }\n\n  return true\n}\n\nmodule.exports = isMatch\n","const isMatch = require('./isMatch')\n\nclass DatasetCore {\n  constructor (quads) {\n    this.quads = new Set()\n\n    if (quads) {\n      for (const quad of quads) {\n        this.quads.add(quad)\n      }\n    }\n  }\n\n  get size () {\n    return this.quads.size\n  }\n\n  add (quad) {\n    if (!this.has(quad)) {\n      this.quads.add(quad)\n    }\n\n    return this\n  }\n\n  delete (quad) {\n    for (const localQuad of this) {\n      if (isMatch(quad, localQuad.subject, localQuad.predicate, localQuad.object, localQuad.graph)) {\n        this.quads.delete(localQuad)\n\n        return this\n      }\n    }\n\n    return this\n  }\n\n  has (quad) {\n    for (const other of this) {\n      if (isMatch(other, quad.subject, quad.predicate, quad.object, quad.graph)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  match (subject, predicate, object, graph) {\n    const matches = new Set()\n\n    for (const quad of this) {\n      if (isMatch(quad, subject, predicate, object, graph)) {\n        matches.add(quad)\n      }\n    }\n\n    return new this.constructor(matches)\n  }\n\n  [Symbol.iterator] () {\n    return this.quads[Symbol.iterator]()\n  }\n}\n\nmodule.exports = DatasetCore\n","const rdf = require('@rdfjs/data-model')\nconst DatasetCore = require('./DatasetCore')\n\nfunction dataset (quads) {\n  return new DatasetCore(quads)\n}\n\nmodule.exports = Object.assign({ dataset }, rdf)\n","<script>\n  import DatasetManager from \"./DatasetUtils\";\n  import Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import QuadEditor from \"./QuadEditor.svelte\";\n\n  export let value;\n\n  let addingQuad = false;\n\n  let newQuad = null;\n\n  let dm = new DatasetManager(value, (ds) => value = value);\n\n  $: if (newQuad !== null) {\n    addNewQuad(newQuad);\n    newQuad = null;\n  }\n\n  $: orderedQuads = getOrderedQuads(value);\n\n  function addNewQuad(q) {\n    addingQuad = false;\n    value.add(q);\n    value = value;\n  }\n\n  function addQuad() {\n    newQuad = null;\n    addingQuad = true;\n  }\n\n  function getOrderedQuads() {\n    const r = dm.orderQuads(value);\n    return r;\n  }\n</script>\n\n<div>\n{#each orderedQuads as t (t.id)}\n  <span>\n    <QuadEditor bind:value={t.quad} />\n  </span>\n{/each}\n{#if addingQuad}\n  <div>\n    <QuadEditor bind:value={newQuad} />\n  </div>\n{:else}\n  <div>\n    <button on:click={addQuad}>Add quad</button>\n  </div>\n{/if}\n</div>\n","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n</script>\n\n\n<svg\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   width=\"{width}\" \n   height=\"{height}\" \n   viewBox=\"0 0 8.4666667 8.4666667\"\n   version=\"1.1\">\n  <defs\n     id=\"defs2\" />\n\n  <g\n     id=\"layer1\"\n     transform=\"translate(0,-288.53333)\">\n    <path\n       style=\"fill:#000000;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:12;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"M 26 4 C 25.089083 4.00132 24.294135 4.6180067 24.066406 5.5 L 23.998047 5.5 C 19.95638 5.5 16.849522 6.008625 14.240234 7.5742188 C 12.595355 8.5611358 11.175274 9.9916185 9.8398438 11.904297 C 9.2772665 11.649807 8.6582344 11.5 8.0019531 11.5 C 5.5225944 11.5 3.4980469 13.524536 3.4980469 16.003906 C 3.4980469 18.483276 5.5225944 20.5 8.0019531 20.5 C 8.6582735 20.5 9.2772403 20.349458 9.8398438 20.095703 C 11.17516 22.008206 12.595548 23.438979 14.240234 24.425781 C 16.849522 25.991375 19.95638 26.5 23.998047 26.5 L 24.064453 26.5 C 24.29236 27.382696 25.088355 27.999569 26 28 C 27.10457 28 28 27.10457 28 26 C 28 24.89543 27.10457 24 26 24 C 25.090207 24.000858 24.295631 24.615651 24.066406 25.496094 L 23.998047 25.496094 C 20.039714 25.496094 17.146571 25.004757 14.755859 23.570312 C 13.267346 22.677218 11.956801 21.368413 10.699219 19.578125 C 11.659023 18.851836 12.307278 17.755254 12.447266 16.498047 L 23.998047 16.498047 L 24.064453 16.498047 C 24.291616 17.381519 25.087792 17.99934 26 18 C 27.10457 18 28 17.10457 28 16 C 28 14.89543 27.10457 14 26 14 C 25.088519 14.0015 24.293385 14.619185 24.066406 15.501953 L 23.998047 15.501953 L 12.447266 15.501953 C 12.30562 14.246368 11.656176 13.150691 10.697266 12.423828 C 11.955396 10.632345 13.266656 9.3232203 14.755859 8.4296875 C 17.146571 6.9952812 20.039714 6.5039063 23.998047 6.5039062 L 24.064453 6.5039062 C 24.293858 7.3850521 25.08948 8.000031 26 8 C 27.10457 8.0000001 28 7.1045695 28 6 C 28 4.8954305 27.10457 3.9999999 26 4 z M 8.0019531 12.496094 C 9.9408719 12.496094 11.501953 14.064971 11.501953 16.003906 C 11.501953 17.942804 9.9408719 19.501953 8.0019531 19.501953 C 6.0630343 19.501953 4.5039063 17.942804 4.5039062 16.003906 C 4.5039062 14.064971 6.0630343 12.496094 8.0019531 12.496094 z \"\n       transform=\"matrix(0.26458333,0,0,0.26458333,0,288.53333)\"\n       id=\"path4573\" />\n    <path\n       style=\"fill:#ff2a2a;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:0.99999994;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 8.0019531,12.496094 c -1.9389188,0 -3.4980469,1.568877 -3.4980469,3.507812 10e-8,1.938898 1.5591281,3.498047 3.4980469,3.498047 1.9389188,0 3.4999999,-1.559149 3.4999999,-3.498047 0,-1.938935 -1.5610811,-3.507812 -3.4999999,-3.507812 z\"\n       transform=\"matrix(0.26458333,0,0,0.26458333,0,288.53333)\"\n       id=\"path4580\" />\n  </g>\n</svg>\n","<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n</script>\n\n\n<svg\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   width=\"{width}\" \n   height=\"{height}\" \n   viewBox=\"0 0 8.4666667 8.4666667\"\n   version=\"1.1\"\n   id=\"svg8\">\n  <defs\n     id=\"defs2\" />\n  \n  <g\n     id=\"layer1\"\n     transform=\"translate(0,-288.53333)\">\n    <path\n       style=\"fill:#000000;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:3.17499995;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 1.5875001,289.59166 c 0.2410134,3.5e-4 0.4513434,0.16352 0.5115967,0.39688 h 0.018087 c 1.0693578,0 1.8913806,0.13457 2.5817547,0.5488 0.4352076,0.26112 0.8109373,0.63961 1.1642699,1.14567 0.1488486,-0.0673 0.3126341,-0.10697 0.4862752,-0.10697 0.655997,0 1.1916585,0.53566 1.1916585,1.19166 0,0.656 -0.5356615,1.18959 -1.1916585,1.18959 -0.1736514,0 -0.3374197,-0.0398 -0.4862752,-0.10697 -0.3533024,0.50601 -0.7291134,0.88457 -1.1642699,1.14566 -0.6903741,0.41423 -1.5123969,0.54881 -2.5817547,0.54881 h -0.01757 c -0.0603,0.23354 -0.2709074,0.39676 -0.5121134,0.39687 -0.2922509,0 -0.5291667,-0.23691 -0.5291667,-0.52916 0,-0.29225 0.2369158,-0.52917 0.5291667,-0.52917 0.240716,2.3e-4 0.4509476,0.16289 0.5115967,0.39584 h 0.018087 c 1.047309,0 1.8127864,-0.13 2.4453289,-0.50953 0.3938358,-0.2363 0.7405841,-0.58258 1.0733193,-1.05626 -0.2539488,-0.19217 -0.4254663,-0.48231 -0.4625048,-0.81494 h -3.0561441 -0.01757 c -0.060103,0.23375 -0.2707584,0.39722 -0.5121134,0.39739 -0.2922509,0 -0.5291667,-0.23692 -0.5291667,-0.52917 0,-0.29225 0.2369158,-0.52916 0.5291667,-0.52916 0.2411626,3.9e-4 0.4515418,0.16382 0.5115967,0.39739 h 0.018087 3.0561441 c 0.037477,-0.33221 0.2093093,-0.62211 0.4630209,-0.81442 -0.3328802,-0.474 -0.6798178,-0.82037 -1.0738361,-1.05679 -0.6325425,-0.37952 -1.3980199,-0.50952 -2.4453289,-0.50952 h -0.01757 c -0.060697,0.23313 -0.271205,0.39584 -0.5121134,0.39584 -0.2922509,0 -0.5291667,-0.23692 -0.5291667,-0.52917 0,-0.29225 0.2369158,-0.52917 0.5291665,-0.52917 z m 4.7619831,2.24793 c -0.5130056,0 -0.9260416,0.4151 -0.9260416,0.92811 0,0.513 0.413036,0.92552 0.9260416,0.92552 0.5130056,0 0.9255249,-0.41252 0.9255249,-0.92552 0,-0.51301 -0.4125193,-0.92811 -0.9255249,-0.92811 z\"\n       id=\"path4573\" />\n    <path\n       style=\"fill:#ff2a2a;fill-opacity:0.99141636;fill-rule:nonzero;stroke:none;stroke-width:0.26458332;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:normal\"\n       d=\"m 6.3494832,291.83959 c 0.5130056,0 0.9255249,0.4151 0.9255249,0.92811 0,0.513 -0.4125193,0.92552 -0.9255249,0.92552 -0.5130056,0 -0.9260416,-0.41252 -0.9260416,-0.92552 0,-0.51301 0.413036,-0.92811 0.9260416,-0.92811 z\"\n       id=\"path4580\" />\n  </g>\n</svg>\n","<script>\nimport { createEventDispatcher } from 'svelte';\nimport SubjExpand from './images/SubjExpand.svelte';\nimport ObjExpand from './images/ObjExpand.svelte';\nconst dispatch = createEventDispatcher();\nexport let resource;\nfunction setSubject() {\n    dispatch(\"subject\", resource);\n}\nfunction setObject() {\n    dispatch(\"object\", resource);\n}\n\n</script>\n\n<style>\ndiv {\n  display: flex;\n  flex-shrink: 0;\n}\nbutton {\n  margin-left: .4em;\n}\n</style>\n\n<div>\n    <button class=\"icon\" on:click={setSubject}>\n        <SubjExpand size=\"1em\"/>\n    </button>\n    <button class=\"icon\" on:click={setObject}>\n        <ObjExpand size=\"1em\"/>\n    </button>\n</div>","<script>\n  import TermEditor from \"./TermEditor.svelte\";\n  import ExistingTermEditor from \"./ExistingTermEditor.svelte\";\n  import ResourceNavigator from \"./ResourceNavigator.svelte\";\n  import Factory from \"@rdfjs/data-model\";\n  import { createEventDispatcher } from \"svelte\";\n  const dispatch = createEventDispatcher();\n  export let value;\n  export let fixedSubject;\n  export let fixedObject;\n  export let fixedGraph;\n  export let labels = false;\n  let subject = value ? value.subject : fixedSubject ? fixedSubject : null;\n  let predicate = value ? value.predicate : Factory.namedNode(\"\");\n  let object = value ? value.object : fixedObject ? fixedObject : null;\n  let graph = value ? value.graph : fixedGraph ? fixedGraph : null;\n  const elementChanged = function (val) {\n    if (subject && predicate && object && graph) {\n      const newQuad = Factory.quad(subject, predicate, object, graph);\n      if (!value || !newQuad.equals(value)) {\n        console.log(\"new quad\", newQuad);\n        value = newQuad;\n      }\n    }\n  };\n  $: elementChanged(subject);\n  $: elementChanged(predicate);\n  $: elementChanged(object);\n  $: elementChanged(graph);\n  $: setElements(value);\n  function setElements(quad) {\n    if (quad !== null) {\n      subject = quad.subject;\n      predicate = quad.predicate;\n      object = quad.object;\n      graph = quad.graph;\n    }\n  }\n</script>\n\n<style>\n  .area {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: auto;\n    grid-gap: 0 1em;\n    gap: 0 1em;\n    align-items: start;\n    margin-bottom: 0.8rem;\n  }\n\n  .element {\n    display: flex;\n    align-items: left;\n    grid-row: 2/ span 1;\n    flex-grow: 4;\n  }\n\n  label {\n    grid-row: 1/ span 1;\n  }\n\n  .placeholder {\n    grid-row: 2/ span 1;\n    flex-grow: 1;\n  }\n</style>\n\n<div class=\"area\">\n  {#if !fixedSubject}\n    {#if labels}\n      <label>Subject:</label>\n    {/if}\n    <div class=\"element\">\n      <TermEditor bind:value={subject} termTypes={['BlankNode', 'NamedNode']} />\n      {#if subject && subject.termType !== 'Literal'}\n        <ResourceNavigator resource={subject} on:subject on:object />\n      {/if}\n    </div>\n  {:else}\n  <div class=\"placeholder\"></div>\n  {/if}\n  {#if labels}\n    <label>Predicate:</label>\n  {/if}\n  <div class=\"element\">\n    <ExistingTermEditor bind:value={predicate} />\n  </div>\n  {#if !fixedObject}\n    {#if labels}\n      <label>Object:</label>\n    {/if}\n    <div class=\"element\">\n      <TermEditor\n        bind:value={object}\n        termTypes={['BlankNode', 'NamedNode', 'Literal']} />\n      {#if object && object.termType !== 'Literal'}\n        <ResourceNavigator resource={object} on:subject on:object />\n      {/if}\n    </div>\n  {:else}\n  <div class=\"placeholder\"></div>\n  {/if}\n  {#if !fixedGraph}\n    <div class=\"element\">\n      <TermEditor\n        bind:value={graph}\n        termTypes={['BlankNode', 'NamedNode', 'DefaultGraph']} />\n    </div>\n  {/if}\n</div>\n","<script>\nimport SubjExpand from './images/SubjExpand.svelte';\nimport ObjExpand from './images/ObjExpand.svelte';\nimport BrowserRow from \"./BrowserRow.svelte\"\nimport Factory from \"@rdfjs/data-model\";\nimport DatasetManager from \"./DatasetUtils\";\nexport let value;\nexport let subject = null;\nlet subjectFilter = null;\nexport let object = null;\nlet objectFilter = null;\nexport let graph = null;\nlet graphFilter = null;\nlet newQuad = null;\nlet addingQuad = false;\nconst dm = new DatasetManager(value, (ds) => value = value);\nif (subject) {\n    if (typeof subject === \"string\") {\n        subjectFilter = Factory.namedNode(subject);\n    }\n    else {\n        subjectFilter = subject;\n    }\n}\nif (object) {\n    if (typeof object === \"string\") {\n        objectFilter = Factory.namedNode(object);\n    }\n    else {\n        objectFilter = object;\n    }\n}\nif (graph) {\n    if (typeof graph === \"string\") {\n        graphFilter = Factory.namedNode(graph);\n    }\n    else {\n        graphFilter = graph;\n    }\n}\n$: if (newQuad !== null) {\n    addNewQuad(newQuad);\n    newQuad = null;\n}\nlet orderedQuads;\n//value is just us so it reacts for that var\n$: orderedQuads = value || subjectFilter || objectFilter ? getOrderedQuads() : null;\nfunction addNewQuad(q) {\n    addingQuad = false;\n    value.add(q);\n    value = value;\n}\nfunction addQuad() {\n    newQuad = null;\n    addingQuad = true;\n}\nfunction getOrderedQuads() {\n    const result = dm.orderQuads(value.match(subjectFilter, undefined, objectFilter, graphFilter));\n    console.log(\"getOrderedQuads\", result);\n    return result;\n}\nfunction setSubject(event) {\n    objectFilter = null;\n    subjectFilter = event.detail;\n}\nfunction setObject(event) {\n    console.log(\"setobj\", event.detail);\n    objectFilter = event.detail;\n    subjectFilter = null;\n}\n\n</script>\n<style>\n .icon {\n     padding: .4rem;\n }\n\n</style>\n\n<div>\n    {#if subjectFilter}\n        <h2>\n            <button class=\"icon\" on:click={() => {\n                    objectFilter = subjectFilter;\n                    subjectFilter = null;\n                }}>\n                <ObjExpand size=\"1rem\"/>\n            </button>\n            {subjectFilter.value}\n            <SubjExpand size=\"2em\"/>\n        </h2>\n    {/if}\n    {#if objectFilter}\n        <h2 style=\"text-align: end;\">\n            <ObjExpand size=\"2em\"/>\n            {objectFilter.value}\n            <button class=\"icon\" on:click={() => {\n                subjectFilter = objectFilter;\n                objectFilter = null;\n            }}>\n            <SubjExpand size=\"1rem\"/>\n        </button>\n        </h2>\n    {/if}\n    {#each orderedQuads as t (t.id)}\n    <span>\n      <BrowserRow bind:value={t.quad} fixedSubject={subjectFilter} \n      fixedGraph={graphFilter} fixedObject={objectFilter}\n      on:subject={setSubject} on:object={setObject} />\n    </span>\n    {/each}\n    {#if addingQuad}\n        <div>\n            <BrowserRow bind:value={newQuad} fixedSubject={subjectFilter} \n            fixedGraph={graphFilter} fixedObject={objectFilter}/>\n        </div>\n    {:else}\n        <div>\n            <button on:click={addQuad}>Add attribute</button>\n        </div>\n    {/if}\n</div>","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import * as N3 from \"n3\";\n  import {link} from 'svelte-spa-router'\n  import {\n    DatasetBrowser,\n  } from \"rdfjs-svelte\";\n\n  global.setImmediate = function(f) {\n    setTimeout(f,0);\n  }\n  let dataset = Dataset.dataset([]);\n  const parser = new N3.Parser();\n\n  fetch(\"./tbbt.nt\")\n    .then((r) => r.text())\n    .then((t) => {\n      parser.parse(\n        t,\n        (error, quad, prefixes) => {\n          if (quad) {\n            console.log(JSON.stringify(quad));\n            dataset.add(quad);\n          }\n          else {\n            console.log(\"# Tjhjhl, folks!\", prefixes);\n            console.log(\"dataset\", dataset);\n            dataset = dataset;\n          }\n        }\n      );\n    });\n\n\n  $: console.log(\"dataset\", dataset);\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n\n  main {\n    padding: 1em;\n    margin: 0 auto;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n\n<main>\n  <h1>RDFJS-Svelte</h1>\n  <p>\n    <a href=\"https://svelte.dev/\">Svelte</a>\n    components to edit\n    <a href=\"http://rdf.js.org/\">RDFSJS</a>\n    objects such as Literals, NamedNodes and Datasets.\n  </p>\n  <p>\n    The sources are available on\n    <a href=\"https://github.com/linked-solutions/rdfjs-svelte\">GitHub</a>\n    .\n  </p>\n  <p>\n    Also check out\n    <a href=\"https://rdfjs-vue.linked.solutions/\">RDFSJS Vue</a>\n    which offers similar functionality for\n    <a href=\"https://vuejs.org/\">Vue</a>\n    instead of Svelte.\n  </p>\n  <p>Try out the Dataset Browser below or any component <a href=\"/components\" use:link>here</a>.</p>\n  <DatasetBrowser\n    bind:value={dataset}\n    subject=\"http://example.org/person/sheldon-cooper\"\n    graph={Factory.defaultGraph()} />\n</main>\n","<script>\n  import * as Factory from \"@rdfjs/data-model\";\n  import Dataset from \"@rdfjs/dataset\";\n  import { SimpleLiteralEditor, HtmlEditor, \n      BlankNodeEditor, NamedNodeEditor, \n      ExistingTermEditor, TermEditor,\n      QuadEditor, DatasetEditor, DatasetBrowser } from \"rdfjs-svelte\";\n  import {link} from 'svelte-spa-router'\n\n  let literal = Factory.literal(\n    \"My first literal\",\n    \"http://www.w3.org/2001/XMLSchema#string\"\n  );\n  let htmlLiteral = Factory.literal(\n    \"Hello <strong>world</strong>\",\n    \"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML\"\n  );\n  //$: console.log(\"htmlLiteral\", htmlLiteral);\n  let blankNode1 = Factory.blankNode();\n  let namedNode1 = Factory.namedNode(\"http://example.org/foo\");\n  let namedNode2 = Factory.namedNode(\"http://example.org/other\");\n  let newValue = null;\n  let newValue2 = null;\n  let quad1 = Factory.quad(Factory.namedNode(\"http://example.org/Alice\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Bob\"), Factory.defaultGraph());\n  //$: console.log(\"quad1\", quad1);\n  window.q1 = quad1;\n  let dataset = Dataset.dataset([Factory.quad(Factory.namedNode(\"http://example.org/Bill\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Berta\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Charlie\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Carl\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Carl\"), \n          Factory.namedNode(\"http://example.org/admires\"), \n          Factory.namedNode(\"http://example.org/Bill\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Berta\"), \n          Factory.namedNode(\"http://example.org/knows\"), \n          Factory.namedNode(\"http://example.org/Charlie\"), Factory.defaultGraph()),\n          Factory.quad(Factory.namedNode(\"http://example.org/Bill\"), \n          Factory.namedNode(\"http://example.org/loves\"), \n          Factory.namedNode(\"http://example.org/Alice\"), \n          Factory.namedNode(\"http://example.org/BillsSecrets\"))]);\n\n  $: console.log(\"dataset\", dataset);\n</script>\n\n<style>\n  main {\n    padding: 1em;\n    margin: 0 auto;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n\n<main>\n  <a href=\"/\" use:link>&lt;- back to entry page</a>\n  <h1>Demo of RDFJS-Svelte components</h1>\n  <p>\n  This page shows various components, many components are shown twice with the same variable to demonstrate reactivity.\n  </p>\n  <HtmlEditor bind:value={htmlLiteral} />\n  Same: <ExistingTermEditor bind:value={htmlLiteral} />\n  <hr>\n  <SimpleLiteralEditor bind:value={literal} />\n  Same: <ExistingTermEditor bind:value={literal} />\n  <hr>\n  <NamedNodeEditor bind:value={namedNode1} /><br />\n  Same: <ExistingTermEditor bind:value={namedNode1} />\n  <hr>\n  <BlankNodeEditor bind:value={blankNode1} />\n  same: <ExistingTermEditor bind:value={blankNode1} />\n  <hr>\n  <TermEditor bind:value={newValue} />\n  Same: <TermEditor bind:value={newValue} />\n  <hr>\n  Limited types:\n  <TermEditor bind:value={newValue2} termTypes=\"['BlankNode', 'NamedNode', 'DefaultGraph']\" />\n  <hr>\n  Existing resource:\n    <TermEditor bind:value={namedNode2} />\n<hr>\n  <QuadEditor bind:value={quad1} labels />\n  Same: <QuadEditor bind:value={quad1} />\n\n  <h2>Dataset</h2>\n  <DatasetEditor bind:value={dataset} />\n  <h2>Dataset Browser</h2>\n  <DatasetBrowser bind:value={dataset} \n  subject=\"http://example.org/Bill\" graph={Factory.defaultGraph()} />\n</main>\n","import Entry from './Entry.svelte'\nimport Components from './Components.svelte'\n\nconst routes = { \n  \n  '/':Entry,\n  '/index.html':Entry,\n  '/components': Components,\n  '*':Entry\n}\nexport { routes }","<script>\n  import Router from 'svelte-spa-router'\n  import { routes } from './routes'\n\n  document.title = 'RDFJS Svelte'\n</script>\n\n<Router {routes} />","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","set_store_value","ret","set","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","select_option","select","option","__value","selected","toggle_class","toggle","classList","HtmlTag","[object Object]","this","e","n","html","nodeName","t","h","innerHTML","Array","from","childNodes","current_component","set_current_component","get_current_component","Error","onMount","on_mount","createEventDispatcher","type","detail","createEvent","initCustomEvent","custom_event","slice","call","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","update","pop","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","outro_and_destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","Math","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","bind","index","props","undefined","bound","create_component","mount_component","new_on_destroy","map","filter","destroy_component","init","instance","create_fragment","not_equal","parent_component","prop_values","context","ready","rest","fill","make_dirty","hydrate","nodes","children","l","intro","SvelteComponent","$destroy","indexOf","splice","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","getLocation","hashPosition","window","location","href","substr","qsPosition","querystring","loc","$loc","link","hrefVar","tagName","toLowerCase","updateLink","updated","charAt","routes","prefix","RouteItem","path","_sveltesparouter","RegExp","pattern","keys","str","loose","tmp","ext","arr","split","shift","substring","regexparam","route","conditions","userData","_pattern","_keys","startsWith","matches","exec","out","routesList","componentParams","dispatch","dispatchNextTick","match","checkConditions","BlankNode","id","nextId","DefaultGraph","NamedNode","iri","Literal","language","datatype","stringDatatype","langStringDatatype","Quad","subject","predicate","object","graph","prototype","equals","other","termType","defaultGraphInstance","namedNode","literal","languageOrDatatype","defaultGraph","quad","Variable","DataFactory","blankNode","variable","triple","DatasetCore","quads","size","localQuad","isMatch","constructor","Symbol","iterator","assign","dataset","rdf","RDF","XSD","SWAP","xsd","decimal","boolean","double","integer","string","nil","langString","owl","sameAs","forSome","forAll","log","implies","namespaces","DEFAULTGRAPH","_blankNodeCounter","Term","lastIndexOf","atPos","datatypeString","ch","dtPos","super","toJSON","languageOrDataType","Number","isFinite","isInteger","isNaN","internal","Triple","fromId","factory","endPos","toId","term","fromCharCode","String","escapeSequence","escapeReplacements","\\","'","\"","f","~",".","-","!","$","&","(",")","*","+",",",";","=","/","?","#","@","%","illegalIriChars","lineModeRegExps","_iri","_unescapedIri","_simpleQuotedString","_langcode","_blank","_newline","_comment","_whitespace","_endOfFile","invalidRegExp","N3Lexer","_simpleApostropheString","_prefix","_prefixed","_variable","_number","_boolean","_keyword","_sparqlKeyword","_shortPredicates","_lineMode","lineMode","_n3Mode","n3","_comments","comments","_literalClosingPos","inputFinished","_input","outputComments","whiteSpaceMatch","comment","line","_line","test","firstChar","matchLength","inconclusive","_previousMarker","_unescape","reportSyntaxError","_parseLiteral","toUpperCase","token","previousToken","self","_syntaxError","item","replace","sequence","unicode4","unicode8","escapedChar","charCode","parseInt","replacement","error","opening","openingLength","closingPos","max","backslashCount","raw","lines","issue","err","tokens","_tokenizeToEnd","setImmediate","_pendingBuffer","setEncoding","on","Buffer","concat","blankNodePrefix","N3Parser","_contextStack","_graph","_setBase","baseIRI","initDataFactory","format","isTurtle","isTriG","isNTriples","isNQuads","isN3","isLineMode","_supportsNamedGraphs","_readPredicateOrNamedGraph","_readPredicate","_supportsQuads","_resolveRelativeIRI","_blankNodePrefix","_lexer","lexer","_explicitQuantifiers","explicitQuantifiers","fragmentPos","_base","_basePath","_baseRoot","_baseScheme","n3Mode","inverse","_inversePredicate","blankPrefix","_prefixes","quantified","_quantified","_subject","_predicate","_object","_error","_callback","_sparqlStyle","_readPrefix","_readBaseIRI","_readSubject","_readNamedGraphLabel","quantifier","_resolveIRI","_namedNode","_blankNode","_saveContext","_readBlankNodeHead","RDF_NIL","_readListItem","_readPunctuation","N3_FORSOME","_quantifier","_readQuantifierList","N3_FORALL","_literalValue","_completeSubjectLiteral","_literal","_readEntity","_getPathReader","ABBREVIATIONS","_readBlankNodeTail","_readObject","_readDataTypeOrLang","_getContextEndReader","_readGraph","_readBlankNodePunctuation","_emit","_restoreContext","_readPredicateAfterBlank","previousList","stack","parent","RDF_FIRST","_readListItemDataTypeOrLang","RDF_REST","_completeObjectLiteral","_completeLiteral","listItem","completed","_readCallback","inversePredicate","_readFormulaTail","_readInTopContext","_readQuadPunctuation","_readPrefixIRI","prefixNode","_prefixCallback","_readDeclarationPunctuation","_readNamedGraphBlankLabel","entity","QUANTIFIERS_GRAPH","_readQuantifierPunctuation","afterPath","_afterPath","_readPath","_readForwardPath","_readBackwardPath","contextStack","_quad","message","_removeDotSegments","pathStart","segmentStart","quadCallback","prefixCallback","tokenize","every","parser",">","EventHandlers","EventEmitter","$getMaxListeners","that","_maxListeners","defaultMaxListeners","emitNone","isFn","len","listeners","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","args","apply","_addListener","listener","prepend","events","existing","TypeError","_events","newListener","emit","_eventsCount","unshift","warned","w","emitter","count","console","warn","_onceWrap","fired","g","removeListener","arguments","listenerCount","evlistener","copy","defaultSetTimout","defaultClearTimeout","N3DataFactory","usingDomains","domain","active","getPrototypeOf","setMaxListeners","getMaxListeners","er","doError","domainEmitter","domainThrown","addListener","prependListener","once","prependOnceListener","position","originalListener","k","spliceOne","removeAllListeners","unwrapListeners","eventNames","Reflect","ownKeys","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","global","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","nextTick","Item","array","ctor","superCtor","super_","enumerable","configurable","TempCtor","formatRegExp","isString","objects","inspect","join","x","JSON","stringify","isNull","isObject","deprecate","msg","isUndefined","process","debugEnviron","debugs","obj","opts","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","isFunction","primitive","simple","arg","formatPrimitive","visibleKeys","hash","val","idx","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","toString","isDate","Date","ar","output","base","braces","toUTCString","hasOwnProperty","formatProperty","formatArray","reduce","prev","cur","reduceToSingleString","desc","getOwnPropertyDescriptor","re","objectToString","origin","prop","bold","italic","underline","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","null","date","regexp","revLookup","Arr","Uint8Array","code","charCodeAt","encodeChunk","uint8","end","num","fromByteArray","extraBytes","parts","len2","read","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","pow","write","rt","floor","LN2","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","RangeError","__proto__","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","internalIsBuffer","checked","fromObject","assertSize","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64.fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","poolSize","_augment","alloc","allocUnsafeSlow","isBuffer","isFastBuffer","readFloatLE","isSlowBuffer","compare","y","pos","swap16","swap32","swap64","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","b64","placeHolders","L","base64.toByteArray","trim","stringtrim","base64clean","src","dst","BufferList","head","tail","v","entry","isBufferEncoding","StringDecoder","assertEncoding","surrogateSize","detectIncompleteChar","utf16DetectIncompleteChar","base64DetectIncompleteChar","passThroughWrite","charBuffer","charReceived","charLength","charStr","available","cr","enc","Readable","ReadableState","debug","debuglog","stream","objectMode","Duplex","readableObjectMode","hwm","highWaterMark","defaultHwm","pipes","pipesCount","flowing","ended","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","_read","readableAddChunk","state","chunk","addToFront","chunkInvalid","emitReadable","onEofChunk","_e","skipAdd","maybeReadMore_","maybeReadMore","needMoreData","isPaused","howMuchToRead","computeNewHighWaterMark","emitReadable_","flow","nReadingNextTick","resume_","fromList","hasStrings","nb","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","nop","WriteReq","cb","WritableState","defineProperty","getBuffer","writableObjectMode","needDrain","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","_writableState","writecb","writelen","onwriteStateUpdate","pendingcb","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","corkedRequestsFree","CorkedRequest","Writable","_write","writev","_writev","doWrite","onwriteDrain","finishMaybe","holder","finish","prefinish","need","_this","nOrig","doRead","pipe","dest","pipeOpts","endFn","onend","onunpipe","ondrain","pipeOnDrain","cleanedUp","onclose","onfinish","onerror","ondata","increasedAwaitDrain","pause","unpipe","resume","dests","_i","ev","wrap","paused","method","_fromList","current","writeAfterEnd","valid","validChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","allowHalfOpen","onEndNT","TransformState","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","Transform","transform","_transform","_flush","done","ws","PassThrough","Stream","EE","source","_isStdio","didOnEnd","content","lang","Factory","command","execCommand","getTagsRecursive","tags","tag","textAlign","color","backgroundColor","_tag","saveRange","editor","documentSelection","getSelection","range","rangeCount","rangeStart","savedRange","getRangeAt","createRange","selectNodeContents","setEnd","startContainer","startOffset","metaRange","restoreRange","charIndex","nodeStack","foundStart","nodeType","nextCharIndex","setStart","cn","removeAllRanges","addRange","removeBlockTagsRecursive","elements","tagsToRemove","some","wrapper","docFrag","createDocumentFragment","firstChild","child","replaceChild","unwrap","getActionBtns","actions","action","removeBadTags","badTag","isEditorClick","editorWrapper","parentElement","linkSvg","viewHtml","icon","title","refs","references","actionObj","helper","showEditor","display","disabled","actionBtns","undo","redo","u","strike","sup","h1","h2","blockquote","ol","ul","hr","left","right","center","justify","selection","focusNode","actionBtn","modal","$set","show","label","$on","image","forecolor","colorPicker","showColorPicker","backcolor","removeFormat","removeFormatTags","cmd","preventDefault","dispatcher","confirm","cancel","focus","btns","close","selectColor","btn","getBtns","createStateStore","editors","height","foreColor","backColor","foreColorModal","backColorModal","blurActive","contextKey","$state","userActions","newActions","getNewActionObj","defaultActions","getHtml","getText","setHtml","_btnClicked","$references","_handleButtonStatus","clearBtns","_onPaste","clipboardData","getData","cleanHtml","_onChange","_documentClick","$helper","_exec","sanitize","innerText","_saveRange","_restoreRange","setContext","me","isOpened","properties","initial","attrValue","Function","configure","minChars","maxItems","autoFirst","DATA","FILTER_CONTAINS","sort","SORT_BYLENGTH","container","CONTAINER","ITEM","REPLACE","tabSelect","hidden","role","inside","status","className","aria-live","aria-atomic","textContent","evaluate","blur","reason","keydown","evt","keyCode","opened","form","submit","mousedown","click","li","button","hasAttribute","all","Suggestion","_list","items","el","activeElement","fire","open","goto","unbind","indexOfAwesomplete","previous","lis","scrollTop","offsetTop","clientHeight","suggestions","originalEvent","siblingIndex","suggestion","regExpEscape","FILTER_STARTSWITH","around","item_id","aria-selected","valueOf","expr","con","querySelector","querySelectorAll","ref","initEvent","dispatchEvent","previousElementSibling","Awesomplete","Document","readyState","module","exports","promise","queueMicrotask","catch","invalid","replaced","termFromId","termToId","escape","escapeAll","escapedCharacters","\t","\n","\r","\b","\f","SerializedTerm","N3Writer","outputStream","_prefixRegex","_lists","lists","_outputStream","_endStream","_writeQuad","_writeQuadLine","_prefixIRIs","prefixes","addPrefixes","_inDefaultGraph","_encodeIriOrBlank","_encodeObject","_encodePredicate","_prefixMatch","quadToString","characterReplacer","prefixMatch","_encodeLiteral","addQuad","prefixIRIs","hasPrefixes","IRIlist","prefixList","prefixIRI","contents","_blockedWrite","singleDone","character","isDefaultGraph","defaultPrefixes","processPrefix","cache","_size","_graphs","_id","_ids","_entities","_blankNodeIndex","_factory","addQuads","subjects","graphs","graphKey","subjectKey","predicateKey","index0","key0","key1","key2","index1","index2","existed","name0","name1","name2","entityKeys","value0","entity0","value1","entity1","uniqueIds","entities","graphItem","predicates","freeze","ids","changed","_addToIndex","_removeFromIndex","removeQuad","remove","removeMatches","subjectId","predicateId","objectId","_getGraphs","graphId","_findInIndex","getQuads","_countInIndex","results","forSubjects","_uniqueEntities","_loopBy2Keys","_loopByKey1","_loopByKey0","_loop","forPredicates","forObjects","forGraphs","suggestedName","ignoreErrors","onError","tails","toRemove","tailQuad","headPos","malformed","objectQuads","subjectQuads","removeQuads","onData","onEnd","parse","uri","writer","_writer","addPrefix","getGlobal","fetch","Headers","Request","Response","_typeof","N3","__esModule","default","_getRequireWildcardCache","newObj","hasPropertyDescriptor","_interopRequireWildcard","require$$0","_nodeFetch","require$$1","WeakMap","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","Constructor","_defineProperties","descriptor","SparqlEndpoint","logQueries","_uri","_logQueries","protoProps","staticProps","query","fetchOptions","encodedQuery","encodeURIComponent","headers","accept","response","ok","json","Parser","_awesomplete","_interopRequireDefault","_sparqlClient","Prefixplete","sparqlEndpoint","prefixGraphPrefix","getSparqlResultSet","_sparqlEndpoint","_prefixMappings","previousValue","prefixSuggestions","fullSuggestions","awesomplete","getFullUri","prefixedUri","splitup","mapping","find","getPrefixedUri","fullUri","_getPrefixedUri","populateSuggestions","getPrefixUrlSuggestions","getFullSuggestions","url","bindings","binding","_this2","setValue","inputElement","prefixplete","types","http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML","http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","getType","termTypes","availableOptions","label with language","IRI","Blank Node","fromEntries","entries","previousValues","compType","selected_option","labels","elementChanged","valueChanged","DatasetManager","changeListener","previousHolders","q","sorted","field","fr","finally","orderQuads","addingQuad","newQuad","dm","ds","orderedQuads","width","resource","fixedSubject","fixedObject","fixedGraph","setElements","subjectFilter","objectFilter","graphFilter","getOrderedQuads","Factory.defaultGraph","Dataset","N3.Parser","Factory.literal","htmlLiteral","blankNode1","namedNode1","Factory.namedNode","namedNode2","newValue","newValue2","quad1","Factory.quad","q1","Entry","/index.html","/components","body"],"mappings":"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"}